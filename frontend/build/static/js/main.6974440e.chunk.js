/*! For license information please see main.6974440e.chunk.js.LICENSE.txt */
(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{288:function(e){e.exports=JSON.parse('{"a":"Whats Painel","b":"2.1.8"}')},448:function(e,t,r){e.exports=r.p+"static/media/sound.9fd5812c.mp3"},454:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKgAAAArCAYAAADsb8PCAAARHklEQVR4nO1cC3BU13n+zt2nHkgIMIhXJAvbYJfEtQV1XFzbw4gZqROn0wZUZ9Jm4jYjtXlMWqCVMp2OO02bSGNpJuMwcVGc5tE4TqV2kjbOQKytQxM7tQmbFpeagGEBB8kgBCuQ2Pe9t3Pu/mf179FdaVfgThrux2iQ7p73+f7nOXfhwYMHDx4WCSGrHTtvu9YO+YFjY3H89jP/Cvh9VLoAP4CNAO4FcAeADQDqqM0ZAGcAnAZwFMAbANKFmkIA0wk8+0Q7tr97PRJp98H/ylpvW29FCDFLNP8i5n83gMcBPAbgHsnjBcpnAbwJ4ACAbwE4cqtvgIfysSBBHd1qWYAl7oHAnwHoBFBdQR8BIrL8+RSA70CIp2BZh23bXXN78KBQiqBSK9baNiyfIQL1NeE/gBCfhhB1N7hysr+dEHi/bdlf8Pv9A7btmH4DQAJA0tsZDxy6DyoJ1BsO40N+H2qlAs2aCFxNmo2A7oLeGCwbqKvyTYT8SMOGYdpIpFL4rm3jSfJhPR/0FsV8Puhuvx+feTV6AufHJ+DzGQ4p/T6jrJWyrDzRDaM8KpuWvdKSatq0sGL5UjzYunk3hAjaNj55q2+Shzw4QX3hEB4//J9vovcz+5HN5WAY5RMzlcqiLlwDn2FgKjmDQNCA3+crq770ReXPX+7+CDq2378zmXK06BVvjzxwgoZ9PtS/NTYB07KwpLa8OEhqQGEZ+MPHW7HxvdXw+QUmTwp89RuvIZ6YQcBfHkkTiRTOj1+SGagaAEs8gnoABSccls/nK9tES6TTOfzezq1o+f1pHGp4AcPBr+PSI6/ijz7xAHzwo9xIXfodvrwrYavkgQcPDiNkQl7+CFEZMaSmXbdsBWrfO4VEIotHqx/F+fgkXjzzY2TvGUPr3U1IZ3IVL3JtGHZd1S2/N7c8oEz8GxemICDMTWvq/KKCUF1qx+pQCCmRxCtv/wQfXPM7eHTZNlxMT2AyO4m62sZC4FQOpBa1bBhfeumYPTWTxBef2Fp2PYmm9oEWALsAtAFoBdBARSIyf3vu4N64XrepfaALQB+V7T93cG+vS5kGak8i6tZOpaCxyp/YuYN7YzfYVgPNWf00sLnLsY7Q3G6on3cKkkfNHYNdNOYYjdeBo0F/65nv4ne/9L0HLk7n1geM8nxGCRkQjV++gtqLjTh+/QSGTn8D76m9B81167Bsah3++8QYQsHyD6sMIZDMoGbfoaPbnvn+T8qu19Q+0NrUPjBMR6t9NElJSEHkbCPi6vX2A+hiC9LT1D7Q5tKFLDcKYPgmkbOBxjpK/S+2HTXvKzRG2a4UsC009y1SoKiPIyQUi+mnh9bqHUFzx2Abjb9Pbz/PHpnqse2PVHr0Kd1L4QPuWLYOn6jtxv+kjuPg5L/hNwKP4D++mcD4lcsIhwOVzknU1oQ/Om2a/1hO4eaOQTmpHvrTTVMqzedGrJFzB/d2I78Ju2iDW6kd0HNO7jnadZFQmy3H1F9pE0TwPkbuITk2XXjOHdwbbWof6CQCN1D5iubAhFii+ybNX4daj8jZA3tGhNhb+DhPSCFWGkK8j1eSpvl6Mk1BDrf7tqM5a6pDzp0Pww987SuvYepSCmvXtmBpyI9vnTyD2MULqJLkzGYWHp5/jlw8DNs58z9eqkpzx6Bc8GHSjhJDimwKUvJpY+LnDu4dYc9H6XmEkbFB74OgpFqa9qGFJzM/pNbjhK9UI5MgKW0ZJ4GMsM+UsO6QbcufpvYBVb3UHOfriwvBTQftkdLsc4RHMUM6eyvUw3yaKYwnPvAQamvCsORZPEFG2j8fv4zvRP7LIW46ncGrFzMwlq/GG1M5h9DBFetQ1diUj7jmc0FFXg2L8TNA8jL/JAjggVIEJXKOMu3o6juyzSpoKfI5Fal7MUsahahWtpWXvQlQ2qJiwtNmKoFxsxaKuCPqueayVOqDqvWL3cT5F0CWQPUxdPbAnqheRhF0doMEkM2aWLeqAX/xscdcjzd//vZlvPCDo8hkTfgEELprM+y1G+A3ZyN2y6WeK6TPm5wBJif0T7cD+GqJWsNszCMlAhuuPbkZ7WP1lPbkmxhFsRmViLCyiwZppEURXjO1cuydpeartc1970q1YJz58zfse7ugr8SYC1AE3Vh4YgOhUAAnYhew/YOfRTjkB09lyohZRthZ08ofhcrbHkdfQfrET53fK4Etcwe2herEDOCb46uucWuquWOwhxEqdvbAnk7lsxCpumgj3LRnDzNzfEFUexG2EaXKVgQKTE671Bltah+QwrMMs+Xa3LRqU/tAnxs5ScNHaIOVMA2paJ3a7GLPKyLZuYN7dyx23gtBG1v/2QN7XMemCHonfyjTobYh8Pq0CXNmri4MWjbqKbWTFQL3ZzK4O5WGWeEgBV0W/aHPwNhcVT2nueaOwRZGPAl9AYcpIp+jPXVzwjaxgRF0pETZOaanArSQkOyi3+NMkynfsYvMc0zXcppfGWHkdPxDSWgWYetBF39+0010OSAXI+6yhmpsUsmUDBQVQRv5Q2HZyITCuNJ859wa8sQnk0Zd7DhgW7AgsNc28NAN3HXaY9v4cnm3pbqYVpNSV/CpKN0SpU1XGotvSimNqKQ4zrQXT6n0Mt/PzbS2Utu7iEBFQiNdg6b2gRjX6Nzl0Ex3r9Z2g0YyRc5WGs8W+r1Qn/me3NfupGCpi8q2zpPz5Rp/iGU5uP+7gf5XrlYnD0JZ+cKaN7UP9DJl0cbGNm9mQBG0yL7ahoFQKoUVJ086BCz6DAJBOwdDXvCAcBrosXO4LWM6f1cGG7YQOB32o9ou63yzQKazB/YUFpc2WRKsl4gKSoAPsUVXBNEj5yJXQI+yqU+1MUW5VLZpMco5HqH+41pGoaAtNHL2aQJStMnMR4OKyml8w4x0faxtNd9W1qccR5QyF21kJaQQXaF1iWlEnaN19fUjSzDMxtamWR8VwMZIqEZp7fq1Psi334NSUAS9yrWodCV9wsZDa6ZRHZI3jWaJZwgbl64JnJrwwTmytyxkGxsg1qyAbZUdGjmQ/mwul4N1ahwiWeLFpGIUtKd62twxWCCElrPkBFGbyM2rHljo2lORWH3ewE842IZHacNVqmQX75tM8RxtoT0HbxvFp2JQboZGzqibJqIyo+xZhF6zaVFakzSpGusO1mfRWJkg97FTnij9zf18JRicnErjF07g2JqXTCvpUASNFQIlAaQzwP13Wfj235iAT0sV+YGJMYGHe3xIZ2wnBTWw+wN4eOvGhfoqiT/97PP4yj//UNe/86njkeaOQaUlhphp5jlL5d+1ueUdNT+zl7QRj7Ij9HtUFwxGzpiLJosyTeaaCaDnw0Sg/aw/oNiEF1wSZp53sCPLIk1Ec1UWpJPGPkqEGCFytmgBVQRztW5EaXNt/SJUppv1w310nl3ppvVR5fq19SjUo9iiTwa8+kYrgs5GmTYQDABnLhj4k6d9qAnbxVG8AYxfFsjm5FGngICBwb9/Ef/y0jGg0neMpAY1Tbxy5E1UhYK6iXeLubrZsaOcXKf0Q2UUr+UslTZpYQsU0yJkRYCIi+8Zp03tZC/5jZDWGtZ8uxhpBTefil8Z5M9HmalU0Mkr+1YB0hFlmjUfs6CJmLsRZeM6ws77O1nbDZoJ15/rY1VrojTufpc2+BqoA5Bh6n8Hjec0a4u7D6MLpZle5w/lPeVUBnjutTBMmQpinzk+KEws8eeorIETp8/i4vgpVHAvxIFwDgWAeDKkrtpxHNYfnD2wZ8gtl6dJpiKSMjdKC3Hz2kbaiAcePIhqoOc9LlqMa2NlZov6xqyWVehnWYNREop+ViZKWliNuZ/aibptnDbfOCMXD0T6mMAqzcQ1XCfrkwsSHyvf0QYiZ5tLG7u07EqclJ4c/wYi5ygTqH7W9zAFvLr/7UAR9Ajl1h2WCMtCJhzGZNOd+XfYOYSAP53GkrMnHJ8zawr83ccF2h708Tffy4PIj+BTXwC+Hplj01+uoCW3CH2YLUjUxbxC2yR+UUH5ZfyYL66dAvUzn1BBaW5OzrgKQug5D0q4O6HGHCnjhIn7zhG9jhbU9JMg9fF0GrkELUxDggdx2hzUusZY+REXtwIsk9KrCWVRH0wYR0jxuIJr0KgAtpqmCdMGqrJZLJ+8AEvadGZ8pT715zL5I0r5TwDDPzLws3EBu9KrnyL/8tzRmEDAZzvmnnDeTYO6QcuN9pO0DmsBCNdCXNsoYvC0Uj8t/H6tfpFGZO6Dm3/awoSjm21GlKVtWljdqAt5XeGSo3Urz29IDZHm5xqumwlXP4/4mQDzY9ERIpVyd+JUVpEzwo+PXZRBqfUYyQvEQlG8ZZuWZT9nmdbW29+1CsFgAIlr06i6dq1kxYQx+00j//Qj4Js/WPxrn1UBG8GAQNP6RseNNS3reZjm1TKrFyWpyVTzdNAIW7D9tJDcFPK0UpQFEoVTDlpcftGijflhhX5o0SPaPdQoWSipJRqk8FAulROmh5N3AXDTXirB3cbK6OTspfnuJ9Ov1m+ESHmE/lfzj5L/yk17P/OPt3Dro11c2U/t8vVQfQxpR9CucAi6vK4aAYHnr6fSPfdtvn31wF99HPLdJF+ZL83dKOTllFW3LcWv/epGTF3PJpYGAs+aoeCCrTZ3DO7SLn7sUgl1/YocS4j3agvDCa5MOyd4jGkUpQW6aJN6WN1RanuI+W4ttBlFzzXfDrOaZH6USsq7gKfIukhIFLlU/S3axWaVoO/U5qX8V26RlP+ugp+IWjPSsg3UXneJ9eh2yfm6wiHo0uowEpnsxOG3Jp7etLruc/dtvh1b7r29nPo3DTJYknH7qUtTX3tkc/PJYHlvhPLbNsr07dC0QguZ/MKCqcpaWqnUhYgeludUqaVucgM4AbpZ+kcJSJT7YuSj9rAjz0pvupd79a+f5Wi7aW1GVb5XOyyIakn1Vp4N0ebU49YGkVAJT4vLvEqtx4JwjPJ9f/t95/LHQxtW1374gU0vL68J3Zut9GD9BhHwAVeT2bEnv/fa1gvXrr8tX1k+3ON2uX0WzR2DR9hixlgC+7RLCqe73IVhQVNsMZcs3gmQiVV+8I6bcbvqFwX6i5Vzvrhh+8Z1TnSezpozLx5/q3vnfXe8VB8W1eY8aSMZ3GTKJHHQB8z3oqj8LGvB3vfvRz/249j420G/b07yoASURtIj326S5hhP/ZQLIuQ7dXv8RtBLWYFfGnIuBIcGbZ8/VCiWtSy0rl/5x+uX1nwxVyKx6bwsFwjiruUrnGi+FI8FSUNsKo6rqWSRZHD4DYEricxff/v100+ej884f8s2J5/a+X+zCh5+oTBHg758erzwQH728qmxZ8xkph5CfK5o4Cqzns6idmkD/nzbw85R53wE9RsG9kUP48KFcUAGPjIhr1ew7aeXL697MuT3I5Uzb+p3QHn4/w2HoKlMdu4kQoE+CJEC8FQhHZUzUb+kGptW1qNxSR3W3hbOf21NiSWQRPMJgUc2rsVbK8N4c/IaJq8l8l+GOwvp63368nSCKhne9zZ4KEC9NFdqRT4P4ASAfTCtlnXL6/Dsh7ZjY2O95CpyZV5e2nbvFgQMYGzqOrqeO4Q3xiZlVCTf8dgN4DmnUFFKy9OhHvIoJ9Epvxn515E19z32nuZU67vqkcoC8gtDpLUv50eWTWaBu1bV4IkHN8krUP/gtKnI6cFDCZSbib8IQ3wyk7W3Hb+Y+PJMOntJKjx/GdG538i7ncls7urrYzPPn71y/WH4fR8u8Z6OBw9FqOiLGnKW/dOfXbz2UdOyVq9aUvWbNaHA9vqq4Ltrg8FGlxc5jelU5vJ0JnvsWjJzaGI6+cL1dPbcpZnkfC6FBw8ePHjw4MGDh19yAPhf4ykYOF85eiAAAAAASUVORK5CYII="},474:function(e,t,r){e.exports=r.p+"static/media/logo.e5731dac.png"},488:function(e,t,r){e.exports=r.p+"static/media/wa-background.adbccee0.png"},530:function(e,t,r){e.exports=r(756)},756:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(34),i=r.n(o),c=r(861),l=r(3),s=r(55),u=r(60),f=r(19),d=r(8),h=r(89),p=r.n(h);function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return void 0!==window.ENV?window.ENV[e]||t:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BACKEND_URL:"https://sacapi.meupost.com/",REACT_APP_HOURS_CLOSE_TICKETS_AUTO:"1",REACT_APP_MINUTES_CLOSE_TICKETS_AUTO:"1"})[e]||t}function v(){return m("REACT_APP_BACKEND_URL")}var g=function(){var e=localStorage.getItem("token");return p()(v(),{query:{auth_token:JSON.parse(e)}})},y=r(341),b=r(427),E=r(9),w=Object(E.a)(Object(E.a)(Object(E.a)({},{pt:{translations:{signup:{title:"Cadastre-se",toasts:{success:"Usu\xe1rio criado com sucesso! Fa\xe7a seu login!!!.",fail:"Erro ao criar usu\xe1rio. Verifique os dados informados."},form:{name:"Nome",email:"Email",password:"Senha"},buttons:{submit:"Cadastrar",login:"J\xe1 tem uma conta? Entre!"}},login:{title:"Login",form:{email:"Email",password:"Senha"},buttons:{submit:"Entrar",register:"N\xe3o tem um conta? Cadastre-se!"}},auth:{toasts:{success:"Login efetuado com sucesso!"}},dashboard:{charts:{perDay:{title:"Atendimentos hoje: "}},messages:{inAttendance:{title:"Em Atendimento"},waiting:{title:"Aguardando"},closed:{title:"Finalizado"}}},connections:{title:"Conex\xf5es",toasts:{deleted:"Conex\xe3o com o WhatsApp exclu\xedda com sucesso!"},confirmationModal:{deleteTitle:"Deletar",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida.",disconnectTitle:"Desconectar",disconnectMessage:"Tem certeza? Voc\xea precisar\xe1 ler o QR Code novamente."},buttons:{add:"Adicionar WhatsApp",disconnect:"desconectar",tryAgain:"Tentar novamente",qrcode:"QR CODE",newQr:"Novo QR CODE",connecting:"Conectando"},toolTips:{disconnected:{title:"Falha ao iniciar sess\xe3o do WhatsApp",content:"Certifique-se de que seu celular esteja conectado \xe0 internet e tente novamente, ou solicite um novo QR Code"},qrcode:{title:"Esperando leitura do QR Code",content:"Clique no bot\xe3o 'QR CODE' e leia o QR Code com o seu celular para iniciar a sess\xe3o"},connected:{title:"Conex\xe3o estabelecida!"},timeout:{title:"A conex\xe3o com o celular foi perdida",content:"Certifique-se de que seu celular esteja conectado \xe0 internet e o WhatsApp esteja aberto, ou clique no bot\xe3o 'Desconectar' para obter um novo QR Code"}},table:{name:"Nome",status:"Status",lastUpdate:"\xdaltima atualiza\xe7\xe3o",default:"Padr\xe3o",actions:"A\xe7\xf5es",session:"Sess\xe3o"}},whatsappModal:{title:{add:"Adicionar WhatsApp",edit:"Editar WhatsApp"},form:{name:"Nome",default:"Padr\xe3o",farewellMessage:"Mensagem de despedida",isMultidevice:"Multidevice",transferTicketMessage:"Mensagem de Transfer\xeancia do Atendimento",reopenLastTicket:"Reabrir Ultimo Chamado",minutes:"Minutos",newticketafter:"Gerar um Novo Atendimento ap\xf3s",titlenewticketafter:"Ao receber uma mensagem"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"WhatsApp salvo com sucesso."},qrCode:{message:"Leia o QrCode para iniciar a sess\xe3o"},contacts:{title:"Contatos",toasts:{deleted:"Contato exclu\xeddo com sucesso!"},searchPlaceholder:"Pesquisar...",confirmationModal:{deleteTitle:"Deletar ",importTitlte:"Importar contatos",deleteMessage:"Tem certeza que deseja deletar este contato? Todos os atendimentos relacionados ser\xe3o perdidos.",importMessage:"Deseja importas todos os contatos do telefone?"},buttons:{import:"Importar Contatos",add:"Adicionar Contato"},table:{name:"Nome",whatsapp:"WhatsApp",email:"Email",actions:"A\xe7\xf5es"}},contactModal:{title:{add:"Adicionar contato",edit:"Editar contato"},form:{mainInfo:"Dados do contato",extraInfo:"Informa\xe7\xf5es adicionais",name:"Nome",number:"N\xfamero do Whatsapp",email:"Email",extraName:"Nome do campo",extraValue:"Valor"},buttons:{addExtraInfo:"Adicionar informa\xe7\xe3o",okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Contato salvo com sucesso."},quickAnswersModal:{title:{add:"Adicionar Resposta R\xe1pida",edit:"Editar Resposta R\xe1pida"},form:{shortcut:"Atalho",message:"Resposta R\xe1pida"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Resposta R\xe1pida salva com sucesso."},queueModal:{title:{add:"Adicionar fila",edit:"Editar fila"},form:{name:"Nome",color:"Cor",greetingMessage:"Mensagem de sauda\xe7\xe3o",transferQueueMessage:"Mensagem de Transfer\xeancia entre Setor",outOfWorkMessage:"Personalize a mensagem quando estiver fora do hor\xe1rio de expediente",startWorkHour:"Expediente: Abertura",endWorkHour:"Expediente: Fechamento",monday:"Segunda",tuesday:"Ter\xe7a",wednesday:"Quarta",thursday:"Quinta",friday:"Sexta",saturday:"S\xe1bado",sunday:"Domingo",holiday:"Feriado",token:"Token",checkHourExpedient:"Checar Hor\xe1rio de Expediente"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"}},userModal:{title:{add:"Adicionar usu\xe1rio",edit:"Editar usu\xe1rio"},form:{name:"Nome",email:"Email",password:"Senha",profile:"Perfil",whatsapp:"Conex\xe3o Padr\xe3o"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Usu\xe1rio salvo com sucesso."},tagModal:{title:{add:"Nova Tag",edit:"Editar Tag"},form:{name:"Nome",color:"Cor"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Tag salvo com sucesso."},chat:{noTicketMessage:"Selecione um chamado para come\xe7ar a conversar."},ticketsManager:{buttons:{newTicket:"Novo"}},ticketsQueueSelect:{placeholder:"Filas"},tickets:{toasts:{deleted:"O Atendimento que voc\xea estava foi deletado."},notification:{message:"Mensagem de"},tabs:{open:{title:"Inbox"},closed:{title:"Resolvidos"},search:{title:"Busca"}},search:{placeholder:"Buscar Atendimentos e mensagens"},buttons:{showAll:"Todos"}},transferTicketModal:{title:"Transferir Atendimento",fieldLabel:"Digite para buscar usu\xe1rios",fieldQueueLabel:"Transferir para fila",fieldConnectionLabel:"Transferir para conex\xe3o",fieldQueuePlaceholder:"Selecione uma fila",fieldConnectionPlaceholder:"Selecione uma conex\xe3o",noOptions:"Nenhum usu\xe1rio encontrado com esse nome",buttons:{ok:"Transferir",cancel:"Cancelar"}},ticketsList:{pendingHeader:"Aguardando",assignedHeader:"Atendendo",noTicketsTitle:"Nada aqui!",noTicketsMessage:"Nenhum Atendimento encontrado com esse status ou termo pesquisado",connectionTitle:"Conex\xe3o que est\xe1 sendo utilizada atualmente.",buttons:{accept:"Aceitar"}},newTicketModal:{title:"Criar Chamado",fieldLabel:"Digite para pesquisar o contato",add:"Adicionar",buttons:{ok:"Salvar",cancel:"Cancelar"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Conex\xf5es",tickets:"Atendimentos",contacts:"Contatos",quickAnswers:"Respostas R\xe1pidas",queues:"Filas & Chatbot",schedules:"Agendamentos",tags:"Tags",administration:"Administra\xe7\xe3o",users:"Usu\xe1rios",settings:"Configura\xe7\xf5es"},appBar:{user:{profile:"Perfil",logout:"Sair"}}},notifications:{noTickets:"Nenhuma notifica\xe7\xe3o."},schedules:{title:"Agendamentos",confirmationModal:{deleteTitle:"Voc\xea tem certeza que quer excluir este Agendamento?",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},table:{contact:"Contato",body:"Mensagem",sendAt:"Data de Agendamento",sentAt:"Data de Envio",status:"Status",actions:"A\xe7\xf5es"},buttons:{add:"Novo Agendamento"},toasts:{deleted:"Agendamento exclu\xeddo com sucesso."}},scheduleModal:{title:{add:"Novo Agendamento",edit:"Editar Agendamento"},form:{body:"Mensagem",contact:"Contato",sendAt:"Data de Agendamento",sentAt:"Data de Envio"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Agendamento salvo com sucesso."},queues:{title:"Filas",table:{name:"Nome",color:"Cor",greeting:"Mensagem de sauda\xe7\xe3o",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar fila"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida! Os atendimentos dessa fila continuar\xe3o existindo, mas n\xe3o ter\xe3o mais nenhuma fila atribu\xedda."}},queueSelect:{inputLabel:"Filas"},quickAnswers:{title:"Respostas R\xe1pidas",table:{shortcut:"Atalho",message:"Resposta R\xe1pida",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar Resposta R\xe1pida"},toasts:{deleted:"Resposta R\xe1pida exclu\xedda com sucesso."},searchPlaceholder:"Pesquisar...",confirmationModal:{deleteTitle:"Voc\xea tem certeza que quer excluir esta Resposta R\xe1pida: ",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."}},users:{title:"Usu\xe1rios",table:{name:"Nome",email:"Email",profile:"Perfil",whatsapp:"Conex\xe3o Padr\xe3o",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar usu\xe1rio"},toasts:{deleted:"Usu\xe1rio exclu\xeddo com sucesso."},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Todos os dados do usu\xe1rio ser\xe3o perdidos. Os atendimentos abertos deste usu\xe1rio ser\xe3o movidos para a fila."}},tags:{title:"Tags",confirmationModal:{deleteTitle:"Voc\xea tem certeza que quer excluir esta Tag?",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."},table:{name:"Nome",color:"Cor",tickets:"Registros Tagdos",actions:"A\xe7\xf5es"},buttons:{add:"Nova Tag"},toasts:{deleted:"Tag exclu\xeddo com sucesso."}},settings:{success:"Configura\xe7\xf5es salvas com sucesso.",title:"Configura\xe7\xf5es",settings:{userCreation:{name:"Cria\xe7\xe3o de usu\xe1rio",options:{enabled:"Ativado",disabled:"Desativado"}},timeCreateNewTicket:{name:"Mensagem de boas-vindas ap\xf3s",note:"Selecione o tempo que ser\xe1 necess\xe1rio para abrir um novo Chamado, caso o cliente entre em contatos novamente",options:{10:"10 Segundos",30:"30 Segundos",60:"1 minuto",300:"5 minutos",1800:"30 minutos",3600:"1 hora",7200:"2 horas",21600:"6 horas",43200:"12 horas",86400:"24 horas",172800:"48 horas"}},call:{name:"Aceitar chamadas",options:{enabled:"Ativado",disabled:"Desativado"}},CheckMsgIsGroup:{name:"Ignorar Mensagens de Grupos",options:{enabled:"Ativado",disabled:"Desativado"}}}},messagesList:{header:{assignedTo:"Atribu\xeddo \xe0:",buttons:{return:"Retornar",resolve:"Resolver",reopen:"Reabrir",accept:"Aceitar"}}},messagesInput:{placeholderOpen:"Digite uma mensagem ou tecle ''/'' para utilizar as respostas r\xe1pidas cadastrada",placeholderClosed:"Reabra ou aceite esse ticket para enviar uma mensagem.",signMessage:"Assinar"},contactDrawer:{header:"Dados do contato",buttons:{edit:"Editar contato"},extraInfo:"Outras informa\xe7\xf5es"},ticketOptionsMenu:{delete:"Deletar",transfer:"Transferir",confirmationModal:{title:"Deletar o ticket do contato",message:"Aten\xe7\xe3o! Todas as mensagens relacionadas ao Atendimento ser\xe3o perdidas."},buttons:{delete:"Excluir",cancel:"Cancelar"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancelar"}},messageOptionsMenu:{delete:"Deletar",reply:"Responder",confirmationModal:{title:"Apagar mensagem?",message:"Esta a\xe7\xe3o n\xe3o pode ser revertida."}},backendErrors:{ERR_TAG_NAME_ALREADY_EXISTS:"J\xe1 existe uma tag com esse nome.",ERR_NO_OTHER_WHATSAPP:"Deve haver pelo menos um WhatsApp padr\xe3o.",ERR_NO_DEF_WAPP_FOUND:"Nenhum WhatsApp padr\xe3o encontrado. Verifique a p\xe1gina de conex\xf5es.",ERR_WAPP_NOT_INITIALIZED:"Esta sess\xe3o do WhatsApp n\xe3o foi inicializada. Verifique a p\xe1gina de conex\xf5es.",ERR_WAPP_CHECK_CONTACT:"N\xe3o foi poss\xedvel verificar o contato do WhatsApp. Verifique a p\xe1gina de conex\xf5es",ERR_WAPP_INVALID_CONTACT:"Este n\xe3o \xe9 um n\xfamero de Whatsapp v\xe1lido.",ERR_WAPP_DOWNLOAD_MEDIA:"N\xe3o foi poss\xedvel baixar m\xeddia do WhatsApp. Verifique a p\xe1gina de conex\xf5es.",ERR_INVALID_CREDENTIALS:"Erro de autentica\xe7\xe3o. Por favor, tente novamente.",ERR_SENDING_WAPP_MSG:"Erro ao enviar mensagem do WhatsApp. Verifique a p\xe1gina de conex\xf5es.",ERR_DELETE_WAPP_MSG:"N\xe3o foi poss\xedvel excluir a mensagem do WhatsApp.",ERR_OTHER_OPEN_TICKET:"J\xe1 existe um t\xedquete aberto para este contato.",ERR_SESSION_EXPIRED:"Sess\xe3o expirada. Por favor entre.",ERR_USER_CREATION_DISABLED:"A cria\xe7\xe3o do usu\xe1rio foi desabilitada pelo administrador.",ERR_NO_PERMISSION:"Voc\xea n\xe3o tem permiss\xe3o para acessar este recurso.",ERR_DUPLICATED_CONTACT:"J\xe1 existe um contato com este n\xfamero.",ERR_NO_SETTING_FOUND:"Nenhuma configura\xe7\xe3o encontrada com este ID.",ERR_NO_CONTACT_FOUND:"Nenhum contato encontrado com este ID.",ERR_NO_TICKET_FOUND:"Nenhum t\xedquete encontrado com este ID.",ERR_NO_USER_FOUND:"Nenhum usu\xe1rio encontrado com este ID.",ERR_NO_WAPP_FOUND:"Nenhum WhatsApp encontrado com este ID.",ERR_CREATING_MESSAGE:"Erro ao criar mensagem no banco de dados.",ERR_CREATING_TICKET:"Erro ao criar t\xedquete no banco de dados.",ERR_FETCH_WAPP_MSG:"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"Esta cor j\xe1 est\xe1 em uso, escolha outra.",ERR_WAPP_GREETING_REQUIRED:"A mensagem de sauda\xe7\xe3o \xe9 obrigat\xf3rio quando h\xe1 mais de uma fila."}}}}),{en:{translations:{signup:{title:"Sign up",toasts:{success:"User created successfully! Please login!",fail:"Error creating user. Check the reported data."},form:{name:"Name",email:"Email",password:"Password"},buttons:{submit:"Register",login:"Already have an account? Log in!"}},login:{title:"Login",form:{email:"Email",password:"Password"},buttons:{submit:"Enter",register:"Don't have an account? Register!"}},auth:{toasts:{success:"Login successfully!"}},dashboard:{charts:{perDay:{title:"Tickets today: "}},messages:{inAttendance:{title:"In Service"},waiting:{title:"Waiting"},closed:{title:"Closed"}}},connections:{title:"Connections",toasts:{deleted:"WhatsApp connection deleted sucessfully!"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? It cannot be reverted.",disconnectTitle:"Disconnect",disconnectMessage:"Are you sure? You'll need to read QR Code again."},buttons:{add:"Add WhatsApp",disconnect:"Disconnect",tryAgain:"Try Again",qrcode:"QR CODE",newQr:"New QR CODE",connecting:"Connectiing"},toolTips:{disconnected:{title:"Failed to start WhatsApp session",content:"Make sure your cell phone is connected to the internet and try again, or request a new QR Code"},qrcode:{title:"Waiting for QR Code read",content:"Click on 'QR CODE' button and read the QR Code with your cell phone to start session"},connected:{title:"Connection established"},timeout:{title:"Connection with cell phone has been lost",content:"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode"}},table:{name:"Name",status:"Status",lastUpdate:"Last Update",default:"Default",actions:"Actions",session:"Session"}},whatsappModal:{title:{add:"Add WhatsApp",edit:"Edit WhatsApp"},form:{name:"Name",default:"Default"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"WhatsApp saved successfully."},qrCode:{message:"Read QrCode to start the session"},contacts:{title:"Contacts",toasts:{deleted:"Contact deleted sucessfully!"},searchPlaceholder:"Search ...",confirmationModal:{deleteTitle:"Delete",importTitlte:"Import contacts",deleteMessage:"Are you sure you want to delete this contact? All related tickets will be lost.",importMessage:"Do you want to import all contacts from the phone?"},buttons:{import:"Import Contacts",add:"Add Contact"},table:{name:"Name",whatsapp:"WhatsApp",email:"Email",actions:"Actions"}},contactModal:{title:{add:"Add contact",edit:"Edit contact"},form:{mainInfo:"Contact details",extraInfo:"Additional information",name:"Name",number:"Whatsapp number",email:"Email",extraName:"Field name",extraValue:"Value"},buttons:{addExtraInfo:"Add information",okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"Contact saved successfully."},quickAnswersModal:{title:{add:"Add Quick Reply",edit:"Edit Quick Answer"},form:{shortcut:"Shortcut",message:"Quick Reply"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"Quick Reply saved successfully."},queueModal:{title:{add:"Add queue",edit:"Edit queue"},form:{name:"Name",color:"Color",greetingMessage:"Greeting Message"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"}},userModal:{title:{add:"Add user",edit:"Edit user"},form:{name:"Name",email:"Email",password:"Password",profile:"Profile",whatsapp:"Default Connection"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"User saved successfully."},chat:{noTicketMessage:"Select a ticket to start chatting."},ticketsManager:{buttons:{newTicket:"New"}},ticketsQueueSelect:{placeholder:"Queues"},tickets:{toasts:{deleted:"The ticket you were on has been deleted."},notification:{message:"Message from"},tabs:{open:{title:"Inbox"},closed:{title:"Resolved"},search:{title:"Search"}},search:{placeholder:"Search tickets and messages."},buttons:{showAll:"All"}},transferTicketModal:{title:"Transfer Ticket",fieldLabel:"Type to search for users",fieldQueueLabel:"Transfer to queue",fieldConnectionLabel:"Transfer to connection",fieldQueuePlaceholder:"Please select a queue",fieldConnectionPlaceholder:"Please select a connection",noOptions:"No user found with this name",buttons:{ok:"Transfer",cancel:"Cancel"}},ticketsList:{pendingHeader:"Queue",assignedHeader:"Working on",noTicketsTitle:"Nothing here!",noTicketsMessage:"No tickets found with this status or search term.",connectionTitle:"Connection that is currently being used.",buttons:{accept:"Accept"}},newTicketModal:{title:"Create Ticket",fieldLabel:"Type to search for a contact",add:"Add",buttons:{ok:"Save",cancel:"Cancel"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Connections",tickets:"Tickets",contacts:"Contacts",quickAnswers:"Quick Answers",queues:"Queues",administration:"Administration",users:"Users",settings:"Settings"},appBar:{user:{profile:"Profile",logout:"Logout"}}},notifications:{noTickets:"No notifications."},queues:{title:"Queues",table:{name:"Name",color:"Color",greeting:"Greeting message",actions:"Actions"},buttons:{add:"Add queue"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned."}},queueSelect:{inputLabel:"Queues"},quickAnswers:{title:"Quick Answers",table:{shortcut:"Shortcut",message:"Quick Reply",actions:"Actions"},buttons:{add:"Add Quick Reply"},toasts:{deleted:"Quick Reply deleted successfully."},searchPlaceholder:"Search...",confirmationModal:{deleteTitle:"Are you sure you want to delete this Quick Reply: ",deleteMessage:"This action cannot be undone."}},users:{title:"Users",table:{name:"Name",email:"Email",profile:"Profile",whatsapp:"Default Connection",actions:"Actions"},buttons:{add:"Add user"},toasts:{deleted:"User deleted sucessfully."},confirmationModal:{deleteTitle:"Delete",deleteMessage:"All user data will be lost. Users' open tickets will be moved to queue."}},settings:{success:"Settings saved successfully.",title:"Settings",settings:{userCreation:{name:"User creation",options:{enabled:"Enabled",disabled:"Disabled"}}}},messagesList:{header:{assignedTo:"Assigned to:",buttons:{return:"Return",resolve:"Resolve",reopen:"Reopen",accept:"Accept"}}},messagesInput:{placeholderOpen:"Type a message or press ''/'' to use the registered quick responses",placeholderClosed:"Reopen or accept this ticket to send a message.",signMessage:"Sign"},contactDrawer:{header:"Contact details",buttons:{edit:"Edit contact"},extraInfo:"Other information"},ticketOptionsMenu:{delete:"Delete",transfer:"Transfer",confirmationModal:{title:"Delete ticket #",titleFrom:"from contact ",message:"Attention! All ticket's related messages will be lost."},buttons:{delete:"Delete",cancel:"Cancel"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancel"}},messageOptionsMenu:{delete:"Delete",reply:"Reply",confirmationModal:{title:"Delete message?",message:"This action cannot be reverted."}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"There must be at lest one default WhatsApp connection.",ERR_NO_DEF_WAPP_FOUND:"No default WhatsApp found. Check connections page.",ERR_WAPP_NOT_INITIALIZED:"This WhatsApp session is not initialized. Check connections page.",ERR_WAPP_CHECK_CONTACT:"Could not check WhatsApp contact. Check connections page.",ERR_WAPP_INVALID_CONTACT:"This is not a valid whatsapp number.",ERR_WAPP_DOWNLOAD_MEDIA:"Could not download media from WhatsApp. Check connections page.",ERR_INVALID_CREDENTIALS:"Authentication error. Please try again.",ERR_SENDING_WAPP_MSG:"Error sending WhatsApp message. Check connections page.",ERR_DELETE_WAPP_MSG:"Couldn't delete message from WhatsApp.",ERR_OTHER_OPEN_TICKET:"There's already an open ticket for this contact.",ERR_SESSION_EXPIRED:"Session expired. Please login.",ERR_USER_CREATION_DISABLED:"User creation was disabled by administrator.",ERR_NO_PERMISSION:"You don't have permission to access this resource.",ERR_DUPLICATED_CONTACT:"A contact with this number already exists.",ERR_NO_SETTING_FOUND:"No setting found with this ID.",ERR_NO_CONTACT_FOUND:"No contact found with this ID.",ERR_NO_TICKET_FOUND:"No ticket found with this ID.",ERR_NO_USER_FOUND:"No user found with this ID.",ERR_NO_WAPP_FOUND:"No WhatsApp found with this ID.",ERR_CREATING_MESSAGE:"Error while creating message on database.",ERR_CREATING_TICKET:"Error while creating ticket on database.",ERR_FETCH_WAPP_MSG:"Error fetching the message in WhtasApp, maybe it is too old.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"This color is already in use, pick another one.",ERR_WAPP_GREETING_REQUIRED:"Greeting message is required if there is more than one queue."}}}}),{es:{translations:{signup:{title:"Registro",toasts:{success:"\xa1El usuario ha sido creado satisfactoriamente! \xa1Ahora inicia sesi\xf3n!",fail:"Error creando el usuario. Verifica la data reportada."},form:{name:"Nombre",email:"Correo Electr\xf3nico",password:"Contrase\xf1a"},buttons:{submit:"Reg\xedstrate",login:"\xbfYa tienes una cuenta? \xa1Inicia sesi\xf3n!"}},login:{title:"Inicio de Sesi\xf3n",form:{email:"Correo Electr\xf3nico",password:"Contrase\xf1a"},buttons:{submit:"Ingresa",register:"\xbfNo tienes cuenta? \xa1Reg\xedstrate!"}},auth:{toasts:{success:"\xa1Inicio de sesi\xf3n exitoso!"}},dashboard:{charts:{perDay:{title:"Tickets hoy: "}},messages:{inAttendance:{title:"En servicio"},waiting:{title:"Esperando"},closed:{title:"Finalizado"}}},connections:{title:"Conexiones",toasts:{deleted:"\xa1La conexi\xf3n de WhatsApp ha sido borrada satisfactoriamente!"},confirmationModal:{deleteTitle:"Borrar",deleteMessage:"\xbfEst\xe1s seguro? Este proceso no puede ser revertido.",disconnectTitle:"Desconectar",disconnectMessage:"Est\xe1s seguro? Deber\xe1 volver a leer el c\xf3digo QR"},buttons:{add:"Agrega WhatsApp",disconnect:"Desconectar",tryAgain:"Int\xe9ntalo de nuevo",qrcode:"QR CODE",newQr:"Nuevo QR CODE",connecting:"Conectando"},toolTips:{disconnected:{title:"No se pudo iniciar la sesi\xf3n de WhatsApp",content:"Aseg\xfarese de que su tel\xe9fono celular est\xe9 conectado a Internet y vuelva a intentarlo o solicite un nuevo c\xf3digo QR"},qrcode:{title:"Esperando la lectura del c\xf3digo QR",content:"Haga clic en el bot\xf3n 'C\xd3DIGO QR' y lea el C\xf3digo QR con su tel\xe9fono celular para iniciar la sesi\xf3n"},connected:{title:"Conexi\xf3n establecida"},timeout:{title:"Se perdi\xf3 la conexi\xf3n con el tel\xe9fono celular",content:"Aseg\xfarese de que su tel\xe9fono celular est\xe9 conectado a Internet y que WhatsApp est\xe9 abierto, o haga clic en el bot\xf3n 'Desconectar' para obtener un nuevo c\xf3digo QR"}},table:{name:"Nombre",status:"Estado",lastUpdate:"\xdaltima Actualizaci\xf3n",default:"Por Defecto",actions:"Acciones",session:"Sesi\xf3n"}},whatsappModal:{title:{add:"Agrega WhatsApp",edit:"Edita WhatsApp"},form:{name:"Nombre",default:"Por Defecto"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"WhatsApp guardado satisfactoriamente."},qrCode:{message:"L\xe9e el c\xf3digo QR para empezar la sesi\xf3n."},contacts:{title:"Contactos",toasts:{deleted:"\xa1Contacto borrado satisfactoriamente!"},searchPlaceholder:"Buscar...",confirmationModal:{deleteTitle:"Borrar",importTitlte:"Importar contactos",deleteMessage:"\xbfEst\xe1s seguro que deseas borrar este contacto? Todos los tickets relacionados se perder\xe1n.",importMessage:"\xbfQuieres importar todos los contactos desde tu tel\xe9fono?"},buttons:{import:"Importar Contactos",add:"Agregar Contacto"},table:{name:"Nombre",whatsapp:"WhatsApp",email:"Correo Electr\xf3nico",actions:"Acciones"}},contactModal:{title:{add:"Agregar contacto",edit:"Editar contacto"},form:{mainInfo:"Detalles del contacto",extraInfo:"Informaci\xf3n adicional",name:"Nombre",number:"N\xfamero de Whatsapp",email:"Correo Electr\xf3nico",extraName:"Nombre del Campo",extraValue:"Valor"},buttons:{addExtraInfo:"Agregar informaci\xf3n",okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Contacto guardado satisfactoriamente."},quickAnswersModal:{title:{add:"Agregar respuesta r\xe1pida",edit:"Editar respuesta r\xe1pida"},form:{shortcut:"Atajo",message:"Respuesta r\xe1pida"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Respuesta r\xe1pida guardada correctamente."},queueModal:{title:{add:"Agregar cola",edit:"Editar cola"},form:{name:"Nombre",color:"Color",greetingMessage:"Mensaje de saludo"},buttons:{okAdd:"A\xf1adir",okEdit:"Ahorrar",cancel:"Cancelar"}},userModal:{title:{add:"Agregar usuario",edit:"Editar usuario"},form:{name:"Nombre",email:"Correo Electr\xf3nico",password:"Contrase\xf1a",profile:"Perfil",whatsapp:"Conexi\xf3n est\xe1ndar"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Usuario guardado satisfactoriamente."},chat:{noTicketMessage:"Selecciona un ticket para empezar a chatear."},ticketsManager:{buttons:{newTicket:"Nuevo"}},ticketsQueueSelect:{placeholder:"Linhas"},tickets:{toasts:{deleted:"El ticket en el que estabas ha sido borrado."},notification:{message:"Mensaje de"},tabs:{open:{title:"Bandeja"},closed:{title:"Resueltos"},search:{title:"Buscar"}},search:{placeholder:"Buscar tickets y mensajes."},buttons:{showAll:"Todos"}},transferTicketModal:{title:"Transferir Ticket",fieldLabel:"Escriba para buscar usuarios",fieldQueueLabel:"Transferir a la cola",fieldConnectionLabel:"Transferir to conexi\xf3n",fieldQueuePlaceholder:"Seleccione una cola",fieldConnectionPlaceholder:"Seleccione una conexi\xf3n",noOptions:"No se encontraron usuarios con ese nombre",buttons:{ok:"Transferir",cancel:"Cancelar"}},ticketsList:{pendingHeader:"Cola",assignedHeader:"Trabajando en",noTicketsTitle:"\xa1Nada ac\xe1!",connectionTitle:"Conexi\xf3n que se est\xe1 utilizando actualmente.",noTicketsMessage:"No se encontraron tickets con este estado o t\xe9rmino de b\xfasqueda",buttons:{accept:"Acceptar"}},newTicketModal:{title:"Crear Ticket",fieldLabel:"Escribe para buscar un contacto",add:"A\xf1adir",buttons:{ok:"Guardar",cancel:"Cancelar"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Conexiones",tickets:"Tickets",contacts:"Contactos",quickAnswers:"Respuestas r\xe1pidas",queues:"Linhas",administration:"Administraci\xf3n",users:"Usuarios",settings:"Configuraci\xf3n"},appBar:{user:{profile:"Perfil",logout:"Cerrar Sesi\xf3n"}}},notifications:{noTickets:"Sin notificaciones."},queues:{title:"Linhas",table:{name:"Nombre",color:"Color",greeting:"Mensaje de saludo",actions:"Comportamiento"},buttons:{add:"Agregar cola"},confirmationModal:{deleteTitle:"Eliminar",deleteMessage:"\xbfEst\xe1s seguro? \xa1Esta acci\xf3n no se puede revertir! Los tickets en esa cola seguir\xe1n existiendo, pero ya no tendr\xe1n ninguna cola asignada."}},queueSelect:{inputLabel:"Linhas"},quickAnswers:{title:"Respuestas r\xe1pidas",table:{shortcut:"Atajo",message:"Respuesta r\xe1pida",actions:"Acciones"},buttons:{add:"Agregar respuesta r\xe1pida"},toasts:{deleted:"Respuesta r\xe1pida eliminada correctamente"},searchPlaceholder:"Buscar ...",confirmationModal:{deleteTitle:"\xbfEst\xe1 seguro de que desea eliminar esta respuesta r\xe1pida?",deleteMessage:"Esta acci\xf3n no se puede deshacer."}},users:{title:"Usuarios",table:{name:"Nombre",email:"Correo Electr\xf3nico",profile:"Perfil",whatsapp:"Conexi\xf3n est\xe1ndar",actions:"Acciones"},buttons:{add:"Agregar usuario"},toasts:{deleted:"Usuario borrado satisfactoriamente."},confirmationModal:{deleteTitle:"Borrar",deleteMessage:"Toda la informaci\xf3n del usuario se perder\xe1. Los tickets abiertos de los usuarios se mover\xe1n a la cola."}},settings:{success:"Configuraci\xf3n guardada satisfactoriamente.",title:"Configuraci\xf3n",settings:{userCreation:{name:"Creaci\xf3n de usuarios",options:{enabled:"Habilitado",disabled:"Deshabilitado"}}}},messagesList:{header:{assignedTo:"Asignado a:",buttons:{return:"Devolver",resolve:"Resolver",reopen:"Reabrir",accept:"Aceptar"}}},messagesInput:{placeholderOpen:"Escriba un mensaje o presione '' / '' para usar las respuestas r\xe1pidas registradas",placeholderClosed:"Vuelva a abrir o acepte este ticket para enviar un mensaje.",signMessage:"Firmar"},contactDrawer:{header:"Detalles del contacto",buttons:{edit:"Editar contacto"},extraInfo:"Otra informaci\xf3n"},ticketOptionsMenu:{delete:"Borrar",transfer:"Transferir",confirmationModal:{title:"\xbfBorrar ticket #",titleFrom:"del contacto ",message:"\xa1Atenci\xf3n! Todos los mensajes Todos los mensajes relacionados con el ticket se perder\xe1n."},buttons:{delete:"Borrar",cancel:"Cancelar"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancelar"}},messageOptionsMenu:{delete:"Borrar",reply:"Responder",confirmationModal:{title:"\xbfBorrar mensaje?",message:"Esta acci\xf3n no puede ser revertida."}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"Debe haber al menos una conexi\xf3n de WhatsApp predeterminada.",ERR_NO_DEF_WAPP_FOUND:"No se encontr\xf3 WhatsApp predeterminado. Verifique la p\xe1gina de conexiones.",ERR_WAPP_NOT_INITIALIZED:"Esta sesi\xf3n de WhatsApp no \u200b\u200best\xe1 inicializada. Verifique la p\xe1gina de conexiones.",ERR_WAPP_CHECK_CONTACT:"No se pudo verificar el contacto de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_WAPP_INVALID_CONTACT:"Este no es un n\xfamero de whatsapp v\xe1lido.",ERR_WAPP_DOWNLOAD_MEDIA:"No se pudieron descargar los medios de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_INVALID_CREDENTIALS:"Error de autenticaci\xf3n. Vuelva a intentarlo.",ERR_SENDING_WAPP_MSG:"Error al enviar el mensaje de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_DELETE_WAPP_MSG:"No se pudo borrar el mensaje de WhatsApp.",ERR_OTHER_OPEN_TICKET:"Ya hay un ticket abierto para este contacto.",ERR_SESSION_EXPIRED:"Sesi\xf3n caducada. Inicie sesi\xf3n.",ERR_USER_CREATION_DISABLED:"La creaci\xf3n de usuarios fue deshabilitada por el administrador.",ERR_NO_PERMISSION:"No tienes permiso para acceder a este recurso.",ERR_DUPLICATED_CONTACT:"Ya existe un contacto con este n\xfamero.",ERR_NO_SETTING_FOUND:"No se encontr\xf3 ninguna configuraci\xf3n con este ID.",ERR_NO_CONTACT_FOUND:"No se encontr\xf3 ning\xfan contacto con este ID.",ERR_NO_TICKET_FOUND:"No se encontr\xf3 ning\xfan ticket con este ID.",ERR_NO_USER_FOUND:"No se encontr\xf3 ning\xfan usuario con este ID.",ERR_NO_WAPP_FOUND:"No se encontr\xf3 WhatsApp con este ID.",ERR_CREATING_MESSAGE:"Error al crear el mensaje en la base de datos.",ERR_CREATING_TICKET:"Error al crear el ticket en la base de datos.",ERR_FETCH_WAPP_MSG:"Error al obtener el mensaje en WhtasApp, tal vez sea demasiado antiguo.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"Este color ya est\xe1 en uso, elija otro.",ERR_WAPP_GREETING_REQUIRED:"El mensaje de saludo es obligatorio cuando hay m\xe1s de una cola."}}}});y.a.use(b.a).init({debug:!1,defaultNS:["translations"],fallbackLng:"en",ns:["translations"],resources:w});var x=r(428),O=r.n(x).a.create({baseURL:v(),withCredentials:!0}),L=function(e){var t,r,n=(null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||e.response.data.error;n?y.a.exists("backendErrors.".concat(n))?f.b.error(y.a.t("backendErrors.".concat(n)),{toastId:n}):f.b.error(n,{toastId:n}):f.b.error("An error occurred!")};function j(){j=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return k()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var k=function(){var e=Object(u.g)(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),a=r[0],o=r[1],i=Object(n.useState)(!0),c=Object(l.a)(i,2),s=c[0],h=c[1],p=Object(n.useState)({}),m=Object(l.a)(p,2),v=m[0],b=m[1];return O.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(JSON.parse(t)),o(!0)),e}),(function(e){Promise.reject(e)})),O.interceptors.response.use((function(e){return e}),function(){var e=Object(d.a)(j().mark((function e(t){var r,n,a,i,c;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.config,403!==(null===t||void 0===t||null===(r=t.response)||void 0===r?void 0:r.status)||a._retry){e.next=9;break}return a._retry=!0,e.next=5,O.post("/auth/refresh_token");case 5:return i=e.sent,(c=i.data)&&(localStorage.setItem("token",JSON.stringify(c.token)),O.defaults.headers.Authorization="Bearer ".concat(c.token)),e.abrupt("return",O(a));case 9:return 401===(null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.status)&&(localStorage.removeItem("token"),O.defaults.headers.Authorization=void 0,o(!1)),e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(n.useEffect)((function(){var e=localStorage.getItem("token");Object(d.a)(j().mark((function t(){var r,n;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=14;break}return t.prev=1,t.next=4,O.post("/auth/refresh_token");case 4:r=t.sent,n=r.data,O.defaults.headers.Authorization="Bearer ".concat(n.token),o(!0),b(n.user),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),L(t.t0);case 14:h(!1);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})))()}),[]),Object(n.useEffect)((function(){var e=g();return e.on("user",(function(e){"update"===e.action&&e.user.id===v.id&&b(e.user)})),function(){e.disconnect()}}),[v]),{isAuth:a,user:v,loading:s,handleLogin:function(){var t=Object(d.a)(j().mark((function t(r){var n,a;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),t.prev=1,t.next=4,O.post("/auth/login",r);case 4:n=t.sent,a=n.data,localStorage.setItem("token",JSON.stringify(a.token)),O.defaults.headers.Authorization="Bearer ".concat(a.token),b(a.user),o(!0),f.b.success(y.a.t("auth.toasts.success")),e.push("/tickets"),h(!1),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),L(t.t0),h(!1);case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}(),handleLogout:function(){var t=Object(d.a)(j().mark((function t(){return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),t.prev=1,t.next=4,O.delete("/auth/logout");case 4:o(!1),b({}),localStorage.removeItem("token"),O.defaults.headers.Authorization=void 0,h(!1),e.push("/login"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),L(t.t0),h(!1);case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(){return t.apply(this,arguments)}}()}},S=Object(n.createContext)(),N=function(e){var t=e.children,r=k(),n=r.loading,o=r.user,i=r.isAuth,c=r.handleLogin,l=r.handleLogout;return a.a.createElement(S.Provider,{value:{loading:n,user:o,isAuth:i,handleLogin:c,handleLogout:l}},t)},T=r(12);function _(){_=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var C=function(e,t){if("LOAD_WHATSAPPS"===t.type){var r=t.payload;return Object(T.a)(r)}if("UPDATE_WHATSAPPS"===t.type){var n=t.payload,a=e.findIndex((function(e){return e.id===n.id}));return-1!==a?(e[a]=n,Object(T.a)(e)):[n].concat(Object(T.a)(e))}if("UPDATE_SESSION"===t.type){var o=t.payload,i=e.findIndex((function(e){return e.id===o.id}));return-1!==i?(e[i].status=o.status,e[i].updatedAt=o.updatedAt,e[i].qrcode=o.qrcode,e[i].retries=o.retries,Object(T.a)(e)):Object(T.a)(e)}if("DELETE_WHATSAPPS"===t.type){var c=t.payload,l=e.findIndex((function(e){return e.id===c}));return-1!==l&&e.splice(l,1),Object(T.a)(e)}if("RESET"===t.type)return[]},A=function(){var e=Object(n.useReducer)(C,[]),t=Object(l.a)(e,2),r=t[0],a=t[1],o=Object(n.useState)(!0),i=Object(l.a)(o,2),c=i[0],s=i[1];return Object(n.useEffect)((function(){s(!0),function(){var e=Object(d.a)(_().mark((function e(){var t,r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/whatsapp/");case 3:t=e.sent,r=t.data,a({type:"LOAD_WHATSAPPS",payload:r}),s(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),s(!1),L(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(n.useEffect)((function(){var e=g();return e.on("whatsapp",(function(e){"update"===e.action&&a({type:"UPDATE_WHATSAPPS",payload:e.whatsapp})})),e.on("whatsapp",(function(e){"delete"===e.action&&a({type:"DELETE_WHATSAPPS",payload:e.whatsappId})})),e.on("whatsappSession",(function(e){"update"===e.action&&a({type:"UPDATE_SESSION",payload:e.session})})),function(){e.disconnect()}}),[]),{whatsApps:r,loading:c}},I=Object(n.createContext)(),P=function(e){var t=e.children,r=A(),n=r.loading,o=r.whatsApps;return a.a.createElement(I.Provider,{value:{whatsApps:o,loading:n}},t)},M=r(41),R=r(4),G=r(817),F=r(894),D=r(760),W=r(812),q=r(821),B=r(833),U=r(834),z=r(110),H=r(497),Q=r(822),Y=r(456),V=r.n(Y),K=r(455),J=r.n(K),Z=r(457),X=r.n(Z),$=r(441),ee=r.n($),te=r(442),re=r.n(te),ne=r(814),ae=r(815),oe=r(816),ie=r(757),ce=r(809),le=r(810),se=r(813),ue=r(811),fe=r(432),de=r.n(fe),he=r(270),pe=r.n(he),me=r(433),ve=r.n(me),ge=r(440),ye=r.n(ge),be=r(438),Ee=r.n(be),we=r(434),xe=r.n(we),Oe=r(439),Le=r.n(Oe),je=r(435),ke=r.n(je),Se=r(437),Ne=r.n(Se),Te=r(436),_e=r.n(Te),Ce={user:{static:[]},admin:{static:["drawer-admin-items:view","tickets-manager:showall","user-modal:editProfile","user-modal:editQueues","ticket-options:deleteTicket","ticket-options:transferWhatsapp","contacts-page:deleteContact"]}},Ae=function(e){var t=e.role,r=e.perform,n=e.data,a=e.yes,o=e.no;return function(e,t,r){var n=Ce[e];if(!n)return!1;var a=n.static;if(a&&a.includes(t))return!0;var o=n.dynamic;if(o){var i=o[t];return!!i&&i(r)}return!1}(t,r,n)?a():o()};function Ie(e){var t=e.icon,r=e.primary,n=e.to,o=e.className,i=a.a.useMemo((function(){return a.a.forwardRef((function(e,t){return a.a.createElement(s.b,Object.assign({to:n,ref:t},e))}))}),[n]);return a.a.createElement("li",null,a.a.createElement(ie.a,{button:!0,component:i,className:o},t?a.a.createElement(ce.a,null,t):null,a.a.createElement(le.a,{primary:r})))}Ae.defaultProps={yes:function(){return null},no:function(){return null}};var Pe=function(e){var t=e.drawerClose,r=Object(n.useContext)(I).whatsApps,o=Object(n.useContext)(S).user,i=Object(n.useState)(!1),c=Object(l.a)(i,2),s=c[0],u=c[1];return Object(n.useEffect)((function(){var e=setTimeout((function(){r.length>0&&(r.filter((function(e){return"qrcode"===e.status||"PAIRING"===e.status||"DISCONNECTED"===e.status||"TIMEOUT"===e.status||"OPENING"===e.status})).length>0?u(!0):u(!1))}),2e3);return function(){return clearTimeout(e)}}),[r]),a.a.createElement("div",{onClick:t},a.a.createElement(Ie,{to:"/",primary:"Dashboard",icon:a.a.createElement(de.a,null)}),a.a.createElement(Ie,{to:"/connections",primary:y.a.t("mainDrawer.listItems.connections"),icon:a.a.createElement(ue.a,{overlap:"rectangular",badgeContent:s?"!":0,color:"error"},a.a.createElement(ve.a,null))}),a.a.createElement(Ie,{to:"/tickets",primary:y.a.t("mainDrawer.listItems.tickets"),icon:a.a.createElement(pe.a,null)}),a.a.createElement(Ie,{to:"/contacts",primary:y.a.t("mainDrawer.listItems.contacts"),icon:a.a.createElement(xe.a,null)}),a.a.createElement(Ie,{to:"/quickAnswers",primary:y.a.t("mainDrawer.listItems.quickAnswers"),icon:a.a.createElement(ke.a,null)}),a.a.createElement(Ie,{to:"/schedules",primary:y.a.t("mainDrawer.listItems.schedules"),icon:a.a.createElement(_e.a,null)}),a.a.createElement(Ie,{to:"/tags",primary:y.a.t("mainDrawer.listItems.tags"),icon:a.a.createElement(Ne.a,null)}),a.a.createElement(Ae,{role:o.profile,perform:"drawer-admin-items:view",yes:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(W.a,null),a.a.createElement(se.a,{inset:!0},"Gerenciar Campanhas"),a.a.createElement(Ie,{to:"/BulkMessage",primary:"Campanhas",icon:a.a.createElement(ne.a,null)}),a.a.createElement(Ie,{to:"/ShippingReport",primary:"Relat\xf3rio Envios",icon:a.a.createElement(ae.a,null)}),a.a.createElement(Ie,{to:"/SettingsMessage",primary:"Config. Envios",icon:a.a.createElement(oe.a,null)}),a.a.createElement(W.a,null),a.a.createElement(se.a,{inset:!0},y.a.t("mainDrawer.listItems.administration")),a.a.createElement(Ie,{to:"/users",primary:y.a.t("mainDrawer.listItems.users"),icon:a.a.createElement(Ee.a,null)}),a.a.createElement(Ie,{to:"/queues",primary:y.a.t("mainDrawer.listItems.queues"),icon:a.a.createElement(Le.a,null)}),a.a.createElement(Ie,{to:"/settings",primary:y.a.t("mainDrawer.listItems.settings"),icon:a.a.createElement(ye.a,null)}),a.a.createElement(W.a,null),a.a.createElement(se.a,{inset:!0},y.a.t("API")),a.a.createElement(Ie,{to:"/tokens",primary:y.a.t("TOKEN"),icon:a.a.createElement(ee.a,null)}),a.a.createElement(Ie,{to:"/docs",primary:"Manual",icon:a.a.createElement(re.a,null)}))}}))},Me=r(880),Re=r(443),Ge=r(820),Fe=r(449),De=r.n(Fe),We=r(890),qe=r(891),Be=r(295),Ue=r(819),ze=r(889),He=r(446),Qe=r.n(He),Ye=r(447),Ve=r.n(Ye),Ke=r(344),Je=r.n(Ke),Ze=r(343),Xe=r.n(Ze),$e=r(158),et=r(444),tt=["children"],rt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],nt=["a","b","strong","em","u","code","del"],at=function(e){var t=e.children,r=Object($e.a)(e,tt);return a.a.createElement("a",Object.assign({},r,{target:"_blank",rel:"noopener noreferrer"}),t)},ot=function(e){var t=e.children,r=/\*(.*?)\*/g,n=/~(.*?)~/g;t&&t.includes("BEGIN:VCARD")&&(t=null),t&&t.includes("data:image/")&&(t=null),t&&r.test(t)&&(t=t.replace(r,"**$1**")),t&&n.test(t)&&(t=t.replace(n,"~~$1~~"));var o=a.a.useMemo((function(){var e={disableParsingRawHTML:!0,forceInline:!0,overrides:{a:{component:at}}};return rt.forEach((function(t){nt.includes(t)||(e.overrides[t]=function(e){return e.children||null})})),e}),[]);return t?a.a.createElement(et.a,{options:o},t):null},it=r(818);function ct(){ct=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var lt=Object(G.a)((function(e){return{ticket:{position:"relative"},pendingTicket:{cursor:"unset"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},contactNameWrapper:{display:"flex",justifyContent:"space-between"},lastMessageTime:{justifySelf:"flex-end"},closedBadge:{alignSelf:"center",justifySelf:"flex-end",marginRight:32,marginLeft:"auto"},contactLastMessage:{paddingRight:20},newMessagesCount:{alignSelf:"center",marginRight:8,marginLeft:"auto"},bottomButton:{top:"12px"},badgeStyle:{color:"white",backgroundColor:Be.a[500]},acceptButton:{position:"absolute",left:"50%"},ticketQueueColor:{flex:"none",width:"8px",height:"100%",position:"absolute",top:"0%",left:"0%"},userTag:{position:"absolute",marginRight:5,right:20,bottom:30,background:"#2576D2",color:"#ffffff",border:"1px solid #CCC",padding:1,paddingLeft:5,paddingRight:5,borderRadius:10,fontSize:"0.9em"}}})),st=function(e){var t,r,o,i,c=e.ticket,s=lt(),f=Object(u.g)(),h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=(p[0],p[1]),v=Object(u.h)().ticketId,g=Object(n.useRef)(!0),b=Object(n.useContext)(S).user;Object(n.useEffect)((function(){return function(){g.current=!1}}),[]);var E=function(){var e=Object(d.a)(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,O.put("/tickets/".concat(t),{status:"open",userId:null===b||void 0===b?void 0:b.id});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),m(!1),L(e.t0);case 10:g.current&&m(!1),f.push("/tickets/".concat(t));case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,O.put("/tickets/".concat(t),{status:"open",userId:null===b||void 0===b?void 0:b.id});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),m(!1),L(e.t0);case 10:g.current&&m(!1),f.push("/tickets/".concat(t));case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,O.put("/tickets/".concat(t),{status:"pending"});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),m(!1),L(e.t0);case 10:g.current&&m(!1),f.push("/tickets/".concat(t));case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(d.a)(ct().mark((function e(t){return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,O.put("/tickets/".concat(t),{status:"closed",userId:null===b||void 0===b?void 0:b.id});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),m(!1),L(e.t0);case 10:g.current&&m(!1);case 11:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,{key:c.id},a.a.createElement(ie.a,{dense:!0,button:!0,onClick:function(e){var t;"pending"!==c.status&&(t=c.id,f.push("/tickets/".concat(t)))},selected:v&&+v===c.id,className:Object(R.a)(s.ticket,Object(M.a)({},s.pendingTicket,"pending"===c.status))},a.a.createElement(it.a,{arrow:!0,placement:"right",title:(null===(t=c.queue)||void 0===t?void 0:t.name)||"Sem fila"},a.a.createElement("span",{style:{backgroundColor:(null===(r=c.queue)||void 0===r?void 0:r.color)||"#7C7C7C"},className:s.ticketQueueColor})),a.a.createElement(Ue.a,null,a.a.createElement(ze.a,{src:null===c||void 0===c||null===(o=c.contact)||void 0===o?void 0:o.profilePicUrl})),a.a.createElement(le.a,{disableTypography:!0,primary:a.a.createElement("span",{className:s.contactNameWrapper},a.a.createElement(z.a,{noWrap:!0,component:"span",variant:"body2",color:"textPrimary"},c.contact.name),c.lastMessage&&a.a.createElement(z.a,{className:s.lastMessageTime,component:"span",variant:"body2",color:"textSecondary"},Object(We.a)(Object(qe.a)(c.updatedAt),new Date)?a.a.createElement(a.a.Fragment,null,Object(Me.a)(Object(qe.a)(c.updatedAt),"HH:mm")):a.a.createElement(a.a.Fragment,null,Object(Me.a)(Object(qe.a)(c.updatedAt),"dd/MM/yyyy"))),c.whatsappId&&a.a.createElement("div",{className:s.userTag,title:y.a.t("ticketsList.connectionTitle")},null===(i=c.whatsapp)||void 0===i?void 0:i.name)),secondary:a.a.createElement("span",{className:s.contactNameWrapper},a.a.createElement(z.a,{className:s.contactLastMessage,noWrap:!0,component:"span",variant:"body2",color:"textSecondary"},c.lastMessage?a.a.createElement(ot,null,c.lastMessage):a.a.createElement("br",null)),a.a.createElement(ue.a,{className:s.newMessagesCount,badgeContent:c.unreadMessages,classes:{badge:s.badgeStyle}}))}),"pending"===c.status&&a.a.createElement(D.a,{className:s.bottomButton,color:"primary",onClick:function(e){return E(c.id)}},a.a.createElement(Qe.a,null)),"pending"===c.status&&a.a.createElement(D.a,{className:s.bottomButton,color:"primary",onClick:function(e){return x(c.id)}},a.a.createElement(Ve.a,null)),"pending"===c.status&&a.a.createElement(D.a,{className:s.bottomButton,color:"primary",onClick:function(e){return j(c.id)}},a.a.createElement(Xe.a,null)),"open"===c.status&&a.a.createElement(D.a,{className:s.bottomButton,color:"primary",onClick:function(e){return x(c.id)}},a.a.createElement(Je.a,null)),"open"===c.status&&a.a.createElement(D.a,{className:s.bottomButton,color:"primary",onClick:function(e){return j(c.id)}},a.a.createElement(Xe.a,null)),"closed"===c.status&&a.a.createElement(D.a,{className:s.bottomButton,color:"primary",onClick:function(e){return w(c.id)}},a.a.createElement(Je.a,null)),"closed"===c.status&&a.a.createElement(D.a,{className:s.bottomButton,color:"primary"})),a.a.createElement(W.a,{variant:"inset",component:"li"}))};function ut(){ut=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var ft=function(e){var t=e.searchParam,r=e.pageNumber,a=e.status,o=e.date,i=e.showAll,c=e.queueIds,s=e.withUnreadMessages,u=e.tags,f=Object(n.useState)(!0),h=Object(l.a)(f,2),p=h[0],v=h[1],g=Object(n.useState)(!1),y=Object(l.a)(g,2),b=y[0],E=y[1],w=Object(n.useState)([]),x=Object(l.a)(w,2),j=x[0],k=x[1],S=Object(n.useState)(0),N=Object(l.a)(S,2),T=N[0],_=N[1];return Object(n.useEffect)((function(){v(!0);var e=setTimeout((function(){var e=function(){var e=Object(d.a)(ut().mark((function e(){var l,f,d,h;return ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/tickets",{params:{searchParam:t,pageNumber:r,status:a,date:o,showAll:i,queueIds:c,withUnreadMessages:s,tags:u}});case 3:l=e.sent,f=l.data,k(f.tickets),d=m("REACT_APP_HOURS_CLOSE_TICKETS_AUTO"),"open"===a&&d&&""!==d&&"0"!==d&&Number(d)>0&&((h=new Date).setHours(h.getHours()-Number(d)),f.tickets.forEach((function(e){"closed"!==e.status&&(new Date(e.updatedAt)<h&&n(e))}))),E(f.hasMore),_(f.count),v(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),v(!1),L(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(d.a)(ut().mark((function e(t){return ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.put("/tickets/".concat(t.id),{status:"closed",userId:t.userId||null});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();e()}),500);return function(){return clearTimeout(e)}}),[t,r,a,o,i,c,s,u]),{tickets:j,loading:p,hasMore:b,count:T}},dt=r(448),ht=r.n(dt),pt=Object(G.a)((function(e){return{tabContainer:Object(E.a)({overflowY:"auto",maxHeight:350},e.scrollbarStyles),popoverPaper:Object(M.a)({width:"100%",maxWidth:350,marginLeft:e.spacing(2),marginRight:e.spacing(1)},e.breakpoints.down("sm"),{maxWidth:270}),noShadow:{boxShadow:"none !important"}}})),mt=function(){var e=pt(),t=Object(u.g)(),r=Object(n.useContext)(S).user,o=+t.location.pathname.split("/")[2],i=Object(n.useRef)(o),c=Object(n.useRef)(),s=Object(n.useState)(!1),f=Object(l.a)(s,2),d=f[0],h=f[1],p=Object(n.useState)([]),m=Object(l.a)(p,2),v=m[0],b=m[1],E=Object(n.useState)([]),w=Object(l.a)(E,2)[1],x=ft({withUnreadMessages:"true"}).tickets,O=Object(Re.a)(ht.a),L=Object(l.a)(O,1)[0],j=Object(n.useRef)(),k=Object(n.useRef)(t);Object(n.useEffect)((function(){j.current=L,"Notification"in window?Notification.requestPermission():console.log("This browser doesn't support notifications")}),[L]),Object(n.useEffect)((function(){b(x)}),[x]),Object(n.useEffect)((function(){i.current=o}),[o]),Object(n.useEffect)((function(){var e=g();return e.on("connect",(function(){return e.emit("joinNotification")})),e.on("ticket",(function(e){"updateUnread"!==e.action&&"delete"!==e.action||(b((function(t){var r=t.findIndex((function(t){return t.id===e.ticketId}));return-1!==r?(t.splice(r,1),Object(T.a)(t)):t})),w((function(t){var r=t.findIndex((function(t){return t.tag===String(e.ticketId)}));return-1!==r?(t[r].close(),t.splice(r,1),Object(T.a)(t)):t})))})),e.on("appMessage",(function(e){if("create"===e.action&&!e.message.read&&(e.ticket.userId===(null===r||void 0===r?void 0:r.id)||!e.ticket.userId)){if(b((function(t){var r=t.findIndex((function(t){return t.id===e.ticket.id}));return-1!==r?(t[r]=e.ticket,Object(T.a)(t)):[e.ticket].concat(Object(T.a)(t))})),e.message.ticketId===i.current&&"visible"===document.visibilityState||e.ticket.userId&&e.ticket.userId!==(null===r||void 0===r?void 0:r.id)||e.ticket.isGroup)return;N(e)}})),function(){e.disconnect()}}),[r]);var N=function(e){var t=e.message,r=e.contact,n=e.ticket,a={body:"".concat(t.body," - ").concat(Object(Me.a)(new Date,"HH:mm")),icon:r.profilePicUrl,tag:n.id,renotify:!0},o=new Notification("".concat(y.a.t("tickets.notification.message")," ").concat(r.name),a);o.onclick=function(e){e.preventDefault(),window.focus(),k.current.push("/tickets/".concat(n.id))},w((function(e){var t=e.findIndex((function(e){return e.tag===o.tag}));return-1!==t?(e[t]=o,Object(T.a)(e)):[o].concat(Object(T.a)(e))})),j.current()},_=function(){h(!1)},C=function(e){var t=e.children;return a.a.createElement("div",{onClick:_},t)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(D.a,{onClick:function(){h((function(e){return!e}))},ref:c,"aria-label":"Open Notifications",color:"inherit"},a.a.createElement(ue.a,{badgeContent:v.length,color:"secondary"},a.a.createElement(De.a,null))),a.a.createElement(Ge.a,{disableScrollLock:!0,open:d,anchorEl:c.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},classes:{paper:e.popoverPaper},onClose:_},a.a.createElement(q.a,{dense:!0,className:e.tabContainer},0===v.length?a.a.createElement(ie.a,null,a.a.createElement(le.a,null,y.a.t("notifications.noTickets"))):v.map((function(e){return a.a.createElement(C,{key:e.id},a.a.createElement(st,{ticket:e}))})))))},vt=r(23),gt=r(13),yt=r(823),bt=r(824),Et=r(825),wt=r(826),xt=r(827),Ot=r(761),Lt=r(762),jt=r(769),kt=r(830),St=r(831),Nt=r(832),Tt=r(828),_t=r(829),Ct=r(893);function At(){At=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var It=Object(G.a)((function(e){return{chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}})),Pt=function(e){var t=e.selectedQueueIds,r=e.onChange,o=It(),i=Object(n.useState)([]),c=Object(l.a)(i,2),s=c[0],u=c[1];Object(n.useEffect)((function(){Object(d.a)(At().mark((function e(){var t,r;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/queue");case 3:t=e.sent,r=t.data,u(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),L(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[]);return a.a.createElement("div",{style:{marginTop:6}},a.a.createElement(Ot.a,{fullWidth:!0,margin:"dense",variant:"outlined"},a.a.createElement(Lt.a,null,y.a.t("queueSelect.inputLabel")),a.a.createElement(jt.a,{multiple:!0,labelWidth:60,value:t,onChange:function(e){r(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:function(e){return a.a.createElement("div",{className:o.chips},(null===e||void 0===e?void 0:e.length)>0&&e.map((function(e){var t=s.find((function(t){return t.id===e}));return t?a.a.createElement(Ct.a,{key:e,style:{backgroundColor:t.color},variant:"outlined",label:t.name,className:o.chip}):null})))}},s.map((function(e){return a.a.createElement(Q.a,{key:e.id,value:e.id},e.name)})))))};function Mt(){Mt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Rt=Object(G.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Be.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}}})),Gt=vt.c().shape({name:vt.d().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:vt.d().min(5,"Too Short!").max(50,"Too Long!"),email:vt.d().email("Invalid email").required("Required")}),Ft=function(e){var t=e.open,r=e.onClose,o=e.userId,i=Rt(),c={name:"",email:"",password:"",profile:"user"},s=Object(n.useContext)(S).user,u=Object(n.useState)(c),h=Object(l.a)(u,2),p=h[0],m=h[1],v=Object(n.useState)([]),g=Object(l.a)(v,2),b=g[0],w=g[1],x=Object(n.useState)(!1),j=Object(l.a)(x,2),k=j[0],N=j[1],T=Object(n.useState)(!1),_=Object(l.a)(T,2),C=_[0],I=_[1],P=A(),M=P.loading,R=P.whatsApps;Object(n.useEffect)((function(){(function(){var e=Object(d.a)(Mt().mark((function e(){var t,r,n,a;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,O.get("/users/".concat(o));case 5:r=e.sent,n=r.data,m((function(e){return Object(E.a)(Object(E.a)({},e),n)})),a=null===(t=n.queues)||void 0===t?void 0:t.map((function(e){return e.id})),w(a),I(n.whatsappId?n.whatsappId:""),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),L(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}})()()}),[o,t]);var G=function(){r(),m(c)},F=function(){var e=Object(d.a)(Mt().mark((function e(t){var r;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(E.a)(Object(E.a)({},t),{},{whatsappId:C,queueIds:b}),e.prev=1,!o){e.next=7;break}return e.next=5,O.put("/users/".concat(o),r);case 5:e.next=9;break;case 7:return e.next=9,O.post("/users",r);case 9:f.b.success(y.a.t("userModal.success")),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),L(e.t0);case 15:G();case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:i.root},a.a.createElement(yt.a,{open:t,onClose:G,maxWidth:"xs",fullWidth:!0,scroll:"paper"},a.a.createElement(bt.a,{id:"form-dialog-title"},"".concat(o?y.a.t("userModal.title.edit"):y.a.t("userModal.title.add"))),a.a.createElement(gt.d,{initialValues:p,enableReinitialize:!0,validationSchema:Gt,onSubmit:function(e,t){setTimeout((function(){F(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.touched,r=e.errors,n=e.isSubmitting;return a.a.createElement(gt.c,null,a.a.createElement(Et.a,{dividers:!0},a.a.createElement("div",{className:i.multFieldLine},a.a.createElement(gt.a,{as:wt.a,label:y.a.t("userModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(r.name),helperText:t.name&&r.name,variant:"outlined",margin:"dense",fullWidth:!0}),a.a.createElement(gt.a,{as:wt.a,name:"password",variant:"outlined",margin:"dense",label:y.a.t("userModal.form.password"),error:t.password&&Boolean(r.password),helperText:t.password&&r.password,type:k?"text":"password",InputProps:{endAdornment:a.a.createElement(xt.a,{position:"end"},a.a.createElement(D.a,{"aria-label":"toggle password visibility",onClick:function(){return N((function(e){return!e}))}},k?a.a.createElement(Tt.a,null):a.a.createElement(_t.a,null)))},fullWidth:!0})),a.a.createElement("div",{className:i.multFieldLine},a.a.createElement(gt.a,{as:wt.a,label:y.a.t("userModal.form.email"),name:"email",error:t.email&&Boolean(r.email),helperText:t.email&&r.email,variant:"outlined",margin:"dense",fullWidth:!0}),a.a.createElement(Ot.a,{variant:"outlined",className:i.formControl,margin:"dense"},a.a.createElement(Ae,{role:s.profile,perform:"user-modal:editProfile",yes:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Lt.a,{id:"profile-selection-input-label"},y.a.t("userModal.form.profile")),a.a.createElement(gt.a,{as:jt.a,label:y.a.t("userModal.form.profile"),name:"profile",labelId:"profile-selection-label",id:"profile-selection",required:!0},a.a.createElement(Q.a,{value:"admin"},"Admin"),a.a.createElement(Q.a,{value:"user"},"User")))}}))),a.a.createElement(Ae,{role:s.profile,perform:"user-modal:editQueues",yes:function(){return a.a.createElement(Pt,{selectedQueueIds:b,onChange:function(e){return w(e)}})}}),a.a.createElement(Ae,{role:s.profile,perform:"user-modal:editQueues",yes:function(){return!M&&a.a.createElement(Ot.a,{variant:"outlined",margin:"dense",className:i.maxWidth,fullWidth:!0},a.a.createElement(Lt.a,null,y.a.t("userModal.form.whatsapp")),a.a.createElement(gt.a,{as:jt.a,value:C,onChange:function(e){return I(e.target.value)},label:y.a.t("userModal.form.whatsapp")},a.a.createElement(Q.a,{value:""},"\xa0"),R.map((function(e){return a.a.createElement(Q.a,{key:e.id,value:e.id},e.name)}))))}})),a.a.createElement(kt.a,null,a.a.createElement(St.a,{onClick:G,color:"secondary",disabled:n,variant:"outlined"},y.a.t("userModal.buttons.cancel")),a.a.createElement(St.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:i.btnWrapper},"".concat(o?y.a.t("userModal.buttons.okEdit"):y.a.t("userModal.buttons.okAdd")),n&&a.a.createElement(Nt.a,{size:24,className:i.buttonProgress}))))}))))},Dt=r(766),Wt=Object(G.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),qt=function(){var e=Wt();return a.a.createElement(Dt.a,{className:e.backdrop,open:!0},a.a.createElement(Nt.a,{color:"inherit"}))},Bt=r(454),Ut=r.n(Bt),zt=Object(G.a)((function(e){return{root:Object(M.a)({display:"flex",height:"100vh"},e.breakpoints.down("sm"),{height:"calc(100vh - 56px)"}),toolbar:{paddingRight:24},toolbarIcon:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px",minHeight:"48px"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(M.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:{minHeight:"48px"},content:{flex:1,overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}})),Ht=function(e){var t=e.children,r=zt(),o=Object(n.useState)(!1),i=Object(l.a)(o,2),c=i[0],s=i[1],u=Object(n.useState)(null),f=Object(l.a)(u,2),d=f[0],h=f[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),v=m[0],g=m[1],b=Object(n.useContext)(S),E=b.handleLogout,w=b.loading,x=Object(n.useState)(!1),O=Object(l.a)(x,2),L=O[0],j=O[1],k=Object(n.useState)("permanent"),N=Object(l.a)(k,2),T=N[0],_=N[1],C=Object(n.useContext)(S).user;Object(n.useEffect)((function(){document.body.offsetWidth>600&&j(!0)}),[]),Object(n.useEffect)((function(){document.body.offsetWidth<600?_("temporary"):_("permanent")}),[L]);var A=function(){h(null),g(!1)};return w?a.a.createElement(qt,null):a.a.createElement("div",{className:r.root},a.a.createElement(F.a,{variant:T,className:L?r.drawerPaper:r.drawerPaperClose,classes:{paper:Object(R.a)(r.drawerPaper,!L&&r.drawerPaperClose)},open:L},a.a.createElement("div",{className:r.toolbarIcon},a.a.createElement("img",{src:Ut.a,alt:"logo"}),a.a.createElement(D.a,{onClick:function(){return j(!L)}},a.a.createElement(J.a,null))),a.a.createElement(W.a,null),a.a.createElement(q.a,null,a.a.createElement(Pe,{drawerClose:function(){document.body.offsetWidth<600&&j(!1)}})),a.a.createElement(W.a,null)),a.a.createElement(Ft,{open:c,onClose:function(){return s(!1)},userId:null===C||void 0===C?void 0:C.id}),a.a.createElement(B.a,{position:"absolute",className:Object(R.a)(r.appBar,L&&r.appBarShift),color:"primary"},a.a.createElement(U.a,{variant:"dense",className:r.toolbar},a.a.createElement(D.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){return j(!L)},className:Object(R.a)(r.menuButton,L&&r.menuButtonHidden)},a.a.createElement(V.a,null)),a.a.createElement(z.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:r.title},"WhatsPainel | Seu WhatsApp Web em v\xe1rios computadores!"),C.id&&a.a.createElement(mt,null),a.a.createElement("div",null,a.a.createElement(D.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){h(e.currentTarget),g(!0)},color:"inherit"},a.a.createElement(X.a,null)),a.a.createElement(H.a,{id:"menu-appbar",anchorEl:d,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:v,onClose:A},a.a.createElement(Q.a,{onClick:function(){s(!0),A()}},y.a.t("mainDrawer.appBar.user.profile")),a.a.createElement(Q.a,{onClick:function(){A(),E()}},y.a.t("mainDrawer.appBar.user.logout")))))),a.a.createElement("main",{className:r.content},a.a.createElement("div",{className:r.appBarSpacer}),t||null))},Qt=r(299),Yt=r(847),Vt=r(848),Kt=r(836),Jt=r(837),Zt=r(849),Xt=r(843),$t=r(844),er=r(845),tr=r(846),rr=r(850),nr=r(851),ar=r(852),or=r(835),ir=Object(G.a)((function(e){return{mainContainer:{flex:1,padding:16,height:"calc(100% - 48px)"},contentWrapper:{height:"100%",overflowY:"hidden",display:"flex",flexDirection:"column"}}})),cr=function(e){var t=e.children,r=ir();return a.a.createElement(or.a,{className:r.mainContainer,maxWidth:!1},a.a.createElement("div",{className:r.contentWrapper},t))},lr=Object(G.a)((function(e){return{contactsHeader:{display:"flex",alignItems:"center",padding:"0px 6px 6px 6px"}}})),sr=function(e){var t=e.children,r=lr();return a.a.createElement("div",{className:r.contactsHeader},t)},ur=Object(G.a)((function(e){return{MainHeaderButtonsWrapper:{flex:"none",marginLeft:"auto","& > *":{margin:e.spacing(1)}}}})),fr=function(e){var t=e.children,r=ur();return a.a.createElement("div",{className:r.MainHeaderButtonsWrapper},t)};function dr(e){return a.a.createElement(z.a,{variant:"h5",color:"primary",gutterBottom:!0},e.children)}var hr=r(838),pr=Object(G.a)((function(e){return{customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}}})),mr=function(e){var t=e.avatar,r=e.columns,n=pr();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Kt.a,null,t&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Jt.a,{style:{paddingRight:0}},a.a.createElement(hr.a,{animation:"wave",variant:"circle",width:40,height:40})),a.a.createElement(Jt.a,null,a.a.createElement(hr.a,{animation:"wave",height:30,width:80}))),Array.from({length:r},(function(e,t){return a.a.createElement(Jt.a,{align:"center",key:t},a.a.createElement("div",{className:n.customTableCell},a.a.createElement(hr.a,{align:"center",animation:"wave",height:30,width:80})))}))))},vr=r(839),gr=r(840),yr=r(841),br=r(842),Er=r(886);function wr(){wr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var xr=Object(G.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Be.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},expediente:{display:"flex",flexWrap:"wrap"},tituloReceberMsg:{fontSize:12,marginLeft:e.spacing(1),marginTop:e.spacing(1),marginBottom:e.spacing(1)},reabrirTicket:{fontSize:12,display:"flex",marginLeft:e.spacing(2)},textSize:{fontSize:12},paperReceberMsg:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},diasSemana:{marginLeft:e.spacing(1)},hora:{marginLeft:e.spacing(1),marginRight:e.spacing(1),marginTop:e.spacing(1),marginBottom:e.spacing(1),width:250},textoExpediente:{marginTop:e.spacing(2),marginLeft:e.spacing(1),marginBottom:e.spacing(3),width:"100%"}}})),Or=vt.c().shape({name:vt.d().min(2,"Too Short!").max(50,"Too Long!").required("Required")}),Lr=a.a.memo((function(e){var t=e.open,r=e.onClose,o=e.whatsAppId,i=xr(),c={name:"",greetingMessage:"",farewellMessage:"",isDefault:!1,isMultidevice:!0,transferTicketMessage:""},s=Object(n.useState)(c),u=Object(l.a)(s,2),h=u[0],p=u[1],m=Object(n.useState)([]),v=Object(l.a)(m,2),g=v[0],b=v[1],w=Object(n.useState)(!1),x=Object(l.a)(w,2),j=x[0],k=x[1],S=Object(n.useState)(""),N=Object(l.a)(S,2),T=N[0],_=N[1],C=Object(n.useState)("08:00"),A=Object(l.a)(C,2),I=A[0],P=A[1],M=Object(n.useState)("17:30"),R=Object(l.a)(M,2),G=R[0],F=R[1],D=Object(n.useState)("08:00"),W=Object(l.a)(D,2),q=W[0],B=W[1],U=Object(n.useState)("17:30"),z=Object(l.a)(U,2),H=z[0],Q=z[1],Y=Object(n.useState)(!0),V=Object(l.a)(Y,2),K=V[0],J=V[1],Z=Object(n.useState)(!0),X=Object(l.a)(Z,2),$=X[0],ee=X[1],te=Object(n.useState)(!0),re=Object(l.a)(te,2),ne=re[0],ae=re[1],oe=Object(n.useState)(!0),ie=Object(l.a)(oe,2),ce=ie[0],le=ie[1],se=Object(n.useState)(!0),ue=Object(l.a)(se,2),fe=ue[0],de=ue[1],he=Object(n.useState)(!1),pe=Object(l.a)(he,2),me=pe[0],ve=pe[1],ge=Object(n.useState)(!1),ye=Object(l.a)(ge,2),be=ye[0],Ee=ye[1];Object(n.useEffect)((function(){(function(){var e=Object(d.a)(wr().mark((function e(){var t,r,n,a;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,O.get("whatsapp/".concat(o));case 5:r=e.sent,n=r.data,p(n),J(n.monday),ee(n.tuesday),ae(n.wednesday),le(n.thursday),de(n.friday),ve(n.saturday),Ee(n.sunday),k(n.defineWorkHours),_(n.outOfWorkMessage),P(n.startWorkHour),F(n.endWorkHour),B(n.startWorkHourWeekend),Q(n.endWorkHourWeekend),a=null===(t=n.queues)||void 0===t?void 0:t.map((function(e){return e.id})),b(a),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(2),L(e.t0);case 28:case"end":return e.stop()}}),e,null,[[2,25]])})));return function(){return e.apply(this,arguments)}})()()}),[o]);var we=function(e){"MON"===e.target.value&&J(e.target.checked),"TUE"===e.target.value&&ee(e.target.checked),"WED"===e.target.value&&ae(e.target.checked),"THU"===e.target.value&&le(e.target.checked),"FRI"===e.target.value&&de(e.target.checked),"SAT"===e.target.value&&ve(e.target.checked),"SUN"===e.target.value&&Ee(e.target.checked),"defineWorkHours"===e.target.value&&k(e.target.checked)},xe=function(){var e=Object(d.a)(wr().mark((function e(t){var r;return wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(E.a)(Object(E.a)({},t),{},{queueIds:g,startWorkHour:I,endWorkHour:G,defineWorkHours:j,outOfWorkMessage:T,startWorkHourWeekend:q,endWorkHourWeekend:H,monday:K,tuesday:$,wednesday:ne,thursday:ce,friday:fe,saturday:me,sunday:be}),e.prev=1,!o){e.next=7;break}return e.next=5,O.put("/whatsapp/".concat(o),r);case 5:e.next=9;break;case 7:return e.next=9,O.post("/whatsapp",r);case 9:f.b.success(y.a.t("whatsappModal.success")),Oe(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),L(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){r(),p(c)};return a.a.createElement("div",{className:i.root},a.a.createElement(yt.a,{open:t,onClose:Oe,maxWidth:"sm",fullWidth:!0,scroll:"paper"},a.a.createElement(bt.a,null,o?y.a.t("whatsappModal.title.edit"):y.a.t("whatsappModal.title.add")),a.a.createElement(gt.d,{initialValues:h,enableReinitialize:!0,validationSchema:Or,onSubmit:function(e,t){setTimeout((function(){xe(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.values,r=e.touched,n=e.errors,c=e.isSubmitting;return a.a.createElement(gt.c,null,a.a.createElement(Et.a,{dividers:!0},a.a.createElement("div",{className:i.multFieldLine},a.a.createElement(gt.a,{as:wt.a,label:y.a.t("whatsappModal.form.name"),autoFocus:!0,name:"name",error:r.name&&Boolean(n.name),helperText:r.name&&n.name,variant:"outlined",margin:"dense",className:i.textField}),a.a.createElement(vr.a,{control:a.a.createElement(gt.a,{as:gr.a,color:"primary",name:"isDefault",checked:t.isDefault}),label:y.a.t("whatsappModal.form.default")})),a.a.createElement("div",null,a.a.createElement(gt.a,{as:wt.a,label:y.a.t("queueModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,rows:5,fullWidth:!0,name:"greetingMessage",error:r.greetingMessage&&Boolean(n.greetingMessage),helperText:r.greetingMessage&&n.greetingMessage,variant:"outlined",margin:"dense"})),a.a.createElement("div",null,a.a.createElement(gt.a,{as:wt.a,label:y.a.t("whatsappModal.form.farewellMessage"),type:"farewellMessage",multiline:!0,rows:5,fullWidth:!0,name:"farewellMessage",error:r.farewellMessage&&Boolean(n.farewellMessage),helperText:r.farewellMessage&&n.farewellMessage,variant:"outlined",margin:"dense"})),a.a.createElement("div",null,a.a.createElement(gt.a,{as:wt.a,label:"Mensagem de trasnferencia de atendimento",type:"transferTicketMessage",multiline:!0,rows:5,fullWidth:!0,name:"transferTicketMessage",error:r.transferTicketMessage&&Boolean(n.transferTicketMessage),helperText:r.transferTicketMessage&&n.transferTicketMessage,variant:"outlined",margin:"dense"})),a.a.createElement("div",null,!0===j?a.a.createElement("div",null,a.a.createElement(wt.a,{label:y.a.t("queueModal.form.outOfWorkMessage"),rows:4,multiline:!0,fullWidth:!0,name:"outOfWorkMessage",value:T,error:r.outOfWorkMessage&&Boolean(n.outOfWorkMessage),helperText:r.outOfWorkMessage&&n.outOfWorkMessage,variant:"outlined",margin:"dense",onChange:function(e){return _(e.target.value)}})):"",a.a.createElement(yr.a,{container:!0,spacing:2},a.a.createElement(yr.a,{item:!0,xs:12,sm:12,className:i.diasSemana},a.a.createElement(Ot.a,{component:"fieldset"},a.a.createElement(br.a,{"aria-label":"position",row:!0,sx:{width:{xs:100,sm:200,md:300,lg:600,xl:700}}},a.a.createElement(it.a,{title:"\nDesmarque esta op\xe7\xe3o para definir um hor\xe1rio de expediente para os atendimentos.\nQuando um usu\xe1rio escolher ser direcionado a um atendente, o sistema ir\xe1\nverificar o hor\xe1rio e o dia, se estiver fora do expediente, envia um aviso\nao usu\xe1rio e n\xe3o direciona ao atendente escolhido.\n",placement:"top"},a.a.createElement(vr.a,{value:"defineWorkHours",control:a.a.createElement(Er.a,{size:"small",checked:j,onChange:we}),label:"Definir hor\xe1rio de expediente",labelPlacement:"end"}))))),!0===j?a.a.createElement(a.a.Fragment,null,a.a.createElement(yr.a,{item:!0,xs:12,sm:6},a.a.createElement(wt.a,{className:i.hora,type:"time",label:y.a.t("queueModal.form.startWorkHour"),name:"startWorkHour",value:I,onChange:function(e){return P(e.target.value)}})),a.a.createElement(yr.a,{item:!0,xs:12,sm:6},a.a.createElement(wt.a,{className:i.hora,type:"time",label:y.a.t("queueModal.form.endWorkHour"),name:"endWorkHour",value:G,onChange:function(e){return F(e.target.value)}}))):""),!0===j?a.a.createElement(a.a.Fragment,null,a.a.createElement(yr.a,{item:!0,xs:12,sm:12,className:i.diasSemana},a.a.createElement(Ot.a,{component:"fieldset"},a.a.createElement(br.a,{"aria-label":"position",row:!0,sx:{width:{xs:100,sm:200,md:300,lg:600,xl:700}}},a.a.createElement(vr.a,{value:"MON",control:a.a.createElement(Er.a,{size:"small",checked:K,onChange:we}),label:y.a.t("queueModal.form.monday"),labelPlacement:"end"}),a.a.createElement(vr.a,{value:"TUE",control:a.a.createElement(Er.a,{size:"small",checked:$,onChange:we}),label:y.a.t("queueModal.form.tuesday"),labelPlacement:"end"}),a.a.createElement(vr.a,{value:"WED",control:a.a.createElement(Er.a,{size:"small",checked:ne,onChange:we}),label:y.a.t("queueModal.form.wednesday"),labelPlacement:"end"}),a.a.createElement(vr.a,{value:"THU",control:a.a.createElement(Er.a,{size:"small",checked:ce,onChange:we}),label:y.a.t("queueModal.form.thursday"),labelPlacement:"end"}),a.a.createElement(vr.a,{value:"FRI",control:a.a.createElement(Er.a,{size:"small",checked:fe,onChange:we}),label:y.a.t("queueModal.form.friday"),labelPlacement:"end"}))))):"",!0===j?a.a.createElement(a.a.Fragment,null,a.a.createElement(Qt.a,null,a.a.createElement(yr.a,{container:!0,spacing:2,style:{marginTop:10}},a.a.createElement(yr.a,{item:!0,xs:12,sm:6},a.a.createElement(wt.a,{className:i.hora,type:"time",label:y.a.t("queueModal.form.startWorkHour"),name:"StartWorkHourWeekend",value:q,onChange:function(e){return B(e.target.value)}})),a.a.createElement(yr.a,{item:!0,xs:12,sm:6},a.a.createElement(wt.a,{className:i.hora,type:"time",label:y.a.t("queueModal.form.endWorkHour"),name:"EndWorkHourWeekend",value:H,onChange:function(e){return Q(e.target.value)}}))),a.a.createElement(yr.a,{item:!0,xs:12,sm:12,className:i.diasSemana},a.a.createElement(Ot.a,{component:"fieldset"},a.a.createElement(br.a,{"aria-label":"position",row:!0,sx:{width:{xs:100,sm:200,md:300,lg:600,xl:700}}},a.a.createElement(vr.a,{value:"SAT",control:a.a.createElement(Er.a,{size:"small",checked:me,onChange:we}),label:y.a.t("queueModal.form.saturday"),labelPlacement:"end"}),a.a.createElement(vr.a,{value:"SUN",control:a.a.createElement(Er.a,{size:"small",checked:be,onChange:we}),label:y.a.t("queueModal.form.sunday"),labelPlacement:"end"})))))):""),a.a.createElement(Pt,{selectedQueueIds:g,onChange:function(e){return b(e)}})),a.a.createElement(kt.a,null,a.a.createElement(St.a,{onClick:Oe,color:"secondary",disabled:c,variant:"outlined"},y.a.t("whatsappModal.buttons.cancel")),a.a.createElement(St.a,{type:"submit",color:"primary",disabled:c,variant:"contained",className:i.btnWrapper},o?y.a.t("whatsappModal.buttons.okEdit"):y.a.t("whatsappModal.buttons.okAdd"),c&&a.a.createElement(Nt.a,{size:24,className:i.buttonProgress}))))}))))})),jr=function(e){var t=e.title,r=e.children,n=e.open,o=e.onClose,i=e.onConfirm;return a.a.createElement(yt.a,{open:n,onClose:function(){return o(!1)},"aria-labelledby":"confirm-dialog"},a.a.createElement(bt.a,{id:"confirm-dialog"},t),a.a.createElement(Et.a,{dividers:!0},a.a.createElement(z.a,null,r)),a.a.createElement(kt.a,null,a.a.createElement(St.a,{variant:"contained",onClick:function(){return o(!1)},color:"default"},y.a.t("confirmationModal.buttons.cancel")),a.a.createElement(St.a,{variant:"contained",onClick:function(){o(!1),i()},color:"secondary"},y.a.t("confirmationModal.buttons.confirm"))))},kr=r(458),Sr=r.n(kr);function Nr(){Nr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Tr=a.a.memo((function(e){var t=e.open,r=e.onClose,o=e.whatsAppId,i=Object(n.useState)(""),c=Object(l.a)(i,2),s=c[0],u=c[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(Nr().mark((function e(){var t,r;return Nr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,O.get("/whatsapp/".concat(o));case 5:t=e.sent,r=t.data,u(r.qrcode),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),L(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}})()()}),[o]),Object(n.useEffect)((function(){if(o){var e=g();return e.on("whatsappSession",(function(e){"update"===e.action&&e.session.id===o&&u(e.session.qrcode),"update"===e.action&&""===e.session.qrcode&&r()})),function(){e.disconnect()}}}),[o,r]),a.a.createElement(yt.a,{open:t,onClose:r,maxWidth:"lg",scroll:"paper"},a.a.createElement(Et.a,null,a.a.createElement(Qt.a,{elevation:0},a.a.createElement(z.a,{color:"primary",gutterBottom:!0},y.a.t("qrCode.message")),s?a.a.createElement(Sr.a,{value:s,size:256}):a.a.createElement("span",null,"Waiting for QR Code"))))}));function _r(){_r=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Cr=Object(G.a)((function(e){return{mainPaper:Object(E.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:Be.a[500]}}})),Ar=function(e){var t=e.title,r=e.content,n=e.children,o=Cr();return a.a.createElement(it.a,{arrow:!0,classes:{tooltip:o.tooltip,popper:o.tooltipPopper},title:a.a.createElement(a.a.Fragment,null,a.a.createElement(z.a,{gutterBottom:!0,color:"inherit"},t),r&&a.a.createElement(z.a,null,r))},n)},Ir=function(){var e=Cr(),t=Object(n.useContext)(I),r=t.whatsApps,o=t.loading,i=Object(n.useState)(!1),c=Object(l.a)(i,2),s=c[0],u=c[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],v=p[1],g=Object(n.useState)(null),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(!1),j=Object(l.a)(x,2),k=j[0],S=j[1],N={action:"",title:"",message:"",whatsAppId:"",open:!1},T=Object(n.useState)(N),_=Object(l.a)(T,2),C=_[0],A=_[1],P=function(){var e=Object(d.a)(_r().mark((function e(t){return _r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.post("/whatsappsession/".concat(t));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),L(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(d.a)(_r().mark((function e(t){return _r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.put("/whatsappsession/".concat(t));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),L(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),R=Object(n.useCallback)((function(){u(!1),w(null)}),[w,u]),G=Object(n.useCallback)((function(){w(null),v(!1)}),[v,w]),F=function(e,t){"disconnect"===e&&A({action:e,title:y.a.t("connections.confirmationModal.disconnectTitle"),message:y.a.t("connections.confirmationModal.disconnectMessage"),whatsAppId:t}),"delete"===e&&A({action:e,title:y.a.t("connections.confirmationModal.deleteTitle"),message:y.a.t("connections.confirmationModal.deleteMessage"),whatsAppId:t}),S(!0)},W=function(){var e=Object(d.a)(_r().mark((function e(){return _r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("disconnect"!==C.action){e.next=9;break}return e.prev=1,e.next=4,O.delete("/whatsappsession/".concat(C.whatsAppId));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),L(e.t0);case 9:if("delete"!==C.action){e.next=19;break}return e.prev=10,e.next=13,O.delete("/whatsapp/".concat(C.whatsAppId));case 13:f.b.success(y.a.t("connections.toasts.deleted")),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(10),L(e.t1);case 19:A(N);case 20:case"end":return e.stop()}}),e,null,[[1,6],[10,16]])})));return function(){return e.apply(this,arguments)}}(),q=function(e){return a.a.createElement(a.a.Fragment,null,"qrcode"===e.status&&a.a.createElement(St.a,{size:"small",variant:"contained",color:"primary",onClick:function(){return function(e){w(e),v(!0)}(e)}},y.a.t("connections.buttons.qrcode")),"DISCONNECTED"===e.status&&a.a.createElement(a.a.Fragment,null,a.a.createElement(St.a,{size:"small",variant:"outlined",color:"primary",onClick:function(){return P(e.id)}},y.a.t("connections.buttons.tryAgain"))," ",a.a.createElement(St.a,{size:"small",variant:"outlined",color:"secondary",onClick:function(){return M(e.id)}},y.a.t("connections.buttons.newQr"))),("CONNECTED"===e.status||"PAIRING"===e.status||"TIMEOUT"===e.status)&&a.a.createElement(St.a,{size:"small",variant:"outlined",color:"secondary",onClick:function(){F("disconnect",e.id)}},y.a.t("connections.buttons.disconnect")),"OPENING"===e.status&&a.a.createElement(St.a,{size:"small",variant:"outlined",disabled:!0,color:"default"},y.a.t("connections.buttons.connecting")))};return a.a.createElement(cr,null,a.a.createElement(jr,{title:C.title,open:k,onClose:S,onConfirm:W},C.message),a.a.createElement(Tr,{open:m,onClose:G,whatsAppId:!s&&(null===E||void 0===E?void 0:E.id)}),a.a.createElement(Lr,{open:s,onClose:R,whatsAppId:!m&&(null===E||void 0===E?void 0:E.id)}),a.a.createElement(sr,null,a.a.createElement(dr,null,y.a.t("connections.title")),a.a.createElement(fr,null,a.a.createElement(St.a,{variant:"contained",color:"primary",onClick:function(){w(null),u(!0)}},y.a.t("connections.buttons.add")))),a.a.createElement(Qt.a,{className:e.mainPaper,variant:"outlined"},a.a.createElement(Yt.a,{size:"small"},a.a.createElement(Vt.a,null,a.a.createElement(Kt.a,null,a.a.createElement(Jt.a,{align:"center"},y.a.t("connections.table.name")),a.a.createElement(Jt.a,{align:"center"},y.a.t("connections.table.status")),a.a.createElement(Jt.a,{align:"center"},y.a.t("connections.table.session")),a.a.createElement(Jt.a,{align:"center"},y.a.t("connections.table.lastUpdate")),a.a.createElement(Jt.a,{align:"center"},y.a.t("connections.table.default")),a.a.createElement(Jt.a,{align:"center"},y.a.t("connections.table.actions")))),a.a.createElement(Zt.a,null,o?a.a.createElement(mr,null):a.a.createElement(a.a.Fragment,null,(null===r||void 0===r?void 0:r.length)>0&&r.map((function(t){return a.a.createElement(Kt.a,{key:t.id},a.a.createElement(Jt.a,{align:"center"},t.name),a.a.createElement(Jt.a,{align:"center"},function(t){return a.a.createElement("div",{className:e.customTableCell},"DISCONNECTED"===t.status&&a.a.createElement(Ar,{title:y.a.t("connections.toolTips.disconnected.title"),content:y.a.t("connections.toolTips.disconnected.content")},a.a.createElement(Xt.a,{color:"secondary"})),"OPENING"===t.status&&a.a.createElement(Nt.a,{size:24,className:e.buttonProgress}),"qrcode"===t.status&&a.a.createElement(Ar,{title:y.a.t("connections.toolTips.qrcode.title"),content:y.a.t("connections.toolTips.qrcode.content")},a.a.createElement($t.a,null)),"CONNECTED"===t.status&&a.a.createElement(Ar,{title:y.a.t("connections.toolTips.connected.title")},a.a.createElement(er.a,{style:{color:Be.a[500]}})),("TIMEOUT"===t.status||"PAIRING"===t.status)&&a.a.createElement(Ar,{title:y.a.t("connections.toolTips.timeout.title"),content:y.a.t("connections.toolTips.timeout.content")},a.a.createElement(tr.a,{color:"secondary"})))}(t)),a.a.createElement(Jt.a,{align:"center"},q(t)),a.a.createElement(Jt.a,{align:"center"},Object(Me.a)(Object(qe.a)(t.updatedAt),"dd/MM/yy HH:mm")),a.a.createElement(Jt.a,{align:"center"},t.isDefault&&a.a.createElement("div",{className:e.customTableCell},a.a.createElement(rr.a,{style:{color:Be.a[500]}}))),a.a.createElement(Jt.a,{align:"center"},a.a.createElement(D.a,{size:"small",onClick:function(){return function(e){w(e),u(!0)}(t)}},a.a.createElement(nr.a,null)),a.a.createElement(D.a,{size:"small",onClick:function(e){F("delete",t.id)}},a.a.createElement(ar.a,null))))})))))))},Pr=r(82),Mr=r.n(Pr),Rr=r(76),Gr=r.n(Rr),Fr=r(92),Dr=r.n(Fr);function Wr(){Wr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var qr=Object(G.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:Be.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),Br=vt.c().shape({name:vt.d().min(2,"Too Short!").max(50,"Too Long!").required("Required"),number:vt.d().min(8,"Too Short!").max(50,"Too Long!"),email:vt.d().email("Invalid email")}),Ur=function(e){var t=e.open,r=e.onClose,o=e.contactId,i=e.initialValues,c=e.onSave,s=qr(),u=Object(n.useRef)(!0),h={name:"",number:"",email:""},p=Object(n.useState)(h),m=Object(l.a)(p,2),v=m[0],g=m[1];Object(n.useEffect)((function(){return function(){u.current=!1}}),[]),Object(n.useEffect)((function(){(function(){var e=Object(d.a)(Wr().mark((function e(){var t,r;return Wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&g((function(e){return Object(E.a)(Object(E.a)({},e),i)})),o){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,O.get("/contacts/".concat(o));case 6:t=e.sent,r=t.data,u.current&&g(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),L(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}})()()}),[o,t,i]);var b=function(){r(),g(h)},w=function(){var e=Object(d.a)(Wr().mark((function e(t){var r,n;return Wr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o){e.next=7;break}return e.next=4,O.put("/contacts/".concat(o),t);case 4:b(),e.next=13;break;case 7:return e.next=9,O.post("/contacts",t);case 9:r=e.sent,n=r.data,c&&c(n),b();case 13:f.b.success(y.a.t("contactModal.success")),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),L(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:s.root},a.a.createElement(yt.a,{open:t,onClose:b,maxWidth:"lg",scroll:"paper"},a.a.createElement(bt.a,{id:"form-dialog-title"},"".concat(o?y.a.t("contactModal.title.edit"):y.a.t("contactModal.title.add"))),a.a.createElement(gt.d,{initialValues:v,enableReinitialize:!0,validationSchema:Br,onSubmit:function(e,t){setTimeout((function(){w(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.values,r=e.errors,n=e.touched,i=e.isSubmitting;return a.a.createElement(gt.c,null,a.a.createElement(Et.a,{dividers:!0},a.a.createElement(z.a,{variant:"subtitle1",gutterBottom:!0},y.a.t("contactModal.form.mainInfo")),a.a.createElement(gt.a,{as:wt.a,label:y.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:n.name&&Boolean(r.name),helperText:n.name&&r.name,variant:"outlined",margin:"dense",className:s.textField}),a.a.createElement(gt.a,{as:wt.a,label:y.a.t("contactModal.form.number"),name:"number",error:n.number&&Boolean(r.number),helperText:n.number&&r.number,placeholder:"5513912344321",variant:"outlined",margin:"dense"}),a.a.createElement("div",null,a.a.createElement(gt.a,{as:wt.a,label:y.a.t("contactModal.form.email"),name:"email",error:n.email&&Boolean(r.email),helperText:n.email&&r.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"})),a.a.createElement(z.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},y.a.t("contactModal.form.extraInfo")),a.a.createElement(gt.b,{name:"extraInfo"},(function(e){var r=e.push,n=e.remove;return a.a.createElement(a.a.Fragment,null,t.extraInfo&&t.extraInfo.length>0&&t.extraInfo.map((function(e,t){return a.a.createElement("div",{className:s.extraAttr,key:"".concat(t,"-info")},a.a.createElement(gt.a,{as:wt.a,label:y.a.t("contactModal.form.extraName"),name:"extraInfo[".concat(t,"].name"),variant:"outlined",margin:"dense",className:s.textField}),a.a.createElement(gt.a,{as:wt.a,label:y.a.t("contactModal.form.extraValue"),name:"extraInfo[".concat(t,"].value"),variant:"outlined",margin:"dense",className:s.textField}),a.a.createElement(D.a,{size:"small",onClick:function(){return n(t)}},a.a.createElement(Gr.a,null)))})),a.a.createElement("div",{className:s.extraAttr},a.a.createElement(St.a,{style:{flex:1,marginTop:8},variant:"outlined",color:"primary",onClick:function(){return r({name:"",value:""})}},"+ ".concat(y.a.t("contactModal.buttons.addExtraInfo")))))}))),a.a.createElement(kt.a,null,a.a.createElement(St.a,{onClick:b,color:"secondary",disabled:i,variant:"outlined"},y.a.t("contactModal.buttons.cancel")),a.a.createElement(St.a,{type:"submit",color:"primary",disabled:i,variant:"contained",className:s.btnWrapper},"".concat(o?y.a.t("contactModal.buttons.okEdit"):y.a.t("contactModal.buttons.okAdd")),i&&a.a.createElement(Nt.a,{size:24,className:s.buttonProgress}))))}))))};function zr(){zr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Hr=function(e,t){if("LOAD_CONTACTS"===t.type){var r=t.payload,n=[];return r.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?e[r]=t:n.push(t)})),[].concat(Object(T.a)(e),n)}if("UPDATE_CONTACTS"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?(e[o]=a,Object(T.a)(e)):[a].concat(Object(T.a)(e))}if("DELETE_CONTACT"===t.type){var i=t.payload,c=e.findIndex((function(e){return e.id===i}));return-1!==c&&e.splice(c,1),Object(T.a)(e)}if("RESET"===t.type)return[]},Qr=Object(G.a)((function(e){return{mainPaper:Object(E.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}})),Yr=function(){var e=Qr(),t=Object(u.g)(),r=Object(n.useContext)(S).user,o=Object(n.useState)(!1),i=Object(l.a)(o,2),c=i[0],s=i[1],h=Object(n.useState)(1),p=Object(l.a)(h,2),m=p[0],v=p[1],b=Object(n.useState)(""),E=Object(l.a)(b,2),w=E[0],x=E[1],j=Object(n.useReducer)(Hr,[]),k=Object(l.a)(j,2),N=k[0],T=k[1],_=Object(n.useState)(null),C=Object(l.a)(_,2),A=C[0],I=C[1],P=Object(n.useState)(!1),M=Object(l.a)(P,2),R=M[0],G=M[1],F=Object(n.useState)(null),W=Object(l.a)(F,2),q=W[0],B=W[1],U=Object(n.useState)(!1),z=Object(l.a)(U,2),H=z[0],Q=z[1],Y=Object(n.useState)(!1),V=Object(l.a)(Y,2),K=V[0],J=V[1];Object(n.useEffect)((function(){T({type:"RESET"}),v(1)}),[w]),Object(n.useEffect)((function(){s(!0);var e=setTimeout((function(){(function(){var e=Object(d.a)(zr().mark((function e(){var t,r;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/contacts/",{params:{searchParam:w,pageNumber:m}});case 3:t=e.sent,r=t.data,T({type:"LOAD_CONTACTS",payload:r.contacts}),J(r.hasMore),s(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),L(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}),[w,m]),Object(n.useEffect)((function(){var e=g();return e.on("contact",(function(e){"update"!==e.action&&"create"!==e.action||T({type:"UPDATE_CONTACTS",payload:e.contact}),"delete"===e.action&&T({type:"DELETE_CONTACT",payload:+e.contactId})})),function(){e.disconnect()}}),[]);var Z=function(){var e=Object(d.a)(zr().mark((function e(n){var a,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return s(!0),e.prev=3,e.next=6,O.post("/tickets",{contactId:n,userId:null===r||void 0===r?void 0:r.id,status:"open"});case 6:a=e.sent,o=a.data,t.push("/tickets/".concat(o.id)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),L(e.t0);case 14:s(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(d.a)(zr().mark((function e(t){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.delete("/contacts/".concat(t));case 3:f.b.success(y.a.t("contacts.toasts.deleted")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),L(e.t0);case 9:B(null),x(""),v(1);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(d.a)(zr().mark((function e(){return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.post("/contacts/import");case 3:t.go(0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),L(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(cr,{className:e.mainContainer},a.a.createElement(Ur,{open:R,onClose:function(){I(null),G(!1)},"aria-labelledby":"form-dialog-title",contactId:A}),a.a.createElement(jr,{title:q?"".concat(y.a.t("contacts.confirmationModal.deleteTitle")," ").concat(q.name,"?"):"".concat(y.a.t("contacts.confirmationModal.importTitlte")),open:H,onClose:Q,onConfirm:function(e){return q?X(q.id):$()}},"".concat(q?y.a.t("contacts.confirmationModal.deleteMessage"):y.a.t("contacts.confirmationModal.importMessage"))),a.a.createElement(sr,null,a.a.createElement(dr,null,y.a.t("contacts.title")),a.a.createElement(fr,null,a.a.createElement(wt.a,{placeholder:y.a.t("contacts.searchPlaceholder"),type:"search",value:w,onChange:function(e){x(e.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(xt.a,{position:"start"},a.a.createElement(Mr.a,{style:{color:"gray"}}))}}),a.a.createElement(St.a,{variant:"contained",color:"primary",onClick:function(e){return Q(!0)}},y.a.t("contacts.buttons.import")),a.a.createElement(St.a,{variant:"contained",color:"primary",onClick:function(){I(null),G(!0)}},y.a.t("contacts.buttons.add")))),a.a.createElement(Qt.a,{className:e.mainPaper,variant:"outlined",onScroll:function(e){if(K&&!c){var t=e.currentTarget,r=t.scrollTop;t.scrollHeight-(r+100)<t.clientHeight&&v((function(e){return e+1}))}}},a.a.createElement(Yt.a,{size:"small"},a.a.createElement(Vt.a,null,a.a.createElement(Kt.a,null,a.a.createElement(Jt.a,{padding:"checkbox"}),a.a.createElement(Jt.a,null,y.a.t("contacts.table.name")),a.a.createElement(Jt.a,{align:"center"},y.a.t("contacts.table.whatsapp")),a.a.createElement(Jt.a,{align:"center"},y.a.t("contacts.table.email")),a.a.createElement(Jt.a,{align:"center"},y.a.t("contacts.table.actions")))),a.a.createElement(Zt.a,null,a.a.createElement(a.a.Fragment,null,N.map((function(e){return a.a.createElement(Kt.a,{key:e.id},a.a.createElement(Jt.a,{style:{paddingRight:0}},a.a.createElement(ze.a,{src:e.profilePicUrl})),a.a.createElement(Jt.a,null,e.name),a.a.createElement(Jt.a,{align:"center"},e.number),a.a.createElement(Jt.a,{align:"center"},e.email),a.a.createElement(Jt.a,{align:"center"},a.a.createElement(D.a,{size:"small",onClick:function(){return Z(e.id)}},a.a.createElement(pe.a,null)),a.a.createElement(D.a,{size:"small",onClick:function(){return t=e.id,I(t),void G(!0);var t}},a.a.createElement(Dr.a,null)),a.a.createElement(Ae,{role:r.profile,perform:"contacts-page:deleteContact",yes:function(){return a.a.createElement(D.a,{size:"small",onClick:function(t){Q(!0),B(e)}},a.a.createElement(Gr.a,null))}})))})),c&&a.a.createElement(mr,{avatar:!0,columns:3}))))))},Vr=r(44),Kr=r(854),Jr=r(855),Zr=r(859),Xr=r(472),$r=r(473),en=r(114),tn=r(495),rn=r(853),nn=function(e){return a.a.createElement(z.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)},an=function(){var e=Object(Vr.a)(),t=Object(n.useRef)((new Date).toISOString()),r=ft({date:t.current}).tickets,o=Object(n.useState)([{time:"08:00",amount:0},{time:"09:00",amount:0},{time:"10:00",amount:0},{time:"11:00",amount:0},{time:"12:00",amount:0},{time:"13:00",amount:0},{time:"14:00",amount:0},{time:"15:00",amount:0},{time:"16:00",amount:0},{time:"17:00",amount:0},{time:"18:00",amount:0},{time:"19:00",amount:0}]),i=Object(l.a)(o,2),c=i[0],s=i[1];return Object(n.useEffect)((function(){s((function(e){var t=Object(T.a)(e);return t.forEach((function(e){r.forEach((function(t){Object(Me.a)(Object(rn.a)(Object(qe.a)(t.createdAt)),"HH:mm")===e.time&&e.amount++}))})),t}))}),[r]),a.a.createElement(a.a.Fragment,null,a.a.createElement(nn,null,"".concat(y.a.t("dashboard.charts.perDay.title")).concat(r.length)),a.a.createElement(Kr.a,null,a.a.createElement(Jr.a,{data:c,barSize:40,width:730,height:250,margin:{top:16,right:16,bottom:0,left:24}},a.a.createElement(Zr.a,{strokeDasharray:"3 3"}),a.a.createElement(Xr.a,{dataKey:"time",stroke:e.palette.text.secondary}),a.a.createElement($r.a,{type:"number",allowDecimals:!1,stroke:e.palette.text.secondary},a.a.createElement(en.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:e.palette.text.primary}},"Tickets")),a.a.createElement(tn.a,{dataKey:"amount",fill:e.palette.primary.main}))))},on=Object(G.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},fixedHeightPaper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240},customFixedHeightPaper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:120},customFixedHeightPaperLg:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:"100%"}}})),cn=function(){var e=on(),t=Object(n.useContext)(S).user,r=[];t.queues&&t.queues.length>0&&(r=t.queues.map((function(e){return e.id})));var o=function(e,t,n){return ft({status:e,showAll:t,withUnreadMessages:n,queueIds:JSON.stringify(r)}).count};return a.a.createElement("div",null,a.a.createElement(or.a,{maxWidth:"lg",className:e.container},a.a.createElement(yr.a,{container:!0,spacing:3},a.a.createElement(yr.a,{item:!0,xs:4},a.a.createElement(Qt.a,{className:e.customFixedHeightPaper,style:{overflow:"hidden"}},a.a.createElement(z.a,{component:"h3",variant:"h6",color:"primary",paragraph:!0},y.a.t("dashboard.messages.inAttendance.title")),a.a.createElement(yr.a,{item:!0},a.a.createElement(z.a,{component:"h1",variant:"h4"},o("open","true","false"))))),a.a.createElement(yr.a,{item:!0,xs:4},a.a.createElement(Qt.a,{className:e.customFixedHeightPaper,style:{overflow:"hidden"}},a.a.createElement(z.a,{component:"h3",variant:"h6",color:"primary",paragraph:!0},y.a.t("dashboard.messages.waiting.title")),a.a.createElement(yr.a,{item:!0},a.a.createElement(z.a,{component:"h1",variant:"h4"},o("pending","true","false"))))),a.a.createElement(yr.a,{item:!0,xs:4},a.a.createElement(Qt.a,{className:e.customFixedHeightPaper,style:{overflow:"hidden"}},a.a.createElement(z.a,{component:"h3",variant:"h6",color:"primary",paragraph:!0},y.a.t("dashboard.messages.closed.title")),a.a.createElement(yr.a,{item:!0},a.a.createElement(z.a,{component:"h1",variant:"h4"},o("closed","true","false"))))),a.a.createElement(yr.a,{item:!0,xs:12},a.a.createElement(Qt.a,{className:e.fixedHeightPaper},a.a.createElement(an,null))))))},ln=r(860),sn=r(881),un=r(288),fn=r(474),dn=r.n(fn),hn=function(){return a.a.createElement(z.a,{variant:"body2",color:"textSecondary",align:"center"},"\xa9 ",(new Date).getFullYear()," - ",a.a.createElement(ln.a,{color:"inherit",href:"#"},un.a," - v ",un.b),".")},pn=Object(G.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),mn=function(){var e=pn(),t=Object(n.useState)({email:"",password:""}),r=Object(l.a)(t,2),o=r[0],i=r[1],s=Object(n.useState)(!1),u=Object(l.a)(s,2),f=u[0],d=u[1],h=Object(n.useContext)(S).handleLogin,p=function(e){i(Object(E.a)(Object(E.a)({},o),{},Object(M.a)({},e.target.name,e.target.value)))};return a.a.createElement(or.a,{component:"main",maxWidth:"xs"},a.a.createElement(c.a,null),a.a.createElement("div",{className:e.paper},a.a.createElement("img",{alt:"logo",src:dn.a}),a.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),h(o)}},a.a.createElement(wt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:y.a.t("login.form.email"),name:"email",value:o.email,onChange:p,autoComplete:"email",autoFocus:!0}),a.a.createElement(wt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:y.a.t("login.form.password"),id:"password",value:o.password,onChange:p,autoComplete:"current-password",type:f?"text":"password",InputProps:{endAdornment:a.a.createElement(xt.a,{position:"end"},a.a.createElement(D.a,{"aria-label":"toggle password visibility",onClick:function(){return d((function(e){return!e}))}},f?a.a.createElement(Tt.a,null):a.a.createElement(_t.a,null)))}}),a.a.createElement(St.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},y.a.t("login.buttons.submit")))),a.a.createElement(sn.a,{mt:8},a.a.createElement(hn,null)))},vn=r(212),gn=r.n(vn),yn=r(231),bn=r.n(yn),En=r(490),wn=function(e){var t=e.onChange,r=e.currentColor,o=e.handleClose,i=e.open,c=Object(n.useState)(r),s=Object(l.a)(c,2),u=s[0],f=s[1];return a.a.createElement(yt.a,{onClose:o,"aria-labelledby":"simple-dialog-title",open:i,maxWidth:"xs",paperFullWidth:!0},a.a.createElement(En.a,{width:"100%",triangle:"hide",color:u,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB","#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],onChange:function(e){f(e.hex),o()},onChangeComplete:function(e){return t(e.hex)}}))},xn=r(863),On=r(895),Ln=r(862),jn=r(887),kn=r(896),Sn=Object(G.a)((function(e){return{mainPaper:Object(E.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:Be.a[500]}}})),Nn=function(e){var t=e.title,r=e.content,n=e.children,o=Sn();return a.a.createElement(it.a,{arrow:!0,classes:{tooltip:o.tooltip,popper:o.tooltipPopper},title:a.a.createElement(a.a.Fragment,null,a.a.createElement(z.a,{gutterBottom:!0,color:"inherit"},t),r&&a.a.createElement(z.a,null,r))},n)};function Tn(){Tn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var _n=vt.c().shape({options:vt.a().of(vt.c().shape({name:vt.d().min(4,"too short").required("Required")})).required("Must have friends")}),Cn=Object(G.a)((function(e){return{greetingMessage:{cursor:"pointer",display:"flex",alignItems:"center","& > *:not(:last-child)":{marginRight:e.spacing(1)}},Box:{cursor:"pointer",alignItems:"center"}}}));function An(e){var t={name:"",greetingMessage:"",options:[]},r=Cn(),n=a.a.useState(-1),o=Object(l.a)(n,2),i=o[0],c=o[1],s=a.a.useState(t),u=Object(l.a)(s,2),h=u[0],p=u[1],m=a.a.useState(!1),v=Object(l.a)(m,2),g=v[0],b=v[1],E=a.a.useState(!0),w=Object(l.a)(E,2),x=w[0],j=w[1],k=a.a.useState(null),S=Object(l.a)(k,2),N=S[0],T=S[1],_=a.a.useState(null),C=Object(l.a)(_,2),A=C[0],I=C[1],P=a.a.useState(null),M=Object(l.a)(P,2),R=M[0],G=M[1],F=a.a.useState(!1),W=Object(l.a)(F,2),q=W[0],B=W[1],U=function(){var r=Object(d.a)(Tn().mark((function r(n){var a,o;return Tn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!e.chatBotId){r.next=6;break}return r.next=4,O.put("/chatbot/".concat(e.chatBotId),n);case 4:r.next=8;break;case 6:return r.next=8,O.post("/chatbot",n);case 8:return f.b.success("Bot saved successfully"),r.next=11,O.get("/chatbot/".concat(e.chatBotId));case 11:a=r.sent,o=a.data,p(t),p(o),T(null),I(null),p(o),r.next=23;break;case 20:r.prev=20,r.t0=r.catch(0),L(r.t0);case 23:case"end":return r.stop()}}),r,null,[[0,20]])})));return function(e){return r.apply(this,arguments)}}();a.a.useEffect((function(){b(!0);var t=setTimeout((function(){(function(){var t=Object(d.a)(Tn().mark((function t(){var r,n;return Tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.get("/chatbot/".concat(e.chatBotId));case 3:r=t.sent,n=r.data,p(n),b(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(t)}}),[e.chatBotId]),a.a.useEffect((function(){j(i!==N)}),[N,i]);var H=function(){var r=Object(d.a)(Tn().mark((function r(n){var a,o;return Tn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,O.delete("/chatbot/".concat(n));case 3:return r.next=5,O.get("/chatbot/".concat(e.chatBotId));case 5:a=r.sent,o=a.data,p(t),p(o),T(null),I(null),p(o),f.b.success(y.a.t("Queue deleted successfully!")),r.next=18;break;case 15:r.prev=15,r.t0=r.catch(0),L(r.t0);case 18:G(null);case 19:case"end":return r.stop()}}),r,null,[[0,15]])})));return function(e){return r.apply(this,arguments)}}();return a.a.createElement("div",{className:r.root},a.a.createElement(jr,{title:R&&"".concat(y.a.t("queues.confirmationModal.deleteTitle")," ").concat(R.name,"?"),open:q,onClose:function(){B(!1),G(null)},onConfirm:function(){return H(R.id)}},y.a.t("Tem certeza? Todas as op\xe7\xf5es internas tamb\xe9m ser\xe3o exclu\xeddas")),!g&&a.a.createElement("div",null,a.a.createElement(gt.d,{initialValues:h,validateOnChange:!1,enableReinitialize:!0,validationSchema:_n,render:function(e){var t=e.touched,n=e.errors,o=e.isSubmitting,l=e.values;e.handleSubmit;return a.a.createElement(gt.b,{name:"options"},(function(e){var s=e.push,u=e.remove;return a.a.createElement(a.a.Fragment,null,a.a.createElement(On.a,{nonLinear:!0,activeStep:i,orientation:"vertical"},l.options&&l.options.length>0&&l.options.map((function(e,i){var s,f,d,p,m,v,g;return a.a.createElement(Ln.a,{key:"".concat(e.id?e.id:i,"-options"),onClick:function(){return c(i)}},a.a.createElement(jn.a,{key:"".concat(e.id,"-options")},N!==i&&(null===(s=h.options[i])||void 0===s?void 0:s.name)?a.a.createElement("div",{className:r.greetingMessage,variant:"body1"},l.options[i].name,a.a.createElement(D.a,{size:"small",onClick:function(){T(i),j(!1)}},a.a.createElement(Dr.a,null)),a.a.createElement(D.a,{onClick:function(){G(e),B(!0)},size:"small"},a.a.createElement(Gr.a,null))):a.a.createElement(a.a.Fragment,null,a.a.createElement(gt.a,{as:wt.a,name:"options[".concat(i,"].name"),variant:"standard",color:"primary",disabled:o,autoFocus:!0,error:(null===t||void 0===t||null===(f=t.options)||void 0===f||null===(d=f[i])||void 0===d?void 0:d.name)&&Boolean(null===(p=n.options)||void 0===p||null===(m=p[i])||void 0===m?void 0:m.name),className:r.textField}),a.a.createElement(vr.a,{control:a.a.createElement(gt.a,{as:gr.a,color:"primary",name:"options[".concat(i,"].isAgent"),checked:l.options[i].isAgent||!1}),label:"Atendente"}),a.a.createElement(D.a,{size:"small",onClick:function(){return l.options[i].name?U(l):null},disabled:o},a.a.createElement(gn.a,null)),a.a.createElement(D.a,{size:"small",onClick:function(){return u(i)},disabled:o},a.a.createElement(Gr.a,null)))),x&&h.options[i]&&a.a.createElement(kn.a,null,a.a.createElement(a.a.Fragment,null,A!==i?a.a.createElement("div",{className:r.greetingMessage},a.a.createElement(z.a,{color:"textSecondary",variant:"body1"},"Message:"),l.options[i].greetingMessage,!(null===(v=h.options[i])||void 0===v?void 0:v.greetingMessage)&&a.a.createElement(Nn,{title:"A mensagem \xe9 obrigat\xf3ria para seguir ao pr\xf3ximo n\xedvel",content:"Se a mensagem n\xe3o estiver definida, o bot n\xe3o seguir\xe1 adiante"},a.a.createElement(bn.a,{color:"secondary",style:{marginLeft:"4px"},fontSize:"small"})),a.a.createElement(D.a,{size:"small",onClick:function(){return I(i)}},a.a.createElement(Dr.a,null))):a.a.createElement("div",{className:r.greetingMessage},a.a.createElement(gt.a,{as:wt.a,name:"options[".concat(i,"].greetingMessage"),variant:"standard",margin:"dense",fullWidth:!0,multiline:!0,error:t.greetingMessage&&Boolean(n.greetingMessage),helperText:t.greetingMessage&&n.greetingMessage,className:r.textField}),a.a.createElement(D.a,{size:"small",onClick:function(){return U(l)},disabled:o}," ",a.a.createElement(gn.a,null))),(g=e.id,a.a.createElement(An,{chatBotId:g})))))})),a.a.createElement(Ln.a,null,a.a.createElement(jn.a,{onClick:function(){return s({name:void 0,greetingMessage:void 0})}},"Adiconar op\xe7\xf5es"))))}))}})))}function In(){In=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Pn=Object(G.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},btnWrapper:{position:"relative"},buttonProgress:{color:Be.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20},greetingMessage:{cursor:"pointer",display:"flex",alignItems:"center","& > *:not(:last-child)":{marginRight:e.spacing(1)}},custom:{display:"flex",alignItems:"center",justifyContent:"center"}}})),Mn=vt.c().shape({name:vt.d().min(2,"Too Short!").max(50,"Too Long!").required("Required"),color:vt.d().min(3,"Too Short!").max(9,"Too Long!").required(),greetingMessage:vt.d(),chatbots:vt.a().of(vt.c().shape({name:vt.d().min(4,"too short").required("Required")})).required("Must have friends")}),Rn=function(e){var t=e.open,r=e.onClose,o=e.queueId,i=e.onEdit,c=Pn(),s={name:"",color:"",greetingMessage:"",chatbots:[]},u=Object(n.useState)(!1),h=Object(l.a)(u,2),p=h[0],m=h[1],v=Object(n.useState)(s),g=Object(l.a)(v,2),b=g[0],w=g[1],x=Object(n.useRef)(),j=a.a.useState(null),k=Object(l.a)(j,2),S=k[0],N=k[1],T=Object(n.useState)(null),_=Object(l.a)(T,2),C=_[0],A=_[1],I=Object(n.useState)(!1),P=Object(l.a)(I,2),M=P[0],R=P[1],G=a.a.useState(!0),F=Object(l.a)(G,2),W=F[0],q=F[1],B=a.a.useState(null),U=Object(l.a)(B,2),H=U[0],Q=U[1],Y=a.a.useState(null),V=Object(l.a)(Y,2),K=V[0],J=V[1];Object(n.useEffect)((function(){return Object(d.a)(In().mark((function e(){var t,r;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,O.get("/queue/".concat(o));case 5:t=e.sent,r=t.data,w((function(e){return Object(E.a)(Object(E.a)({},e),r)})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),L(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))(),function(){w({name:"",color:"",greetingMessage:"",chatbots:[]})}}),[o,t]),Object(n.useEffect)((function(){console.log(S),console.log(H),q(S!==H)}),[H,S]);var Z=function(){r(),Q(null),N(null),J(null)},X=function(){var e=Object(d.a)(In().mark((function e(t){var r,n;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.delete("/chatbot/".concat(t));case 3:return e.next=5,O.get("/queue/".concat(o));case 5:r=e.sent,n=r.data,w(s),w(n),Q(null),J(null),f.b.success(y.a.t("Queue deleted successfully!")),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),L(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(d.a)(In().mark((function e(t){return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log(o),!o){e.next=7;break}return e.next=5,O.put("/queue/".concat(o),t);case 5:e.next=9;break;case 7:return e.next=9,O.post("/queue",t);case 9:f.b.success("Queue saved successfully"),Z(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),L(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(d.a)(In().mark((function e(t){var r,n,a,c;return In().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o){e.next=9;break}return e.next=4,O.put("/queue/".concat(o),t);case 4:r=e.sent,(n=r.data).chatbots&&n.chatbots.length&&(i(n),w(n)),e.next=14;break;case 9:return e.next=11,O.post("/queue",t);case 11:a=e.sent,(c=a.data).chatbots&&c.chatbots.length&&(w(c),i(c),Z());case 14:Q(null),J(null),f.b.success("Queue saved successfully"),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),L(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:c.root},a.a.createElement(jr,{title:C&&"".concat(y.a.t("queues.confirmationModal.deleteTitle")," ").concat(C.name,"?"),open:M,onClose:function(){R(!1),A(null)},onConfirm:function(){return X(C.id)}},y.a.t("Tem certeza? Todas as op\xe7\xf5es internas tamb\xe9m ser\xe3o exclu\xeddas")),a.a.createElement(yt.a,{maxWidth:"md",fullWidth:!0,open:t,onClose:Z,scroll:"paper"},a.a.createElement(bt.a,null,"".concat(o?y.a.t("queueModal.title.edit"):y.a.t("queueModal.title.add"))),a.a.createElement(gt.d,{initialValues:b,validateOnChange:!1,enableReinitialize:!0,validationSchema:Mn,onSubmit:function(e,t){setTimeout((function(){$(e),t.setSubmitting(!1)}),400)}},(function(e){e.handleChange;var t=e.touched,r=e.errors,n=e.isSubmitting,i=e.values;return a.a.createElement(gt.c,null,a.a.createElement(Et.a,{dividers:!0},a.a.createElement(gt.a,{as:wt.a,label:y.a.t("queueModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(r.name),helperText:t.name&&r.name,variant:"outlined",margin:"dense",className:c.textField}),a.a.createElement(gt.a,{as:wt.a,label:y.a.t("queueModal.form.color"),name:"color",id:"color",onFocus:function(){m(!0),x.current.focus()},error:t.color&&Boolean(r.color),helperText:t.color&&r.color,InputProps:{startAdornment:a.a.createElement(xt.a,{position:"start"},a.a.createElement("div",{style:{backgroundColor:i.color},className:c.colorAdorment})),endAdornment:a.a.createElement(D.a,{size:"small",color:"default",onClick:function(){return m(!0)}},a.a.createElement(xn.a,null))},variant:"outlined",margin:"dense"}),a.a.createElement(wn,{open:p,handleClose:function(){return m(!1)},onChange:function(e){i.color=e,w((function(){return Object(E.a)(Object(E.a)({},i),{},{color:e})}))}}),a.a.createElement("div",null,a.a.createElement(gt.a,{as:wt.a,label:y.a.t("queueModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,inputRef:x,minRows:5,fullWidth:!0,name:"greetingMessage",error:t.greetingMessage&&Boolean(r.greetingMessage),helperText:t.greetingMessage&&r.greetingMessage,variant:"outlined",margin:"dense"})),a.a.createElement(z.a,{variant:"subtitle1"},"Op\xe7\xf5es",a.a.createElement(Nn,{title:"Adicione op\xe7\xf5es para construir um chatbot",content:"Se houver apenas uma op\xe7\xe3o, ela ser\xe1 escolhida automaticamente, fazendo com que o bot responda com a mensagem da op\xe7\xe3o e siga adiante"},a.a.createElement(bn.a,{style:{marginLeft:"14px"},fontSize:"small"}))),a.a.createElement("div",null,a.a.createElement(gt.b,{name:"chatbots"},(function(e){var o=e.push,l=e.remove;return a.a.createElement(a.a.Fragment,null,a.a.createElement(On.a,{nonLinear:!0,activeStep:S,orientation:"vertical"},i.chatbots&&i.chatbots.length>0&&i.chatbots.map((function(e,o){var s,u,f,d,h,p;return a.a.createElement(Ln.a,{key:"".concat(e.id?e.id:o,"-chatbots"),onClick:function(){return N(o)}},a.a.createElement(jn.a,{key:"".concat(e.id,"-chatbots")},H!==o&&(null===(s=b.chatbots[o])||void 0===s?void 0:s.name)?a.a.createElement("div",{className:c.greetingMessage,variant:"body1"},i.chatbots[o].name,a.a.createElement(D.a,{size:"small",onClick:function(){Q(o),q(!1)}},a.a.createElement(Dr.a,null)),a.a.createElement(D.a,{onClick:function(){A(e),R(!0)},size:"small"},a.a.createElement(Gr.a,null))):a.a.createElement(a.a.Fragment,null,a.a.createElement(gt.a,{as:wt.a,name:"chatbots[".concat(o,"].name"),variant:"standard",color:"primary",disabled:n,autoFocus:!0,error:(null===t||void 0===t||null===(u=t.chatbots)||void 0===u||null===(f=u[o])||void 0===f?void 0:f.name)&&Boolean(null===(d=r.chatbots)||void 0===d||null===(h=d[o])||void 0===h?void 0:h.name),className:c.textField}),a.a.createElement(vr.a,{control:a.a.createElement(gt.a,{as:gr.a,color:"primary",name:"chatbots[".concat(o,"].isAgent"),checked:i.chatbots[o].isAgent||!1}),label:"Atendente"}),a.a.createElement(D.a,{size:"small",onClick:function(){return i.chatbots[o].name?ee(i):null},disabled:n},a.a.createElement(gn.a,null)),a.a.createElement(D.a,{size:"small",onClick:function(){return l(o)},disabled:n},a.a.createElement(Gr.a,null)))),W&&b.chatbots[o]&&a.a.createElement(kn.a,null,a.a.createElement(a.a.Fragment,null,K!==o?a.a.createElement("div",{className:c.greetingMessage},a.a.createElement(z.a,{color:"textSecondary",variant:"body1"},"Message:"),i.chatbots[o].greetingMessage,!(null===(p=b.chatbots[o])||void 0===p?void 0:p.greetingMessage)&&a.a.createElement(Nn,{title:"A mensagem \xe9 obrigat\xf3ria para seguir ao pr\xf3ximo n\xedvel",content:"Se a mensagem n\xe3o estiver definida, o bot n\xe3o seguir\xe1 adiante"},a.a.createElement(bn.a,{color:"secondary",style:{marginLeft:"4px"},fontSize:"small"})),a.a.createElement(D.a,{size:"small",onClick:function(){return J(o)}},a.a.createElement(Dr.a,null))):a.a.createElement("div",{className:c.greetingMessage},a.a.createElement(gt.a,{as:wt.a,name:"chatbots[".concat(o,"].greetingMessage"),variant:"standard",margin:"dense",fullWidth:!0,multiline:!0,error:t.greetingMessage&&Boolean(r.greetingMessage),helperText:t.greetingMessage&&r.greetingMessage,className:c.textField}),a.a.createElement(D.a,{size:"small",onClick:function(){return ee(i)},disabled:n}," ",a.a.createElement(gn.a,null))),a.a.createElement(An,{chatBotId:e.id}))))})),a.a.createElement(Ln.a,null,a.a.createElement(jn.a,{onClick:function(){return o({name:"",value:""})}},"Adiconar op\xe7\xf5es"))))})))),a.a.createElement(kt.a,null,a.a.createElement(St.a,{onClick:Z,disabled:n},y.a.t("queueModal.buttons.cancel")),a.a.createElement(St.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:c.btnWrapper},"".concat(o?y.a.t("queueModal.buttons.okEdit"):y.a.t("queueModal.buttons.okAdd")),n&&a.a.createElement(Nt.a,{size:24,className:c.buttonProgress}))))}))))};function Gn(){Gn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Fn=Object(G.a)((function(e){return{mainPaper:{flex:1,padding:e.spacing(1),overflowY:"scroll"},customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}}})),Dn=function(e,t){if("LOAD_QUEUES"===t.type){var r=t.payload,n=[];return r.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?e[r]=t:n.push(t)})),[].concat(Object(T.a)(e),n)}if("UPDATE_QUEUES"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?(e[o]=a,Object(T.a)(e)):[a].concat(Object(T.a)(e))}if("DELETE_QUEUE"===t.type){var i=t.payload,c=e.findIndex((function(e){return e.id===i}));return-1!==c&&e.splice(c,1),Object(T.a)(e)}if("RESET"===t.type)return[]},Wn=function(){var e=Fn(),t=Object(n.useReducer)(Dn,[]),r=Object(l.a)(t,2),o=r[0],i=r[1],c=Object(n.useState)(!1),s=Object(l.a)(c,2),u=s[0],h=s[1],m=Object(n.useState)(!1),v=Object(l.a)(m,2),g=v[0],b=v[1],E=Object(n.useState)(null),w=Object(l.a)(E,2),x=w[0],j=w[1],k=Object(n.useState)(!1),S=Object(l.a)(k,2),N=S[0],T=S[1];Object(n.useEffect)((function(){Object(d.a)(Gn().mark((function e(){var t,r;return Gn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,O.get("/queue");case 4:t=e.sent,r=t.data,i({type:"LOAD_QUEUES",payload:r}),h(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),L(e.t0),h(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))()}),[]),Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("token")),t=p()("https://sacapi.meupost.com/",{query:{token:e}});return t.on("connect",(function(){t.emit("joinCompany")})),t.on("queue",(function(e){"update"!==e.action&&"create"!==e.action||i({type:"UPDATE_QUEUES",payload:e.queue}),"delete"===e.action&&i({type:"DELETE_QUEUE",payload:e.queueId})})),function(){t.disconnect()}}),[]);var _=function(e){j(e),b(!0)},C=function(){var e=Object(d.a)(Gn().mark((function e(t){return Gn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.delete("/queue/".concat(t));case 3:f.b.success(y.a.t("Queue deleted successfully!")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),L(e.t0);case 9:j(null);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(cr,null,a.a.createElement(jr,{title:x&&"".concat(y.a.t("queues.confirmationModal.deleteTitle")," ").concat(x.name,"?"),open:N,onClose:function(){T(!1),j(null)},onConfirm:function(){return C(x.id)}},y.a.t("queues.confirmationModal.deleteMessage")),a.a.createElement(Rn,{open:g,onClose:function(){console.log("fechou modal"),b(!1),j(null)},queueId:null===x||void 0===x?void 0:x.id,onEdit:function(e){e&&setTimeout((function(){_(e)}),200)}}),a.a.createElement(sr,null,a.a.createElement(dr,null,y.a.t("queues.title")),a.a.createElement(fr,null,a.a.createElement(St.a,{variant:"contained",color:"primary",onClick:function(){b(!0),j(null)}},y.a.t("queues.buttons.add")))),a.a.createElement(Qt.a,{className:e.mainPaper,variant:"outlined"},a.a.createElement(Yt.a,{size:"small"},a.a.createElement(Vt.a,null,a.a.createElement(Kt.a,null,a.a.createElement(Jt.a,{align:"center"},y.a.t("queues.table.name")),a.a.createElement(Jt.a,{align:"center"},y.a.t("queues.table.color")),a.a.createElement(Jt.a,{align:"center"},y.a.t("queues.table.greeting")),a.a.createElement(Jt.a,{align:"center"},y.a.t("queues.table.actions")))),a.a.createElement(Zt.a,null,a.a.createElement(a.a.Fragment,null,o.map((function(t){return a.a.createElement(Kt.a,{key:t.id},a.a.createElement(Jt.a,{align:"center"},t.name),a.a.createElement(Jt.a,{align:"center"},a.a.createElement("div",{className:e.customTableCell},a.a.createElement("span",{style:{backgroundColor:t.color,width:60,height:20,alignSelf:"center"}}))),a.a.createElement(Jt.a,{align:"center"},a.a.createElement("div",{className:e.customTableCell},a.a.createElement(z.a,{style:{width:300,align:"center"},noWrap:!0,variant:"body2"},t.greetingMessage))),a.a.createElement(Jt.a,{align:"center"},a.a.createElement(D.a,{size:"small",onClick:function(){return _(t)}},a.a.createElement(nr.a,null)),a.a.createElement(D.a,{size:"small",onClick:function(){j(t),T(!0)}},a.a.createElement(ar.a,null))))})),u&&a.a.createElement(mr,{columns:4}))))))};function qn(){qn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Bn=Object(G.a)((function(e){return{root:{flexWrap:"wrap"},textField:{marginRight:e.spacing(1),width:"100%"},btnWrapper:{position:"relative"},buttonProgress:{color:Be.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},textQuickAnswerContainer:{width:"100%"}}})),Un=vt.c().shape({shortcut:vt.d().min(2,"Too Short!").max(15,"Too Long!").required("Required"),message:vt.d().min(8,"Too Short!").max(3e4,"Too Long!").required("Required")}),zn=function(e){var t=e.open,r=e.onClose,o=e.quickAnswerId,i=e.initialValues,c=e.onSave,s=Bn(),u=Object(n.useRef)(!0),h={shortcut:"",message:""},p=Object(n.useState)(h),m=Object(l.a)(p,2),v=m[0],g=m[1];Object(n.useEffect)((function(){return function(){u.current=!1}}),[]),Object(n.useEffect)((function(){(function(){var e=Object(d.a)(qn().mark((function e(){var t,r;return qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&g((function(e){return Object(E.a)(Object(E.a)({},e),i)})),o){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,O.get("/quickAnswers/".concat(o));case 6:t=e.sent,r=t.data,u.current&&g(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),L(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}})()()}),[o,t,i]);var b=function(){r(),g(h)},w=function(){var e=Object(d.a)(qn().mark((function e(t){var r,n;return qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o){e.next=7;break}return e.next=4,O.put("/quickAnswers/".concat(o),t);case 4:b(),e.next=13;break;case 7:return e.next=9,O.post("/quickAnswers",t);case 9:r=e.sent,n=r.data,c&&c(n),b();case 13:f.b.success(y.a.t("quickAnswersModal.success")),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),L(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:s.root},a.a.createElement(yt.a,{open:t,onClose:b,maxWidth:"sm",fullWidth:!0,scroll:"paper"},a.a.createElement(bt.a,{id:"form-dialog-title"},"".concat(o?y.a.t("quickAnswersModal.title.edit"):y.a.t("quickAnswersModal.title.add"))),a.a.createElement(gt.d,{initialValues:v,enableReinitialize:!0,validationSchema:Un,onSubmit:function(e,t){setTimeout((function(){w(e),t.setSubmitting(!1)}),400)}},(function(e){e.values;var t=e.errors,r=e.touched,n=e.isSubmitting;return a.a.createElement(gt.c,null,a.a.createElement(Et.a,{dividers:!0},a.a.createElement("div",{className:s.textQuickAnswerContainer},a.a.createElement(gt.a,{as:wt.a,label:y.a.t("quickAnswersModal.form.shortcut"),name:"shortcut",autoFocus:!0,error:r.shortcut&&Boolean(t.shortcut),helperText:r.shortcut&&t.shortcut,variant:"outlined",margin:"dense",className:s.textField,fullWidth:!0})),a.a.createElement("div",{className:s.textQuickAnswerContainer},a.a.createElement(gt.a,{as:wt.a,label:y.a.t("quickAnswersModal.form.message"),name:"message",error:r.message&&Boolean(t.message),helperText:r.message&&t.message,variant:"outlined",margin:"dense",className:s.textField,multiline:!0,rows:5,fullWidth:!0}))),a.a.createElement(kt.a,null,a.a.createElement(St.a,{onClick:b,color:"secondary",disabled:n,variant:"outlined"},y.a.t("quickAnswersModal.buttons.cancel")),a.a.createElement(St.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:s.btnWrapper},"".concat(o?y.a.t("quickAnswersModal.buttons.okEdit"):y.a.t("quickAnswersModal.buttons.okAdd")),n&&a.a.createElement(Nt.a,{size:24,className:s.buttonProgress}))))}))))};function Hn(){Hn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Qn=function(e,t){if("LOAD_QUICK_ANSWERS"===t.type){var r=t.payload,n=[];return r.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?e[r]=t:n.push(t)})),[].concat(Object(T.a)(e),n)}if("UPDATE_QUICK_ANSWERS"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?(e[o]=a,Object(T.a)(e)):[a].concat(Object(T.a)(e))}if("DELETE_QUICK_ANSWERS"===t.type){var i=t.payload,c=e.findIndex((function(e){return e.id===i}));return-1!==c&&e.splice(c,1),Object(T.a)(e)}if("RESET"===t.type)return[]},Yn=Object(G.a)((function(e){return{mainPaper:Object(E.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}})),Vn=function(){var e=Yn(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],c=Object(n.useState)(1),s=Object(l.a)(c,2),u=s[0],h=s[1],p=Object(n.useState)(""),m=Object(l.a)(p,2),v=m[0],b=m[1],E=Object(n.useReducer)(Qn,[]),w=Object(l.a)(E,2),x=w[0],j=w[1],k=Object(n.useState)(null),S=Object(l.a)(k,2),N=S[0],T=S[1],_=Object(n.useState)(!1),C=Object(l.a)(_,2),A=C[0],I=C[1],P=Object(n.useState)(null),M=Object(l.a)(P,2),R=M[0],G=M[1],F=Object(n.useState)(!1),W=Object(l.a)(F,2),q=W[0],B=W[1],U=Object(n.useState)(!1),z=Object(l.a)(U,2),H=z[0],Q=z[1];Object(n.useEffect)((function(){j({type:"RESET"}),h(1)}),[v]),Object(n.useEffect)((function(){i(!0);var e=setTimeout((function(){(function(){var e=Object(d.a)(Hn().mark((function e(){var t,r;return Hn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/quickAnswers/",{params:{searchParam:v,pageNumber:u}});case 3:t=e.sent,r=t.data,j({type:"LOAD_QUICK_ANSWERS",payload:r.quickAnswers}),Q(r.hasMore),i(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),L(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}),[v,u]),Object(n.useEffect)((function(){var e=g();return e.on("quickAnswer",(function(e){"update"!==e.action&&"create"!==e.action||j({type:"UPDATE_QUICK_ANSWERS",payload:e.quickAnswer}),"delete"===e.action&&j({type:"DELETE_QUICK_ANSWERS",payload:+e.quickAnswerId})})),function(){e.disconnect()}}),[]);var Y=function(){var e=Object(d.a)(Hn().mark((function e(t){return Hn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.delete("/quickAnswers/".concat(t));case 3:f.b.success(y.a.t("quickAnswers.toasts.deleted")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),L(e.t0);case 9:G(null),b(""),h(1);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(cr,null,a.a.createElement(jr,{title:R&&"".concat(y.a.t("quickAnswers.confirmationModal.deleteTitle")," ").concat(R.shortcut,"?"),open:q,onClose:B,onConfirm:function(){return Y(R.id)}},y.a.t("quickAnswers.confirmationModal.deleteMessage")),a.a.createElement(zn,{open:A,onClose:function(){T(null),I(!1)},"aria-labelledby":"form-dialog-title",quickAnswerId:N&&N.id}),a.a.createElement(sr,null,a.a.createElement(dr,null,y.a.t("quickAnswers.title")),a.a.createElement(fr,null,a.a.createElement(wt.a,{placeholder:y.a.t("quickAnswers.searchPlaceholder"),type:"search",value:v,onChange:function(e){b(e.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(xt.a,{position:"start"},a.a.createElement(Mr.a,{style:{color:"gray"}}))}}),a.a.createElement(St.a,{variant:"contained",color:"primary",onClick:function(){T(null),I(!0)}},y.a.t("quickAnswers.buttons.add")))),a.a.createElement(Qt.a,{className:e.mainPaper,variant:"outlined",onScroll:function(e){if(H&&!o){var t=e.currentTarget,r=t.scrollTop;t.scrollHeight-(r+100)<t.clientHeight&&h((function(e){return e+1}))}}},a.a.createElement(Yt.a,{size:"small"},a.a.createElement(Vt.a,null,a.a.createElement(Kt.a,null,a.a.createElement(Jt.a,{align:"center"},y.a.t("quickAnswers.table.shortcut")),a.a.createElement(Jt.a,{align:"center"},y.a.t("quickAnswers.table.message")),a.a.createElement(Jt.a,{align:"center"},y.a.t("quickAnswers.table.actions")))),a.a.createElement(Zt.a,null,a.a.createElement(a.a.Fragment,null,x.map((function(e){return a.a.createElement(Kt.a,{key:e.id},a.a.createElement(Jt.a,{align:"center"},e.shortcut),a.a.createElement(Jt.a,{align:"center"},e.message),a.a.createElement(Jt.a,{align:"center"},a.a.createElement(D.a,{size:"small",onClick:function(){return function(e){T(e),I(!0)}(e)}},a.a.createElement(nr.a,null)),a.a.createElement(D.a,{size:"small",onClick:function(t){B(!0),G(e)}},a.a.createElement(ar.a,null))))})),o&&a.a.createElement(mr,{columns:3}))))))},Kn=r(888),Jn=r(232),Zn=r.n(Jn),Xn=r(160);function $n(){$n=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var ea=Object(G.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Be.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}}})),ta=vt.c().shape({body:vt.d().min(5,"Mensagem muito curta").required("Obrigat\xf3rio"),contactId:vt.b().required("Obrigat\xf3rio"),sendAt:vt.d().required("Obrigat\xf3rio")}),ra=function(e){var t=e.open,r=e.onClose,o=e.scheduleId,i=e.contactId,c=(e.cleanContact,e.reload),s=(e.setContactId,ea()),h=Object(u.g)(),p=Object(n.useContext)(S).user,m={body:"",contactId:"",sendAt:Zn()().add(1,"hour").format("YYYY-MM-DDTHH:mm"),sentAt:""},v={id:"",name:""},g=Object(n.useState)(m),b=Object(l.a)(g,2),w=b[0],x=b[1],j=Object(n.useState)(v),k=Object(l.a)(j,2),N=k[0],_=k[1],C=Object(n.useState)([v]),A=Object(l.a)(C,2),I=A[0],P=A[1];Object(n.useEffect)((function(){if(i&&I.length){var e=I.find((function(e){return e.id===i}));e&&_(e)}}),[i,I]),Object(n.useEffect)((function(){try{Object(d.a)($n().mark((function e(){var t,r,n,a,c;return $n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/contacts/list");case 2:if(t=e.sent,r=t.data,n=r.map((function(e){return{id:e.id,name:e.name}})),Object(Xn.isArray)(n)&&P([{id:"",name:""}].concat(Object(T.a)(n))),i&&x((function(e){return Object(E.a)(Object(E.a)({},e),{},{contactId:i})})),o){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,O.get("/schedules/".concat(o));case 11:a=e.sent,c=a.data,x((function(e){return Object(E.a)(Object(E.a)(Object(E.a)({},e),c),{},{sendAt:Zn()(c.sendAt).format("YYYY-MM-DDTHH:mm")})})),_(c.contact);case 15:case"end":return e.stop()}}),e)})))()}catch(e){L(e)}}),[o,i,t]);var M=function(){r(),x(m)},R=function(){var e=Object(d.a)($n().mark((function e(t){var r;return $n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(E.a)(Object(E.a)({},t),{},{userId:p.id}),e.prev=1,!o){e.next=7;break}return e.next=5,O.put("/schedules/".concat(o),r);case 5:e.next=9;break;case 7:return e.next=9,O.post("/schedules",r);case 9:f.b.success(y.a.t("scheduleModal.success")),"function"==typeof c&&c(),_(v),x(m),h.push("/schedules"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),L(e.t0);case 19:M();case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:s.root},a.a.createElement(yt.a,{open:t,onClose:M,maxWidth:"xs",fullWidth:!0,scroll:"paper"},a.a.createElement(bt.a,{id:"form-dialog-title"},"ERRO"===w.status?"Erro de Envio":"Mensagem ".concat(Object(Xn.capitalize)(w.status))),a.a.createElement(gt.d,{initialValues:w,enableReinitialize:!0,validationSchema:ta,onSubmit:function(e,t){setTimeout((function(){R(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.touched,r=e.errors,n=e.isSubmitting;e.values;return a.a.createElement(gt.c,null,a.a.createElement(Et.a,{dividers:!0},a.a.createElement("div",{className:s.multFieldLine},a.a.createElement(Ot.a,{variant:"outlined",fullWidth:!0},a.a.createElement(Kn.a,{fullWidth:!0,value:N,options:I,onChange:function(e,t){var r=t?t.id:"";x(Object(E.a)(Object(E.a)({},w),{},{contactId:r})),_(t||v)},getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return t.id===e.id},renderInput:function(e){return a.a.createElement(wt.a,Object.assign({},e,{variant:"outlined",placeholder:"Contato"}))}}))),a.a.createElement("br",null),a.a.createElement("div",{className:s.multFieldLine},a.a.createElement(gt.a,{as:wt.a,rows:9,multiline:!0,label:y.a.t("scheduleModal.form.body"),name:"body",error:t.body&&Boolean(r.body),helperText:t.body&&r.body,variant:"outlined",margin:"dense",fullWidth:!0})),a.a.createElement("br",null),a.a.createElement("div",{className:s.multFieldLine},a.a.createElement(gt.a,{as:wt.a,label:y.a.t("scheduleModal.form.sendAt"),type:"datetime-local",name:"sendAt",InputLabelProps:{shrink:!0},error:t.sendAt&&Boolean(r.sendAt),helperText:t.sendAt&&r.sendAt,variant:"outlined",fullWidth:!0}))),a.a.createElement(kt.a,null,a.a.createElement(St.a,{onClick:M,color:"secondary",disabled:n,variant:"outlined"},y.a.t("scheduleModal.buttons.cancel")),(null===w.sentAt||""===w.sentAt)&&a.a.createElement(St.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:s.btnWrapper},"".concat(o?y.a.t("scheduleModal.buttons.okEdit"):y.a.t("scheduleModal.buttons.okAdd")),n&&a.a.createElement(Nt.a,{size:24,className:s.buttonProgress}))))}))))};function na(){na=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var aa=function(e,t){if("LOAD_SCHEDULES"===t.type){var r=t.payload,n=[];return r.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?e[r]=t:n.push(t)})),[].concat(Object(T.a)(e),n)}if("UPDATE_SCHEDULES"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?(e[o]=a,Object(T.a)(e)):[a].concat(Object(T.a)(e))}if("DELETE_SCHEDULE"===t.type){var i=t.payload,c=e.findIndex((function(e){return e.id===i}));return-1!==c&&e.splice(c,1),Object(T.a)(e)}if("RESET"===t.type)return[]},oa=Object(G.a)((function(e){return{mainPaper:Object(E.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}})),ia=function(){var e,t=oa(),r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],c=o[1],s=Object(n.useState)(1),u=Object(l.a)(s,2),h=u[0],m=u[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),b=g[0],E=g[1],w=Object(n.useState)(null),x=Object(l.a)(w,2),j=x[0],k=x[1],S=Object(n.useState)(null),N=Object(l.a)(S,2),T=N[0],_=N[1],C=Object(n.useState)(!1),A=Object(l.a)(C,2),I=A[0],P=A[1],M=Object(n.useState)(""),R=Object(l.a)(M,2),G=R[0],F=R[1],W=Object(n.useReducer)(aa,[]),q=Object(l.a)(W,2),B=q[0],U=q[1],z=Object(n.useState)(!1),H=Object(l.a)(z,2),Q=H[0],Y=H[1],V=Object(n.useState)((e="contactId",+new URLSearchParams(window.location.search).get(e))),K=Object(l.a)(V,2),J=K[0],Z=K[1],X=Object(n.useCallback)(Object(d.a)(na().mark((function e(){var t,r;return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/schedules/",{params:{searchParam:G,pageNumber:h}});case 3:t=e.sent,r=t.data,U({type:"LOAD_SCHEDULES",payload:r.schedules}),E(r.hasMore),Z(null),c(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),L(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),[G,h]),$=Object(n.useCallback)((function(){J&&ee()}),[J]);Object(n.useEffect)((function(){U({type:"RESET"}),m(1)}),[G]),Object(n.useEffect)((function(){c(!0);var e=setTimeout((function(){X()}),500);return function(){return clearTimeout(e)}}),[G,h,J,X,$]),Object(n.useEffect)((function(){$();var e=p()("https://sacapi.meupost.com/");return e.on("user",(function(e){"update"!==e.action&&"create"!==e.action||U({type:"UPDATE_SCHEDULES",payload:e.schedules}),"delete"===e.action&&U({type:"DELETE_USER",payload:+e.scheduleId})})),function(){e.disconnect()}}),[$]);var ee=function(){k(null),Y(!0)},te=function(){var e=Object(d.a)(na().mark((function e(t){return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.delete("/schedules/".concat(t));case 3:f.b.success(y.a.t("schedules.toasts.deleted")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),L(e.t0);case 9:return _(null),F(""),m(1),U({type:"RESET"}),m(1),e.next=16,X();case 16:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(cr,null,a.a.createElement(jr,{title:T&&"".concat(y.a.t("schedules.confirmationModal.deleteTitle")),open:I,onClose:P,onConfirm:function(){return te(T.id)}},y.a.t("schedules.confirmationModal.deleteMessage")),a.a.createElement(ra,{open:Q,onClose:function(){k(null),Y(!1)},reload:X,"aria-labelledby":"form-dialog-title",scheduleId:j&&j.id,contactId:J,cleanContact:function(){Z(null)},setContactId:Z}),a.a.createElement(sr,null,a.a.createElement(dr,null,y.a.t("schedules.title")),a.a.createElement(fr,null,a.a.createElement(wt.a,{placeholder:y.a.t("contacts.searchPlaceholder"),type:"search",value:G,onChange:function(e){F(e.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(xt.a,{position:"start"},a.a.createElement(Mr.a,{style:{color:"gray"}}))}}),a.a.createElement(St.a,{variant:"contained",color:"primary",onClick:ee},y.a.t("schedules.buttons.add")))),a.a.createElement(Qt.a,{className:t.mainPaper,variant:"outlined",onScroll:function(e){if(b&&!i){var t=e.currentTarget,r=t.scrollTop;t.scrollHeight-(r+100)<t.clientHeight&&m((function(e){return e+1}))}}},a.a.createElement(Yt.a,{size:"small"},a.a.createElement(Vt.a,null,a.a.createElement(Kt.a,null,a.a.createElement(Jt.a,{align:"center"},y.a.t("schedules.table.contact")),a.a.createElement(Jt.a,{align:"center"},y.a.t("schedules.table.body")),a.a.createElement(Jt.a,{align:"center"},y.a.t("schedules.table.sendAt")),a.a.createElement(Jt.a,{align:"center"},y.a.t("schedules.table.status")),a.a.createElement(Jt.a,{align:"center"},y.a.t("schedules.table.actions")))),a.a.createElement(Zt.a,null,a.a.createElement(a.a.Fragment,null,B.map((function(e){return a.a.createElement(Kt.a,{key:e.id},a.a.createElement(Jt.a,{align:"center"},e.contact.name),a.a.createElement(Jt.a,{align:"center",title:e.body},(t=e.body,r=25,t.length>r?t.substring(0,r)+"...":t)),a.a.createElement(Jt.a,{align:"center"},Zn()(e.sendAt).format("DD/MM/YYYY HH:mm:ss")),a.a.createElement(Jt.a,{align:"center"},Object(Xn.capitalize)(e.status)),a.a.createElement(Jt.a,{align:"center"},a.a.createElement(D.a,{size:"small",onClick:function(){return function(e){k(e),Y(!0)}(e)}},a.a.createElement(Dr.a,null)),a.a.createElement(D.a,{size:"small",onClick:function(t){P(!0),_(e)}},a.a.createElement(Gr.a,null))));var t,r})),i&&a.a.createElement(mr,{columns:4}))))))},ca=r(865),la=Object(G.a)({root:{width:"100%",marginTop:"1rem"}});function sa(e){var t=e.progressMessage,r=la(),n=a.a.useState(0),o=Object(l.a)(n,2),i=o[0],c=o[1];return a.a.useEffect((function(){c(t)}),[t]),a.a.createElement("div",{className:r.root},a.a.createElement(ca.a,{variant:"determinate",value:i}))}var ua=Object(G.a)((function(e){return{root:{flexGrow:1},paper:{height:240,width:240},control:{padding:e.spacing(2)}}}));function fa(e){var t=e.message,r=ua();return a.a.createElement(yr.a,{container:!0,className:r.root,spacing:2,style:{marginTop:"20px"}},a.a.createElement(yr.a,{item:!0,xs:12},a.a.createElement(yr.a,{container:!0,justifyContent:"center",spacing:2},t.map((function(e){return a.a.createElement(yr.a,{key:e.phone,item:!0},a.a.createElement(Qt.a,{className:r.paper},a.a.createElement(z.a,{variant:"body2",component:"p"},e.phone),a.a.createElement(z.a,{variant:"body2",component:"p"},e.message)))})))))}function da(){da=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var ha=Object(G.a)((function(e){return{chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}})),pa=function(e){var t=e.title,r=e.content,n=e.children,o=ha();return a.a.createElement(it.a,{arrow:!0,classes:{tooltip:o.tooltip,popper:o.tooltipPopper},title:a.a.createElement(a.a.Fragment,null,a.a.createElement(z.a,{gutterBottom:!0,color:"inherit"},t),r&&a.a.createElement(z.a,null,r))},n)},ma=function(e){var t=e.selectedQueueIds,r=e.onChange,o=ha(),i=Object(n.useState)([]),c=Object(l.a)(i,2),s=c[0],u=c[1];Object(n.useEffect)((function(){Object(d.a)(da().mark((function e(){var t,r,n;return da().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/whatsapp");case 3:t=e.sent,r=t.data,n=r.filter((function(e){return!0!==e.isDefault})),u(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),L(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[]);var f=function(e){return a.a.createElement("div",{className:o.customTableCell},"DISCONNECTED"===e.status&&a.a.createElement(pa,{title:y.a.t("connections.toolTips.disconnected.title"),content:y.a.t("connections.toolTips.disconnected.content")},a.a.createElement(Xt.a,{color:"secondary"})),"OPENING"===e.status&&a.a.createElement(Nt.a,{size:24,className:o.buttonProgress}),"qrcode"===e.status&&a.a.createElement(pa,{title:y.a.t("connections.toolTips.qrcode.title"),content:y.a.t("connections.toolTips.qrcode.content")},a.a.createElement($t.a,null)),"CONNECTED"===e.status&&a.a.createElement(pa,{title:y.a.t("connections.toolTips.connected.title")},a.a.createElement(er.a,{style:{color:Be.a[500]}})),("TIMEOUT"===e.status||"PAIRING"===e.status)&&a.a.createElement(pa,{title:y.a.t("connections.toolTips.timeout.title"),content:y.a.t("connections.toolTips.timeout.content")},a.a.createElement(tr.a,{color:"secondary"})))};return a.a.createElement("div",{style:{marginTop:6}},a.a.createElement(Ot.a,{fullWidth:!0,margin:"dense",variant:"outlined"},a.a.createElement(Lt.a,null,"Selecione uma conex\xe3o*"),a.a.createElement(jt.a,{labelWidth:180,value:t,onChange:function(e){r(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:function(e){return function(e){var t=s.find((function(t){return t.id===e}));return t?a.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},t.name,f(t)):null}(e)}},s.map((function(e){return a.a.createElement(Q.a,{key:e.id,value:e.id,style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},e.name,f(e))})))))};function va(){va=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var ga=Object(G.a)((function(e){return{mainPaper:Object(E.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative",marginTop:e.spacing(2),marginRight:e.spacing(1)},buttonProgress:{color:Be.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),ya=vt.c().shape({csv:vt.d().required("Required"),model:vt.d().required("Required")}),ba=function(e){var t=e.classes,r=e.contact,n=e.handleSaveContact,o=e.selectedQueueIds,i=e.setSelectedQueueIds,c=e.progressMessage,l=e.handlePreview;return a.a.createElement("div",{className:t.root},a.a.createElement(gt.d,{initialValues:r,enableReinitialize:!0,validationSchema:ya,onSubmit:function(e,t){setTimeout((function(){n(e,t)}),400)}},(function(e){var r=e.values,n=e.errors,s=e.touched,u=e.isSubmitting;e.onChange;return a.a.createElement(gt.c,null,a.a.createElement("div",null,a.a.createElement(ma,{selectedQueueIds:o,onChange:function(e){return i(e)}}),a.a.createElement(gt.a,{as:wt.a,label:"Modelo",type:"model",multiline:!0,minRows:10,fullWidth:!0,name:"model",error:s.model&&Boolean(n.model),helperText:s.model&&n.model,variant:"outlined",margin:"dense"}),a.a.createElement(gt.a,{as:wt.a,label:"Dados",type:"csv",multiline:!0,minRows:5,fullWidth:!0,name:"csv",error:s.csv&&Boolean(n.csv),helperText:s.csv&&n.csv,variant:"outlined",margin:"dense"}),a.a.createElement(sa,{progressMessage:c})),a.a.createElement("div",null,a.a.createElement(St.a,{variant:"contained",color:"secondary",disabled:u,onClick:function(){return l(r)},className:t.btnWrapper},"Mostrar preview"),a.a.createElement(St.a,{type:"submit",color:"primary",disabled:u,variant:"contained",className:t.btnWrapper},"Enviar Mensagem",u&&a.a.createElement(Nt.a,{size:24,className:t.buttonProgress}))))})))},Ea=function(){var e=ga(),t=Object(n.useRef)(!0),r=Object(n.useState)(),o=Object(l.a)(r,2),i=o[0],c=o[1],s=Object(n.useState)(0),u=Object(l.a)(s,2),h=u[0],p=u[1],m=Object(n.useState)(!1),v=Object(l.a)(m,1)[0],g=Object(n.useState)([]),y=Object(l.a)(g,2),b=y[0],E=y[1],w={csv:"",model:""},x=Object(n.useState)(w),j=Object(l.a)(x,2),k=j[0],S=j[1];Object(n.useEffect)((function(){return function(){t.current=!1}}),[]);var N=function(e){return e||L("N\xfamero inv\xe1lido"),e.length>11&&e.startsWith("55")?"".concat(e):"55".concat(e)},T=function(){var e=Object(d.a)(va().mark((function e(t,r){var n,a,o,c,l,s,u;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.csv&&t.model){e.next=5;break}return f.b.error("Preencha todos os campos"),r.setSubmitting(!1),e.abrupt("return");case 5:if(i){e.next=9;break}return f.b.error("Selecione uma conex\xe3o"),r.setSubmitting(!1),e.abrupt("return");case 9:return n=t.csv,a=t.model,o=n.slice(0,n.indexOf("\n")).split(","),c=n.slice(n.indexOf("\n")+1).split("\n"),l=c.map((function(e){var t=e.split(",");return o.reduce((function(e,r,n){return e[r]=t[n],e}),{})})),s=[],u=[],l.forEach((function(e,t){s.push(a.replace(/\{([^}]+)\}/g,(function(t,r){return e[r]})))})),l.forEach(function(){var e=Object(d.a)(va().mark((function e(t,r){var n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object.values(t),u.push({message:s[r],phone:N(n[0]),whatsappId:i});case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),e.prev=17,console.log(u),e.next=21,O.post("/bulkMessage",u);case 21:S(w),p(0),r.setSubmitting(!1),f.b.success("".concat(u.length," Mensagem salva no banco de dados com sucesso")),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(17),L(e.t0);case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(0),L(e.t1);case 34:case"end":return e.stop()}}),e,null,[[0,31],[17,26]])})));return function(t,r){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(va().mark((function e(t){var r,n,a,o,c,l,s;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r=t.csv,n=t.model,a=r.slice(0,r.indexOf("\n")).split(","),o=r.slice(r.indexOf("\n")+1).split("\n"),c=o.map((function(e){var t=e.split(",");return a.reduce((function(e,r,n){return e[r]=t[n],e}),{})})),l=[],s=[],c.forEach((function(e,t){l.push(n.replace(/\{([^}]+)\}/g,(function(t,r){return e[r]})))})),c.forEach(function(){var e=Object(d.a)(va().mark((function e(t,r){var n;return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object.values(t),s.push({message:l[r],phone:N(n[0]),whatsappId:i});case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),E(s)}catch(u){L(u)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(cr,{className:e.mainContainer},a.a.createElement(sr,null,a.a.createElement(dr,null,"Envio de Mensagem")),a.a.createElement(Qt.a,{className:e.mainPaper,variant:"outlined"},a.a.createElement(ba,{classes:e,contact:k,setContact:S,selectedQueueIds:i,setSelectedQueueIds:c,progressMessage:h,setProgressMessage:p,startSendMessage:v,handleSaveContact:T,handlePreview:_}),a.a.createElement("div",null,b.length>0&&a.a.createElement(fa,{message:b}))))},wa=r(764),xa=r(763);function Oa(){Oa=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var La=Object(G.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},mainPaper:Object(E.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),margin:{marginTop:e.spacing(2),marginRight:e.spacing(1)},withoutLabel:{marginTop:e.spacing(1)},textField:{width:"25ch"}}})),ja=function(){var e=La(),t=Object(n.useRef)(!0),r=Object(n.useState)([]),o=Object(l.a)(r,2),i=o[0],c=o[1],s=a.a.useState({}),u=Object(l.a)(s,2),h=u[0],p=u[1],m=a.a.useState({contact:!1,photo:!1,random:!1}),v=Object(l.a)(m,2),g=v[0],b=v[1];Object(n.useEffect)((function(){console.log("mudou",i),p({limit:"",minutes:"",seconds:""}),i&&O.get("/settingsMessage/".concat(i)).then((function(e){console.log("response",e.data),p({limit:e.data.limit,minutes:e.data.minutes,seconds:e.data.seconds}),b({contact:e.data.contacts,photo:e.data.photo,random:e.data.random})})).catch((function(e){L(e)}))}),[i]);var w=function(e){return function(t){p(Object(E.a)(Object(E.a)({},h),{},Object(M.a)({},e,t.target.value)))}},x=function(e){b(Object(E.a)(Object(E.a)({},g),{},Object(M.a)({},e.target.name,e.target.checked)))},j=function(){var e=Object(d.a)(Oa().mark((function e(){var t;return Oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(E.a)(Object(E.a)(Object(E.a)({},h),g),{},{whatsappId:i}),e.prev=1,e.next=4,O.post("/settingsMessage",t);case 4:f.b.success(y.a.t("settings.success")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),L(e.t0);case 10:console.log(t);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return function(){t.current=!1}}),[]),a.a.createElement(cr,{className:e.mainContainer},a.a.createElement(sr,null,a.a.createElement(dr,null,"Configura\xe7\xe3o de envio de mensagem.")),a.a.createElement(Qt.a,{className:e.mainPaper,variant:"outlined"},a.a.createElement(ma,{selectedQueueIds:i,onChange:function(e){return c(e)}}),a.a.createElement("div",null,a.a.createElement(wt.a,{label:"Limite de envio a cada 24h",id:"limit",onChange:w("limit"),className:Object(R.a)(e.margin,e.textField),value:h.limit,type:"number",InputProps:{startAdornment:a.a.createElement(xt.a,{position:"start"},"Limite")}}),a.a.createElement(wt.a,{label:"Aguardar entre",id:"minutes",value:h.minutes,onChange:w("minutes"),className:Object(R.a)(e.margin,e.textField),type:"number",InputProps:{startAdornment:a.a.createElement(xt.a,{position:"start"},"Minutos")}}),a.a.createElement(wt.a,{label:"Segundos a cada envio",id:"seconds",value:h.seconds,onChange:w("seconds"),className:Object(R.a)(e.margin,e.textField),type:"number",InputProps:{startAdornment:a.a.createElement(xt.a,{position:"start"},"Segundos")}})),a.a.createElement("div",null,a.a.createElement(Ot.a,{component:"fieldset",fullWidth:!0,className:e.margin},a.a.createElement(xa.a,{component:"legend"},"Configura\xe7\xf5es adicionais"),a.a.createElement(br.a,null,a.a.createElement(vr.a,{control:a.a.createElement(gr.a,{checked:g.contact,onChange:x,name:"contact"}),label:"Enviar s\xf3 para os meus contatos"}),a.a.createElement(vr.a,{control:a.a.createElement(gr.a,{checked:g.photo,onChange:x,name:"photo"}),label:"Enviar mensagem s\xf3 para os numeros que tem foto"}),a.a.createElement(vr.a,{control:a.a.createElement(gr.a,{checked:g.random,onChange:x,name:"random"}),label:"Enviar em orderm aleatoria  "}))),a.a.createElement(Ot.a,{fullWidth:!0,className:e.margin},a.a.createElement(Lt.a,{htmlFor:"standard-adornment-amount"},"Incluir mensagem no final com op\xe7\xe3o de n\xe3o receber mais (opt-out)"),a.a.createElement(wa.a,{id:"standard-adornment-amount",onChange:w("optOut"),multiline:!0,rows:5,margin:"dense",variant:"outlined"}))),a.a.createElement("div",null,a.a.createElement(St.a,{variant:"contained",color:"primary",className:e.margin,onClick:function(){j()}},"Salvar configura\xe7\xf5es"))))};function ka(){ka=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Sa=Object(G.a)((function(e){return{root:{display:"flex",alignItems:"center",padding:e.spacing(8,8,3)},paper:{padding:e.spacing(2),display:"flex",alignItems:"center",marginBottom:12},settingOption:{marginLeft:"auto"},margin:{margin:e.spacing(1)}}})),Na=function(){var e=Sa(),t=Object(n.useState)([]),r=Object(l.a)(t,2),o=r[0],i=r[1];Object(n.useEffect)((function(){(function(){var e=Object(d.a)(ka().mark((function e(){var t,r;return ka().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/settings");case 3:t=e.sent,r=t.data,i(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),L(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){var e=p()("https://sacapi.meupost.com/");return e.on("settings",(function(e){"update"===e.action&&i((function(t){var r=Object(T.a)(t),n=r.findIndex((function(t){return t.key===e.setting.key}));return r[n].value=e.setting.value,r}))})),function(){e.disconnect()}}),[]);var c=function(){var e=Object(d.a)(ka().mark((function e(t){var r,n;return ka().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.value,n=t.target.name,e.prev=2,e.next=5,O.put("/settings/".concat(n),{value:r});case 5:f.b.success(y.a.t("settings.success")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),L(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),s=function(e){return o.find((function(t){return t.key===e})).value};return a.a.createElement("div",{className:e.root},a.a.createElement(or.a,{className:e.container},a.a.createElement(z.a,{variant:"body2",gutterBottom:!0},y.a.t("settings.title")),a.a.createElement(Qt.a,{className:e.paper},a.a.createElement(z.a,{variant:"body1"},y.a.t("settings.settings.userCreation.name")),a.a.createElement(jt.a,{margin:"dense",variant:"outlined",native:!0,id:"userCreation-setting",name:"userCreation",value:o&&o.length>0&&s("userCreation"),className:e.settingOption,onChange:c},a.a.createElement("option",{value:"enabled"},y.a.t("settings.settings.userCreation.options.enabled")),a.a.createElement("option",{value:"disabled"},y.a.t("settings.settings.userCreation.options.disabled")))),a.a.createElement(z.a,{variant:"body2",gutterBottom:!0}),a.a.createElement(it.a,{title:y.a.t("settings.settings.timeCreateNewTicket.note")},a.a.createElement(Qt.a,{className:e.paper,elevation:3},a.a.createElement(z.a,{variant:"body1"},y.a.t("settings.settings.timeCreateNewTicket.name")),a.a.createElement(jt.a,{margin:"dense",variant:"outlined",native:!0,id:"timeCreateNewTicket-setting",name:"timeCreateNewTicket",value:o&&o.length>0&&s("timeCreateNewTicket"),className:e.settingOption,onChange:c},a.a.createElement("option",{value:"10"},y.a.t("settings.settings.timeCreateNewTicket.options.10")),a.a.createElement("option",{value:"30"},y.a.t("settings.settings.timeCreateNewTicket.options.30")),a.a.createElement("option",{value:"60"},y.a.t("settings.settings.timeCreateNewTicket.options.60")),a.a.createElement("option",{value:"300"},y.a.t("settings.settings.timeCreateNewTicket.options.300")),a.a.createElement("option",{value:"1800"},y.a.t("settings.settings.timeCreateNewTicket.options.1800")),a.a.createElement("option",{value:"3600"},y.a.t("settings.settings.timeCreateNewTicket.options.3600")),a.a.createElement("option",{value:"7200"},y.a.t("settings.settings.timeCreateNewTicket.options.7200")),a.a.createElement("option",{value:"21600"},y.a.t("settings.settings.timeCreateNewTicket.options.21600")),a.a.createElement("option",{value:"43200"},y.a.t("settings.settings.timeCreateNewTicket.options.43200")),a.a.createElement("option",{value:"86400"},y.a.t("settings.settings.timeCreateNewTicket.options.86400")),a.a.createElement("option",{value:"172800"},y.a.t("settings.settings.timeCreateNewTicket.options.172800"))))),a.a.createElement(z.a,{variant:"body2",gutterBottom:!0}),a.a.createElement(Qt.a,{className:e.paper},a.a.createElement(z.a,{variant:"body1"},y.a.t("settings.settings.call.name")),a.a.createElement(jt.a,{margin:"dense",variant:"outlined",native:!0,id:"call-setting",name:"call",value:o&&o.length>0&&s("call"),className:e.settingOption,onChange:c},a.a.createElement("option",{value:"enabled"},y.a.t("settings.settings.call.options.enabled")),a.a.createElement("option",{value:"disabled"},y.a.t("settings.settings.call.options.disabled")))),a.a.createElement(Qt.a,{className:e.paper},a.a.createElement(z.a,{variant:"body1"},y.a.t("settings.settings.CheckMsgIsGroup.name")),a.a.createElement(jt.a,{margin:"dense",variant:"outlined",native:!0,id:"CheckMsgIsGroup-setting",name:"CheckMsgIsGroup",value:o&&o.length>0&&s("CheckMsgIsGroup"),className:e.settingOption,onChange:c},a.a.createElement("option",{value:"enabled"},y.a.t("settings.settings.CheckMsgIsGroup.options.enabled")),a.a.createElement("option",{value:"disabled"},y.a.t("settings.settings.CheckMsgIsGroup.options.disabled")))),a.a.createElement(Qt.a,{className:e.paper},a.a.createElement(wt.a,{id:"api-token-setting",readonly:!0,label:"Token Api",margin:"dense",variant:"outlined",fullWidth:!0,value:o&&o.length>0&&s("userApiToken")})),a.a.createElement(Qt.a,{className:e.paper},a.a.createElement(z.a,{variant:"body1"},"Tipo do Chatbot"),a.a.createElement(jt.a,{margin:"dense",variant:"outlined",native:!0,id:"chatBotType-setting",name:"chatBotType",value:o&&o.length>0&&s("chatBotType"),className:e.settingOption,onChange:c},a.a.createElement("option",{value:"text"},"Texto"),a.a.createElement("option",{value:"button"},"Bot\xe3o"),a.a.createElement("option",{value:"list"},"Lista")))))};function Ta(){Ta=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var _a=function(e,t){if("LOAD_QUICK_ANSWERS"===t.type){var r=t.payload,n=[];return r.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?e[r]=t:n.push(t)})),[].concat(Object(T.a)(e),n)}if("UPDATE_QUICK_ANSWERS"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?(e[o]=a,Object(T.a)(e)):[a].concat(Object(T.a)(e))}if("DELETE_MASS_MESSAGE"===t.type){var i=t.payload;console.log(i);var c=e.findIndex((function(e){return e.id===i}));return-1!==c&&e.splice(c,1),Object(T.a)(e)}if("RESET"===t.type)return[]},Ca=Object(G.a)((function(e){return{mainPaper:Object(E.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}})),Aa=function(){var e=Ca(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],c=Object(n.useState)(1),s=Object(l.a)(c,2),u=s[0],h=s[1],p=Object(n.useState)(""),m=Object(l.a)(p,2),v=m[0],b=m[1],E=Object(n.useReducer)(_a,[]),w=Object(l.a)(E,2),x=w[0],j=w[1],k=Object(n.useState)(null),S=Object(l.a)(k,2),N=S[0],T=S[1],_=Object(n.useState)(!1),C=Object(l.a)(_,2),A=C[0],I=C[1],P=Object(n.useState)(!1),M=Object(l.a)(P,2),R=M[0],G=M[1];Object(n.useEffect)((function(){j({type:"RESET"}),h(1)}),[v]),Object(n.useEffect)((function(){i(!0);var e=setTimeout((function(){(function(){var e=Object(d.a)(Ta().mark((function e(){var t,r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/bulkMessage/report",{params:{searchParam:v,pageNumber:u}});case 3:t=e.sent,r=t.data,j({type:"LOAD_QUICK_ANSWERS",payload:r.messages}),G(r.hasMore),i(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),L(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}),[v,u]),Object(n.useEffect)((function(){var e=g();return e.on("massMessage",(function(e){"update"!==e.action&&"create"!==e.action||j({type:"UPDATE_QUICK_ANSWERS",payload:e.scheduleRecord}),"delete"===e.action&&(console.log("delete"),j({type:"DELETE_MASS_MESSAGE",payload:+e.scheduleRecord}))})),function(){e.disconnect()}}),[]);var F=function(){var e=Object(d.a)(Ta().mark((function e(t){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.delete("/bulkMessage/d/".concat(t));case 3:f.b.success(y.a.t("quickAnswers.toasts.deleted")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),L(e.t0);case 9:T(null),b(""),h(1);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(d.a)(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.delete("/bulkMessage/clean");case 3:f.b.success(y.a.t("quickAnswers.toasts.deleted")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),L(e.t0);case 9:x(_a,[]),T(null),b(""),h(1);case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(cr,null,a.a.createElement(jr,{title:N&&"Voc\xea tem certeza que quer excluir este relat\xf3rio: ".concat(N.phone,"?"),open:A,onClose:I,onConfirm:function(){return F(N.id)}},y.a.t("quickAnswers.confirmationModal.deleteMessage")),a.a.createElement(sr,null,a.a.createElement(dr,null,"Relat\xf3rio de envio de mensagens"),a.a.createElement(fr,null,a.a.createElement(wt.a,{placeholder:y.a.t("quickAnswers.searchPlaceholder"),type:"search",value:v,onChange:function(e){b(e.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(xt.a,{position:"start"},a.a.createElement(Mr.a,{style:{color:"gray"}}))}}),a.a.createElement(St.a,{variant:"contained",color:"primary",onClick:W},"Limpar base"))),a.a.createElement(Qt.a,{className:e.mainPaper,variant:"outlined",onScroll:function(e){if(R&&!o){var t=e.currentTarget,r=t.scrollTop;t.scrollHeight-(r+100)<t.clientHeight&&h((function(e){return e+1}))}}},a.a.createElement(Yt.a,{size:"small"},a.a.createElement(Vt.a,null,a.a.createElement(Kt.a,null,a.a.createElement(Jt.a,{align:"center"},"Conex\xe3o"),a.a.createElement(Jt.a,{align:"center"},"Numero"),a.a.createElement(Jt.a,{align:"center"},"Mensagem"),a.a.createElement(Jt.a,{align:"center"},"Status"),a.a.createElement(Jt.a,{align:"center"},y.a.t("quickAnswers.table.actions")))),a.a.createElement(Zt.a,null,a.a.createElement(a.a.Fragment,null,x.map((function(e){var t,r;return a.a.createElement(Kt.a,{key:e.id},a.a.createElement(Jt.a,{align:"center"},null===e||void 0===e||null===(t=e.whatsapp)||void 0===t?void 0:t.name," /"," ",null===e||void 0===e||null===(r=e.whatsapp)||void 0===r?void 0:r.number),a.a.createElement(Jt.a,{align:"center"},e.phone),a.a.createElement(Jt.a,{align:"center"},e.message),a.a.createElement(Jt.a,{align:"center"},e.status),a.a.createElement(Jt.a,{align:"center"},a.a.createElement(D.a,{size:"small",onClick:function(t){I(!0),T(e)}},a.a.createElement(ar.a,null))))})),o&&a.a.createElement(mr,{columns:3}))))))},Ia=r(866);function Pa(){Pa=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Ma=Object(G.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),Ra=vt.c().shape({name:vt.d().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:vt.d().min(5,"Too Short!").max(50,"Too Long!"),email:vt.d().email("Invalid email").required("Required")}),Ga=function(){var e=Ma(),t=Object(u.g)(),r=Object(n.useState)(!1),o=Object(l.a)(r,2),i=o[0],h=o[1],p=Object(n.useState)({name:"",email:"",password:""}),m=Object(l.a)(p,1)[0],v=function(){var e=Object(d.a)(Pa().mark((function e(r){return Pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.post("/auth/signup",r);case 3:f.b.success(y.a.t("signup.toasts.success")),t.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),L(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(or.a,{component:"main",maxWidth:"xs"},a.a.createElement(c.a,null),a.a.createElement("div",{className:e.paper},a.a.createElement(ze.a,{className:e.avatar},a.a.createElement(Ia.a,null)),a.a.createElement(z.a,{component:"h1",variant:"h5"},y.a.t("signup.title")),a.a.createElement(gt.d,{initialValues:m,enableReinitialize:!0,validationSchema:Ra,onSubmit:function(e,t){setTimeout((function(){v(e),t.setSubmitting(!1)}),400)}},(function(t){var r=t.touched,n=t.errors;t.isSubmitting;return a.a.createElement(gt.c,{className:e.form},a.a.createElement(yr.a,{container:!0,spacing:2},a.a.createElement(yr.a,{item:!0,xs:12},a.a.createElement(gt.a,{as:wt.a,autoComplete:"name",name:"name",error:r.name&&Boolean(n.name),helperText:r.name&&n.name,variant:"outlined",fullWidth:!0,id:"name",label:y.a.t("signup.form.name"),autoFocus:!0})),a.a.createElement(yr.a,{item:!0,xs:12},a.a.createElement(gt.a,{as:wt.a,variant:"outlined",fullWidth:!0,id:"email",label:y.a.t("signup.form.email"),name:"email",error:r.email&&Boolean(n.email),helperText:r.email&&n.email,autoComplete:"email"})),a.a.createElement(yr.a,{item:!0,xs:12},a.a.createElement(gt.a,{as:wt.a,variant:"outlined",fullWidth:!0,name:"password",id:"password",autoComplete:"current-password",error:r.password&&Boolean(n.password),helperText:r.password&&n.password,label:y.a.t("signup.form.password"),type:i?"text":"password",InputProps:{endAdornment:a.a.createElement(xt.a,{position:"end"},a.a.createElement(D.a,{"aria-label":"toggle password visibility",onClick:function(){return h((function(e){return!e}))}},i?a.a.createElement(Tt.a,null):a.a.createElement(_t.a,null)))}}))),a.a.createElement(St.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},y.a.t("signup.buttons.submit")),a.a.createElement(yr.a,{container:!0,justifyContent:"flex-end"},a.a.createElement(yr.a,{item:!0},a.a.createElement(ln.a,{href:"#",variant:"body2",component:s.b,to:"/login"},y.a.t("signup.buttons.login")))))}))),a.a.createElement(sn.a,{mt:5}))},Fa=r(496);function Da(){Da=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Wa=Object(G.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:Be.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}}})),qa=vt.c().shape({name:vt.d().min(3,"Mensagem muito curta").required("Obrigat\xf3rio")}),Ba=function(e){var t=e.open,r=e.onClose,o=e.tagId,i=e.reload,c=Wa(),s=Object(n.useContext)(S).user,u=Object(n.useState)(!1),h=Object(l.a)(u,2),p=h[0],m=h[1],v={name:"",color:""},g=Object(n.useState)(v),b=Object(l.a)(g,2),w=b[0],x=b[1];Object(n.useEffect)((function(){try{Object(d.a)(Da().mark((function e(){var t,r;return Da().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,O.get("/tags/".concat(o));case 4:t=e.sent,r=t.data,x((function(e){return Object(E.a)(Object(E.a)({},e),r)}));case 7:case"end":return e.stop()}}),e)})))()}catch(e){L(e)}}),[o,t]);var j=function(){x(v),m(!1),r()},k=function(){var e=Object(d.a)(Da().mark((function e(t){var r;return Da().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(E.a)(Object(E.a)({},t),{},{userId:s.id}),e.prev=1,!o){e.next=7;break}return e.next=5,O.put("/tags/".concat(o),r);case 5:e.next=9;break;case 7:return e.next=9,O.post("/tags",r);case 9:f.b.success(y.a.t("tagModal.success")),"function"==typeof i&&i(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),L(e.t0);case 16:j();case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:c.root},a.a.createElement(yt.a,{open:t,onClose:j,maxWidth:"xs",fullWidth:!0,scroll:"paper"},a.a.createElement(bt.a,{id:"form-dialog-title"},"".concat(o?y.a.t("tagModal.title.edit"):y.a.t("tagModal.title.add"))),a.a.createElement(gt.d,{initialValues:w,enableReinitialize:!0,validationSchema:qa,onSubmit:function(e,t){setTimeout((function(){k(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.touched,r=e.errors,n=e.isSubmitting,i=e.values;return a.a.createElement(gt.c,null,a.a.createElement(Et.a,{dividers:!0},a.a.createElement("div",{className:c.multFieldLine},a.a.createElement(gt.a,{as:wt.a,label:y.a.t("tagModal.form.name"),name:"name",error:t.name&&Boolean(r.name),helperText:t.name&&r.name,variant:"outlined",margin:"dense",onChange:function(e){return x((function(t){return Object(E.a)(Object(E.a)({},t),{},{name:e.target.value})}))},fullWidth:!0})),a.a.createElement("br",null),a.a.createElement("div",{className:c.multFieldLine},a.a.createElement(gt.a,{as:wt.a,fullWidth:!0,label:y.a.t("tagModal.form.color"),name:"color",id:"color",error:t.color&&Boolean(r.color),helperText:t.color&&r.color,InputProps:{startAdornment:a.a.createElement(xt.a,{position:"start"},a.a.createElement("div",{style:{backgroundColor:i.color},className:c.colorAdorment})),endAdornment:a.a.createElement(D.a,{size:"small",color:"default",onClick:function(){return m(!p)}},a.a.createElement(xn.a,null))},variant:"outlined",margin:"dense"})),p&&a.a.createElement("div",null,a.a.createElement(Fa.a,{disableAlpha:!0,hslGradient:!1,style:{margin:"20px auto 0"},value:w.color,onChange:function(e){x((function(t){return Object(E.a)(Object(E.a)({},t),{},{color:"#".concat(e.hex)})}))}}))),a.a.createElement(kt.a,null,a.a.createElement(St.a,{onClick:j,color:"secondary",disabled:n,variant:"outlined"},y.a.t("tagModal.buttons.cancel")),a.a.createElement(St.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:c.btnWrapper},"".concat(o?y.a.t("tagModal.buttons.okEdit"):y.a.t("tagModal.buttons.okAdd")),n&&a.a.createElement(Nt.a,{size:24,className:c.buttonProgress}))))}))))};function Ua(){Ua=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var za=function(e,t){if("LOAD_TAGS"===t.type){var r=t.payload,n=[];return r.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?e[r]=t:n.push(t)})),[].concat(Object(T.a)(e),n)}if("UPDATE_TAGS"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?(e[o]=a,Object(T.a)(e)):[a].concat(Object(T.a)(e))}if("DELETE_TAG"===t.type){var i=t.payload,c=e.findIndex((function(e){return e.id===i}));return-1!==c&&e.splice(c,1),Object(T.a)(e)}if("RESET"===t.type)return[]},Ha=Object(G.a)((function(e){return{mainPaper:Object(E.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}})),Qa=function(){var e=Ha(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],c=Object(n.useState)(1),s=Object(l.a)(c,2),u=s[0],h=s[1],m=Object(n.useState)(!1),v=Object(l.a)(m,2),g=v[0],b=v[1],E=Object(n.useState)(null),w=Object(l.a)(E,2),x=w[0],j=w[1],k=Object(n.useState)(null),S=Object(l.a)(k,2),N=S[0],T=S[1],_=Object(n.useState)(!1),C=Object(l.a)(_,2),A=C[0],I=C[1],P=Object(n.useState)(""),M=Object(l.a)(P,2),R=M[0],G=M[1],F=Object(n.useReducer)(za,[]),W=Object(l.a)(F,2),q=W[0],B=W[1],U=Object(n.useState)(!1),z=Object(l.a)(U,2),H=z[0],Q=z[1],Y=Object(n.useCallback)(Object(d.a)(Ua().mark((function e(){var t,r;return Ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/tags/",{params:{searchParam:R,pageNumber:u}});case 3:t=e.sent,r=t.data,B({type:"LOAD_TAGS",payload:r.tags}),b(r.hasMore),i(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),L(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[R,u]);Object(n.useEffect)((function(){B({type:"RESET"}),h(1)}),[R]),Object(n.useEffect)((function(){i(!0);var e=setTimeout((function(){Y()}),500);return function(){return clearTimeout(e)}}),[R,u,Y]),Object(n.useEffect)((function(){var e=p()("https://sacapi.meupost.com/");return e.on("user",(function(e){"update"!==e.action&&"create"!==e.action||B({type:"UPDATE_TAGS",payload:e.tags}),"delete"===e.action&&B({type:"DELETE_USER",payload:+e.tagId})})),function(){e.disconnect()}}),[]);var V=function(){var e=Object(d.a)(Ua().mark((function e(t){return Ua().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.delete("/tags/".concat(t));case 3:f.b.success(y.a.t("tags.toasts.deleted")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),L(e.t0);case 9:return T(null),G(""),h(1),B({type:"RESET"}),h(1),e.next=16,Y();case 16:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(cr,null,a.a.createElement(jr,{title:N&&"".concat(y.a.t("tags.confirmationModal.deleteTitle")),open:A,onClose:I,onConfirm:function(){return V(N.id)}},y.a.t("tags.confirmationModal.deleteMessage")),a.a.createElement(Ba,{open:H,onClose:function(){j(null),Q(!1)},reload:Y,"aria-labelledby":"form-dialog-title",tagId:x&&x.id}),a.a.createElement(sr,null,a.a.createElement(dr,null,y.a.t("tags.title")),a.a.createElement(fr,null,a.a.createElement(wt.a,{placeholder:y.a.t("contacts.searchPlaceholder"),type:"search",value:R,onChange:function(e){G(e.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(xt.a,{position:"start"},a.a.createElement(Mr.a,{style:{color:"gray"}}))}}),a.a.createElement(St.a,{variant:"contained",color:"primary",onClick:function(){j(null),Q(!0)}},y.a.t("tags.buttons.add")))),a.a.createElement(Qt.a,{className:e.mainPaper,variant:"outlined",onScroll:function(e){if(g&&!o){var t=e.currentTarget,r=t.scrollTop;t.scrollHeight-(r+100)<t.clientHeight&&h((function(e){return e+1}))}}},a.a.createElement(Yt.a,{size:"small"},a.a.createElement(Vt.a,null,a.a.createElement(Kt.a,null,a.a.createElement(Jt.a,{align:"center"},y.a.t("tags.table.name")),a.a.createElement(Jt.a,{align:"center"},y.a.t("tags.table.tickets")),a.a.createElement(Jt.a,{align:"center"},y.a.t("tags.table.actions")))),a.a.createElement(Zt.a,null,a.a.createElement(a.a.Fragment,null,q.map((function(e){return a.a.createElement(Kt.a,{key:e.id},a.a.createElement(Jt.a,{align:"center"},a.a.createElement(Ct.a,{variant:"outlined",style:{backgroundColor:e.color,textShadow:"1px 1px 1px #000",color:"white"},label:e.name,size:"small"})),a.a.createElement(Jt.a,{align:"center"},e.ticketsCount),a.a.createElement(Jt.a,{align:"center"},a.a.createElement(D.a,{size:"small",onClick:function(){return function(e){j(e),Q(!0)}(e)}},a.a.createElement(Dr.a,null)),a.a.createElement(D.a,{size:"small",onClick:function(t){I(!0),T(e)}},a.a.createElement(Gr.a,null))))})),o&&a.a.createElement(mr,{columns:4}))))))},Ya=r(505),Va=r(884),Ka=r(867),Ja=r(477),Za=r.n(Ja),Xa=r(478),$a=r.n(Xa);function eo(){eo=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function to(e){var t=e.onFiltered,r=Object(n.useState)([]),o=Object(l.a)(r,2),i=o[0],c=o[1],s=Object(n.useState)([]),u=Object(l.a)(s,2),f=u[0],h=u[1];Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(eo().mark((function e(){return eo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var p=function(){var e=Object(d.a)(eo().mark((function e(){var t,r;return eo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/tags/list");case 3:t=e.sent,r=t.data,c(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),L(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(eo().mark((function e(r){return eo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(r),t(r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(Qt.a,{style:{padding:10}},a.a.createElement(Kn.a,{multiple:!0,size:"small",options:i,value:f,onChange:function(e,t,r){return m(t)},getOptionLabel:function(e){return e.name},renderTags:function(e,t){return e.map((function(e,r){return a.a.createElement(Ct.a,Object.assign({variant:"outlined",style:{backgroundColor:e.color||"#eee",textShadow:"1px 1px 1px #000",color:"white"},label:e.name},t({index:r}),{size:"small"}))}))},renderInput:function(e){return a.a.createElement(wt.a,Object.assign({},e,{variant:"outlined",placeholder:"Filtro por Tags"}))}}))}var ro=r(864),no=["loading","children"],ao=Object(G.a)((function(e){return{button:{position:"relative"},buttonProgress:{color:Be.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),oo=function(e){var t=e.loading,r=e.children,n=Object($e.a)(e,no),o=ao();return a.a.createElement(St.a,Object.assign({className:o.button,disabled:t},n),r,t&&a.a.createElement(Nt.a,{size:24,className:o.buttonProgress}))};function io(){io=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var co=Object(ro.a)({trim:!0}),lo=function(e){var t=e.modalOpen,r=e.onClose,o=Object(u.g)(),i=Object(n.useState)([]),c=Object(l.a)(i,2),s=c[0],f=c[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],v=p[1],g=Object(n.useState)(""),b=Object(l.a)(g,2),w=b[0],x=b[1],j=Object(n.useState)(null),k=Object(l.a)(j,2),N=k[0],T=k[1],_=Object(n.useState)({}),C=Object(l.a)(_,2),A=C[0],I=C[1],P=Object(n.useState)(!1),M=Object(l.a)(P,2),R=M[0],G=M[1],F=Object(n.useContext)(S).user;Object(n.useEffect)((function(){if(t&&!(w.length<3)){v(!0);var e=setTimeout((function(){(function(){var e=Object(d.a)(io().mark((function e(){var t,r;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("contacts",{params:{searchParam:w}});case 3:t=e.sent,r=t.data,f(r.contacts),v(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),v(!1),L(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}v(!1)}),[w,t]);var D=function(){r(),x(""),T(null)},W=function(){var e=Object(d.a)(io().mark((function e(t){var r,n;return io().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return v(!0),e.prev=3,e.next=6,O.post("/tickets",{contactId:t,userId:F.id,status:"open"});case 6:r=e.sent,n=r.data,o.push("/tickets/".concat(n.id)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),L(e.t0);case 14:v(!1),D();case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ur,{open:R,initialValues:A,onClose:function(){G(!1)},onSave:function(e){W(e.id)}}),a.a.createElement(yt.a,{open:t,onClose:D},a.a.createElement(bt.a,{id:"form-dialog-title"},y.a.t("newTicketModal.title")),a.a.createElement(Et.a,{dividers:!0},a.a.createElement(Kn.a,{options:s,loading:m,style:{width:300},clearOnBlur:!0,autoHighlight:!0,freeSolo:!0,clearOnEscape:!0,getOptionLabel:function(e){return e.number?"".concat(e.name," - ").concat(e.number):"".concat(e.name)},renderOption:function(e){return e.number?"".concat(e.name," - ").concat(e.number):"".concat(y.a.t("newTicketModal.add")," ").concat(e.name)},filterOptions:function(e,t){var r=co(e,t);return""!==t.inputValue&&!m&&w.length>=3&&r.push({name:"".concat(t.inputValue)}),r},onChange:function(e,t){return function(e,t){(null===t||void 0===t?void 0:t.number)?T(t):(null===t||void 0===t?void 0:t.name)&&(I({name:t.name}),G(!0))}(0,t)},renderInput:function(e){return a.a.createElement(wt.a,Object.assign({},e,{label:y.a.t("newTicketModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:function(e){return x(e.target.value)},onKeyPress:function(e){!m&&N&&"Enter"===e.key&&W(N.id)},InputProps:Object(E.a)(Object(E.a)({},e.InputProps),{},{endAdornment:a.a.createElement(a.a.Fragment,null,m?a.a.createElement(Nt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})),a.a.createElement(kt.a,null,a.a.createElement(St.a,{onClick:D,color:"secondary",disabled:m,variant:"outlined"},y.a.t("newTicketModal.buttons.cancel")),a.a.createElement(oo,{variant:"contained",type:"button",disabled:!N,onClick:function(){return W(N.id)},color:"primary",loading:m},y.a.t("newTicketModal.buttons.ok")))))},so=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(ie.a,{dense:!0},a.a.createElement(Ue.a,null,a.a.createElement(hr.a,{animation:"wave",variant:"circle",width:40,height:40})),a.a.createElement(le.a,{primary:a.a.createElement(hr.a,{animation:"wave",height:20,width:60}),secondary:a.a.createElement(hr.a,{animation:"wave",height:20,width:90})})),a.a.createElement(W.a,{variant:"inset"}),a.a.createElement(ie.a,{dense:!0},a.a.createElement(Ue.a,null,a.a.createElement(hr.a,{animation:"wave",variant:"circle",width:40,height:40})),a.a.createElement(le.a,{primary:a.a.createElement(hr.a,{animation:"wave",height:20,width:70}),secondary:a.a.createElement(hr.a,{animation:"wave",height:20,width:120})})),a.a.createElement(W.a,{variant:"inset"}),a.a.createElement(ie.a,{dense:!0},a.a.createElement(Ue.a,null,a.a.createElement(hr.a,{animation:"wave",variant:"circle",width:40,height:40})),a.a.createElement(le.a,{primary:a.a.createElement(hr.a,{animation:"wave",height:20,width:60}),secondary:a.a.createElement(hr.a,{animation:"wave",height:20,width:90})})),a.a.createElement(W.a,{variant:"inset"}))},uo=Object(G.a)((function(e){return{ticketsListWrapper:{position:"relative",display:"flex",height:"100%",flexDirection:"column",overflow:"hidden",borderTopRightRadius:0,borderBottomRightRadius:0},ticketsList:Object(E.a)(Object(E.a)({flex:1,overflowY:"scroll"},e.scrollbarStyles),{},{borderTop:"2px solid rgba(0, 0, 0, 0.12)"}),ticketsListHeader:{color:"rgb(67, 83, 105)",zIndex:2,backgroundColor:"white",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",display:"flex",alignItems:"center",justifyContent:"space-between"},ticketsCount:{fontWeight:"normal",color:"rgb(104, 121, 146)",marginLeft:"8px",fontSize:"14px"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"}}})),fo=function(e,t){if("LOAD_TICKETS"===t.type)return t.payload.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?(e[r]=t,t.unreadMessages>0&&e.unshift(e.splice(r,1)[0])):e.push(t)})),Object(T.a)(e);if("RESET_UNREAD"===t.type){var r=t.payload,n=e.findIndex((function(e){return e.id===r}));return-1!==n&&(e[n].unreadMessages=0),Object(T.a)(e)}if("UPDATE_TICKET"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?e[o]=a:e.unshift(a),Object(T.a)(e)}if("UPDATE_TICKET_UNREAD_MESSAGES"===t.type){var i=t.payload,c=e.findIndex((function(e){return e.id===i.id}));return-1!==c?(e[c]=i,e.unshift(e.splice(c,1)[0])):e.unshift(i),Object(T.a)(e)}if("UPDATE_TICKET_CONTACT"===t.type){var l=t.payload,s=e.findIndex((function(e){return e.contactId===l.id}));return-1!==s&&(e[s].contact=l),Object(T.a)(e)}if("DELETE_TICKET"===t.type){var u=t.payload,f=e.findIndex((function(e){return e.id===u}));return-1!==f&&e.splice(f,1),Object(T.a)(e)}return"RESET"===t.type?[]:void 0},ho=function(e){var t=e.status,r=e.searchParam,o=e.showAll,i=e.selectedQueueIds,c=e.updateCount,s=e.style,u=e.tags,f=uo(),d=Object(n.useState)(1),h=Object(l.a)(d,2),p=h[0],m=h[1],v=Object(n.useReducer)(fo,[]),b=Object(l.a)(v,2),E=b[0],w=b[1],x=Object(n.useContext)(S).user,O=x.profile,L=x.queues;Object(n.useEffect)((function(){w({type:"RESET"}),m(1)}),[t,r,w,o,i,u]);var j=ft({pageNumber:p,searchParam:r,status:t,showAll:o,tags:JSON.stringify(u),queueIds:JSON.stringify(i)}),k=j.tickets,N=j.hasMore,T=j.loading;Object(n.useEffect)((function(){var e=L.map((function(e){return e.id})),t=k.filter((function(t){return e.indexOf(t.queueId)>-1}));w("user"===O?{type:"LOAD_TICKETS",payload:t}:{type:"LOAD_TICKETS",payload:k})}),[k,t,r,L,O]),Object(n.useEffect)((function(){var e=g(),r=function(e){return(!e.userId||e.userId===(null===x||void 0===x?void 0:x.id)||o)&&(!e.queueId||i.indexOf(e.queueId)>-1)};return e.on("connect",(function(){t?e.emit("joinTickets",t):e.emit("joinNotification")})),e.on("ticket",(function(e){var t;"updateUnread"===e.action&&w({type:"RESET_UNREAD",payload:e.ticketId}),"update"===e.action&&r(e.ticket)&&w({type:"UPDATE_TICKET",payload:e.ticket}),"update"===e.action&&((t=e.ticket).queueId&&-1===i.indexOf(t.queueId))&&w({type:"DELETE_TICKET",payload:e.ticket.id}),"delete"===e.action&&w({type:"DELETE_TICKET",payload:e.ticketId})})),e.on("appMessage",(function(e){"create"===e.action&&r(e.ticket)&&w({type:"UPDATE_TICKET_UNREAD_MESSAGES",payload:e.ticket})})),e.on("contact",(function(e){"update"===e.action&&w({type:"UPDATE_TICKET_CONTACT",payload:e.contact})})),function(){e.disconnect()}}),[t,o,x,i]),Object(n.useEffect)((function(){"function"===typeof c&&c(E.length)}),[E]);return a.a.createElement(Qt.a,{className:f.ticketsListWrapper,style:s},a.a.createElement(Qt.a,{square:!0,name:"closed",elevation:0,className:f.ticketsList,onScroll:function(e){if(N&&!T){var t=e.currentTarget,r=t.scrollTop;t.scrollHeight-(r+100)<t.clientHeight&&m((function(e){return e+1}))}}},a.a.createElement(q.a,{style:{paddingTop:0}},0!==E.length||T?a.a.createElement(a.a.Fragment,null,E.map((function(e){return a.a.createElement(st,{ticket:e,key:e.id})}))):a.a.createElement("div",{className:f.noTicketsDiv},a.a.createElement("span",{className:f.noTicketsTitle},y.a.t("ticketsList.noTicketsTitle")),a.a.createElement("p",{className:f.noTicketsText},y.a.t("ticketsList.noTicketsMessage"))),T&&a.a.createElement(so,null))))},po=["children","value","name"],mo=function(e){var t=e.children,r=e.value,n=e.name,o=Object($e.a)(e,po);return r===n?a.a.createElement("div",Object.assign({role:"tabpanel",id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},o),a.a.createElement(a.a.Fragment,null,t)):null},vo=function(e){var t=e.userQueues,r=e.selectedQueueIds,n=void 0===r?[]:r,o=e.onChange;return a.a.createElement("div",{style:{width:120,marginTop:-4}},a.a.createElement(Ot.a,{fullWidth:!0,margin:"dense"},a.a.createElement(jt.a,{multiple:!0,displayEmpty:!0,variant:"outlined",value:n,onChange:function(e){o(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:function(){return y.a.t("ticketsQueueSelect.placeholder")}},(null===t||void 0===t?void 0:t.length)>0&&t.map((function(e){return a.a.createElement(Q.a,{dense:!0,key:e.id,value:e.id},a.a.createElement(Er.a,{style:{color:e.color},size:"small",color:"primary",checked:n.indexOf(e.id)>-1}),a.a.createElement(le.a,{primary:e.name}))})))))},go=Object(G.a)((function(e){return{ticketsWrapper:{position:"relative",display:"flex",height:"100%",flexDirection:"column",overflow:"hidden",borderTopRightRadius:0,borderBottomRightRadius:0},tabsHeader:{flex:"none",backgroundColor:"#eee"},settingsIcon:{alignSelf:"center",marginLeft:"auto",padding:8},tab:{minWidth:120,width:120},ticketOptionsBox:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"#fafafa",padding:e.spacing(1)},serachInputWrapper:{flex:1,background:"#fff",display:"flex",borderRadius:40,padding:4,marginRight:e.spacing(1)},searchIcon:{color:"grey",marginLeft:6,marginRight:6,alignSelf:"center"},searchInput:{flex:1,border:"none",borderRadius:30},badge:{right:"-10px"},show:{display:"block"},hide:{display:"none !important"}}})),yo=function(){var e,t=go(),r=Object(n.useState)(""),o=Object(l.a)(r,2),i=o[0],c=o[1],s=Object(n.useState)("open"),u=Object(l.a)(s,2),f=u[0],d=u[1],h=Object(n.useState)("open"),p=Object(l.a)(h,2),m=p[0],v=p[1],g=Object(n.useState)(!1),b=Object(l.a)(g,2),E=b[0],w=b[1],x=Object(n.useState)(!1),O=Object(l.a)(x,2),L=O[0],j=O[1],k=Object(n.useRef)(),N=Object(n.useContext)(S).user,T=Object(n.useState)(0),_=Object(l.a)(T,2),C=_[0],A=_[1],I=Object(n.useState)(0),P=Object(l.a)(I,2),M=P[0],R=P[1],G=Object(n.useState)([]),F=Object(l.a)(G,2),D=F[0],W=F[1],q=N.queues.map((function(e){return e.id})),B=Object(n.useState)(q||[]),U=Object(l.a)(B,2),z=U[0],H=U[1];Object(n.useEffect)((function(){"ADMIN"===N.profile.toUpperCase()&&j(!0)}),[]),Object(n.useEffect)((function(){"search"===f&&k.current.focus()}),[f]);var Q=function(e){if(m!==e)return{width:0,height:0}};return a.a.createElement(Qt.a,{elevation:0,variant:"outlined",className:t.ticketsWrapper},a.a.createElement(lo,{modalOpen:E,onClose:function(e){return w(!1)}}),a.a.createElement(Qt.a,{elevation:0,square:!0,className:t.tabsHeader},a.a.createElement(Va.a,{value:f,onChange:function(e,t){d(t)},variant:"fullWidth",indicatorColor:"primary",textColor:"primary","aria-label":"icon label tabs example"},a.a.createElement(Ka.a,{value:"open",icon:a.a.createElement(Za.a,null),label:y.a.t("tickets.tabs.open.title"),classes:{root:t.tab}}),a.a.createElement(Ka.a,{value:"closed",icon:a.a.createElement($a.a,null),label:y.a.t("tickets.tabs.closed.title"),classes:{root:t.tab}}),a.a.createElement(Ka.a,{value:"search",icon:a.a.createElement(Mr.a,null),label:y.a.t("tickets.tabs.search.title"),classes:{root:t.tab}}))),a.a.createElement(Qt.a,{square:!0,elevation:0,className:t.ticketOptionsBox},"search"===f?a.a.createElement("div",{className:t.serachInputWrapper},a.a.createElement(Mr.a,{className:t.searchIcon}),a.a.createElement(Ya.a,{className:t.searchInput,inputRef:k,placeholder:y.a.t("tickets.search.placeholder"),type:"search",onChange:function(t){var r=t.target.value.toLowerCase();if(clearTimeout(e),""===r)return c(r),void d("open");e=setTimeout((function(){c(r)}),500)}})):a.a.createElement(a.a.Fragment,null,a.a.createElement(St.a,{variant:"outlined",color:"primary",onClick:function(){return w(!0)}},y.a.t("ticketsManager.buttons.newTicket")),a.a.createElement(Ae,{role:N.profile,perform:"tickets-manager:showall",yes:function(){return a.a.createElement(vr.a,{label:y.a.t("tickets.buttons.showAll"),labelPlacement:"start",control:a.a.createElement(gr.a,{size:"small",checked:L,onChange:function(){return j((function(e){return!e}))},name:"showAllTickets",color:"primary"})})}})),a.a.createElement(vo,{style:{marginLeft:6},selectedQueueIds:z,userQueues:null===N||void 0===N?void 0:N.queues,onChange:function(e){return H(e)}})),a.a.createElement(mo,{value:f,name:"open",className:t.ticketsWrapper},a.a.createElement(Va.a,{value:m,onChange:function(e,t){v(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},a.a.createElement(Ka.a,{label:a.a.createElement(ue.a,{className:t.badge,badgeContent:C,color:"primary"},y.a.t("ticketsList.assignedHeader")),value:"open"}),a.a.createElement(Ka.a,{label:a.a.createElement(ue.a,{className:t.badge,badgeContent:M,color:"secondary"},y.a.t("ticketsList.pendingHeader")),value:"pending"})),a.a.createElement(Qt.a,{className:t.ticketsWrapper},a.a.createElement(ho,{status:"open",showAll:L,selectedQueueIds:z,updateCount:function(e){return A(e)},style:Q("open")}),a.a.createElement(ho,{status:"pending",selectedQueueIds:z,updateCount:function(e){return R(e)},style:Q("pending")}))),a.a.createElement(mo,{value:f,name:"closed",className:t.ticketsWrapper},a.a.createElement(ho,{status:"closed",showAll:!0,selectedQueueIds:z})),a.a.createElement(mo,{value:f,name:"search",className:t.ticketsWrapper},a.a.createElement(to,{onFiltered:function(e){var t=e.map((function(e){return e.id}));W(t)}}),a.a.createElement(ho,{searchParam:i,tags:D,showAll:!0,selectedQueueIds:z})))},bo=r(28);function Eo(){Eo=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function wo(e){var t=e.ticket,r=Object(n.useState)([]),o=Object(l.a)(r,2),i=o[0],c=o[1],s=Object(n.useState)([]),u=Object(l.a)(s,2),f=u[0],h=u[1];Object(n.useEffect)((function(){t&&function(){var e=Object(d.a)(Eo().mark((function e(){return Eo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:Array.isArray(t.tags)&&h(t.tags);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]);var p=function(){var e=Object(d.a)(Eo().mark((function e(t){var r,n;return Eo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.post("/tags",t);case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),L(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(Eo().mark((function e(){var t,r;return Eo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/tags/list");case 3:t=e.sent,r=t.data,c(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),L(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(Eo().mark((function e(t){var r,n;return Eo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.post("/tags/sync",t);case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),L(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(Eo().mark((function e(r,n){var a,o,i,c,l;return Eo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],"create-option"!==n){e.next=30;break}if(!Object(Xn.isArray)(r)){e.next=26;break}o=Object(bo.a)(r),e.prev=4,o.s();case 6:if((i=o.n()).done){e.next=18;break}if(c=i.value,!Object(Xn.isString)(c)){e.next=15;break}return e.next=11,p({name:c});case 11:l=e.sent,a.push(l),e.next=16;break;case 15:a.push(c);case 16:e.next=6;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),o.e(e.t0);case 23:return e.prev=23,o.f(),e.finish(23);case 26:return e.next=28,m();case 28:e.next=31;break;case 30:a=r;case 31:return h(a),e.next=34,v({ticketId:t.id,tags:a});case 34:case"end":return e.stop()}}),e,null,[[4,20,23,26]])})));return function(t,r){return e.apply(this,arguments)}}();return a.a.createElement(Qt.a,{style:{padding:12}},a.a.createElement(Kn.a,{multiple:!0,size:"small",options:i,value:f,freeSolo:!0,onChange:function(e,t,r){return g(t,r)},getOptionLabel:function(e){return e.name},renderTags:function(e,t){return e.map((function(e,r){return a.a.createElement(Ct.a,Object.assign({variant:"outlined",style:{backgroundColor:e.color||"#eee",textShadow:"1px 1px 1px #000",color:"white"},label:e.name},t({index:r}),{size:"small"}))}))},renderInput:function(e){return a.a.createElement(wt.a,Object.assign({},e,{variant:"outlined",placeholder:"Tags"}))},PaperComponent:function(e){var t=e.children;return a.a.createElement(Qt.a,{style:{width:400,marginLeft:12}},t)}}))}var xo=r(479),Oo=r.n(xo),Lo=function(e){var t=e.classes;return a.a.createElement("div",{className:t.content},a.a.createElement(Qt.a,{square:!0,variant:"outlined",className:t.contactHeader},a.a.createElement(hr.a,{animation:"wave",variant:"circle",width:160,height:160,className:t.contactAvatar}),a.a.createElement(hr.a,{animation:"wave",height:25,width:90}),a.a.createElement(hr.a,{animation:"wave",height:25,width:80}),a.a.createElement(hr.a,{animation:"wave",height:25,width:80})),a.a.createElement(Qt.a,{square:!0,className:t.contactDetails},a.a.createElement(z.a,{variant:"subtitle1"},y.a.t("contactDrawer.extraInfo")),a.a.createElement(Qt.a,{square:!0,variant:"outlined",className:t.contactExtraInfo},a.a.createElement(hr.a,{animation:"wave",height:20,width:60}),a.a.createElement(hr.a,{animation:"wave",height:20,width:160})),a.a.createElement(Qt.a,{square:!0,variant:"outlined",className:t.contactExtraInfo},a.a.createElement(hr.a,{animation:"wave",height:20,width:60}),a.a.createElement(hr.a,{animation:"wave",height:20,width:160})),a.a.createElement(Qt.a,{square:!0,variant:"outlined",className:t.contactExtraInfo},a.a.createElement(hr.a,{animation:"wave",height:20,width:60}),a.a.createElement(hr.a,{animation:"wave",height:20,width:160}))))},jo=Object(G.a)((function(e){return{drawer:{width:320,flexShrink:0},drawerPaper:{width:320,display:"flex",borderTop:"1px solid rgba(0, 0, 0, 0.12)",borderRight:"1px solid rgba(0, 0, 0, 0.12)",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",borderTopRightRadius:4,borderBottomRightRadius:4},header:{display:"flex",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",backgroundColor:"#eee",alignItems:"center",padding:e.spacing(0,1),minHeight:"73px",justifyContent:"flex-start"},content:Object(E.a)({display:"flex",backgroundColor:"#eee",flexDirection:"column",padding:"8px 0px 8px 8px",height:"100%",overflowY:"scroll"},e.scrollbarStyles),contactAvatar:{margin:15,width:160,height:160},contactHeader:{display:"flex",padding:8,flexDirection:"column",alignItems:"center",justifyContent:"center","& > *":{margin:4}},contactDetails:{marginTop:8,padding:8,display:"flex",flexDirection:"column"},contactExtraInfo:{marginTop:4,padding:6}}})),ko=function(e){var t,r=e.open,o=e.handleDrawerClose,i=e.contact,c=e.loading,s=jo(),u=Object(n.useState)(!1),f=Object(l.a)(u,2),d=f[0],h=f[1];return a.a.createElement(F.a,{className:s.drawer,variant:"persistent",anchor:"right",open:r,PaperProps:{style:{position:"absolute"}},BackdropProps:{style:{position:"absolute"}},ModalProps:{container:document.getElementById("drawer-container"),style:{position:"absolute"}},classes:{paper:s.drawerPaper}},a.a.createElement("div",{className:s.header},a.a.createElement(D.a,{onClick:o},a.a.createElement(Oo.a,null)),a.a.createElement(z.a,{style:{justifySelf:"center"}},y.a.t("contactDrawer.header"))),c?a.a.createElement(Lo,{classes:s}):a.a.createElement("div",{className:s.content},a.a.createElement(Qt.a,{square:!0,variant:"outlined",className:s.contactHeader},a.a.createElement(ze.a,{alt:i.name,src:i.profilePicUrl,className:s.contactAvatar}),a.a.createElement(z.a,null,i.name),a.a.createElement(z.a,null,a.a.createElement(ln.a,{href:"tel:".concat(i.number)},i.number)),a.a.createElement(St.a,{variant:"outlined",color:"primary",onClick:function(){return h(!0)}},y.a.t("contactDrawer.buttons.edit"))),a.a.createElement(Qt.a,{square:!0,variant:"outlined",className:s.contactDetails},a.a.createElement(Ur,{open:d,onClose:function(){return h(!1)},contactId:i.id}),a.a.createElement(z.a,{variant:"subtitle1"},y.a.t("contactDrawer.extraInfo")),null===i||void 0===i||null===(t=i.extraInfo)||void 0===t?void 0:t.map((function(e){return a.a.createElement(Qt.a,{key:e.id,square:!0,variant:"outlined",className:s.contactExtraInfo},a.a.createElement(Lt.a,null,e.name),a.a.createElement(z.a,{component:"div",noWrap:!0,style:{paddingTop:2}},a.a.createElement(ot,null,e.value)))})))))},So=(r(753),r(491)),No=r(480),To=r.n(No),_o=r(349),Co=r.n(_o),Ao=r(483),Io=r.n(Ao),Po=r(348),Mo=r.n(Po),Ro=r(347),Go=r.n(Ro),Fo=r(482),Do=r.n(Fo),Wo=r(481),qo=r.n(Wo),Bo=r(486),Uo=r.n(Bo),zo=r(485),Ho=r.n(zo),Qo=r(484),Yo=r.n(Qo),Vo=r(885),Ko=r(868),Jo=Object(G.a)((function(e){return{timerBox:{display:"flex",marginLeft:10,marginRight:10,alignItems:"center"}}})),Zo=function(){var e=Jo(),t=Object(n.useState)({minutes:0,seconds:0}),r=Object(l.a)(t,2),o=r[0],i=r[1];Object(n.useEffect)((function(){var e=setInterval((function(){return i((function(e){return 59===e.seconds?Object(E.a)(Object(E.a)({},e),{},{minutes:e.minutes+1,seconds:0}):Object(E.a)(Object(E.a)({},e),{},{seconds:e.seconds+1})}))}),1e3);return function(){clearInterval(e)}}),[]);var c=function(e){return e<10?"0"+e:e};return a.a.createElement("div",{className:e.timerBox},a.a.createElement("span",null,"".concat(c(o.minutes),":").concat(c(o.seconds))))},Xo=Object(n.createContext)(),$o=function(e){var t=e.children,r=Object(n.useState)(null),o=Object(l.a)(r,2),i=o[0],c=o[1];return a.a.createElement(Xo.Provider,{value:{replyingMessage:i,setReplyingMessage:c}},t)};function ei(){ei=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var ti=new To.a({bitRate:128}),ri=Object(G.a)((function(e){return{mainWrapper:Object(M.a)({background:"#eee",display:"flex",flexDirection:"column",alignItems:"center",borderTop:"1px solid rgba(0, 0, 0, 0.12)"},e.breakpoints.down("sm"),{position:"fixed",bottom:0,width:"100%"}),newMessageBox:{background:"#eee",width:"100%",display:"flex",padding:"7px",alignItems:"center"},messageInputWrapper:{padding:6,marginRight:7,background:"#fff",display:"flex",borderRadius:20,flex:1,position:"relative"},messageInput:{paddingLeft:10,flex:1,border:"none"},sendMessageIcons:{color:"grey"},uploadInput:{display:"none"},viewMediaInputWrapper:{display:"flex",padding:"10px 13px",position:"relative",justifyContent:"space-between",alignItems:"center",backgroundColor:"#eee",borderTop:"1px solid rgba(0, 0, 0, 0.12)"},emojiBox:{position:"absolute",bottom:63,width:40,borderTop:"1px solid #e8e8e8"},circleLoading:{color:Be.a[500],opacity:"70%",position:"absolute",top:"20%",left:"50%",marginLeft:-12},audioLoading:{color:Be.a[500],opacity:"70%"},recorderWrapper:{display:"flex",alignItems:"center",alignContent:"middle"},cancelAudioIcon:{color:"red"},sendAudioIcon:{color:"green"},replyginMsgWrapper:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",paddingTop:8,paddingLeft:73,paddingRight:7},replyginMsgContainer:{flex:1,marginRight:5,overflowY:"hidden",backgroundColor:"rgba(0, 0, 0, 0.05)",borderRadius:"7.5px",display:"flex",position:"relative"},replyginMsgBody:{padding:10,height:"auto",display:"block",whiteSpace:"pre-wrap",overflow:"hidden"},replyginContactMsgSideColor:{flex:"none",width:"4px",backgroundColor:"#35cd96"},replyginSelfMsgSideColor:{flex:"none",width:"4px",backgroundColor:"#6bcbef"},messageContactName:{display:"flex",color:"#6bcbef",fontWeight:500},messageQuickAnswersWrapper:{margin:0,position:"absolute",bottom:"50px",background:"#ffffff",padding:"2px",border:"1px solid #CCC",left:0,width:"100%","& li":{listStyle:"none","& a":{display:"block",padding:"8px",textOverflow:"ellipsis",overflow:"hidden",maxHeight:"32px","&:hover":{background:"#F1F1F1",cursor:"pointer"}}}}}})),ni=function(e){var t,r=e.ticketStatus,o=ri(),i=Object(u.h)().ticketId,c=Object(n.useState)([]),s=Object(l.a)(c,2),f=s[0],h=s[1],p=Object(n.useState)(""),m=Object(l.a)(p,2),v=m[0],g=m[1],b=Object(n.useState)(!1),E=Object(l.a)(b,2),w=E[0],x=E[1],j=Object(n.useState)(!1),k=Object(l.a)(j,2),N=k[0],T=k[1],_=Object(n.useState)(!1),C=Object(l.a)(_,2),A=C[0],I=C[1],P=Object(n.useState)([]),G=Object(l.a)(P,2),F=G[0],W=G[1],q=Object(n.useState)(!1),B=Object(l.a)(q,2),U=B[0],z=B[1],Y=Object(n.useRef)(),V=Object(n.useState)(null),K=Object(l.a)(V,2),J=K[0],Z=K[1],X=Object(n.useContext)(Xo),$=X.setReplyingMessage,ee=X.replyingMessage,te=Object(n.useContext)(S).user,re=function(e,t){var r=Object(n.useState)((function(){try{var r=localStorage.getItem(e);return r?JSON.parse(r):t}catch(n){return L(n),t}})),a=Object(l.a)(r,2),o=a[0],i=a[1];return[o,function(t){try{var r=t instanceof Function?t(o):t;i(r),localStorage.setItem(e,JSON.stringify(r))}catch(n){L(n)}}]}("signOption",!0),ne=Object(l.a)(re,2),ae=ne[0],oe=ne[1];Object(n.useEffect)((function(){Y.current.focus()}),[ee]),Object(n.useEffect)((function(){return Y.current.focus(),function(){g(""),x(!1),h([]),$(null)}}),[i,$]);var ie=function(e){if(e.target.files){var t=Array.from(e.target.files);h(t)}},ce=function(){var e=Object(d.a)(ei().mark((function e(t){var r;return ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),t.preventDefault(),(r=new FormData).append("fromMe",!0),f.forEach((function(e){r.append("medias",e),r.append("body",e.name)})),e.prev=5,e.next=8,O.post("/messages/".concat(i),r);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),L(e.t0);case 13:T(!1),h([]);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(d.a)(ei().mark((function e(){var t;return ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==v.trim()){e.next=2;break}return e.abrupt("return");case 2:return T(!0),t={read:1,fromMe:!0,mediaUrl:"",body:ae?"*".concat(null===te||void 0===te?void 0:te.name,":*\n").concat(v.trim()):v.trim(),quotedMsg:ee},e.prev=4,e.next=7,O.post("/messages/".concat(i),t);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),L(e.t0);case 12:g(""),x(!1),T(!1),$(null);case 16:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(d.a)(ei().mark((function e(){return ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.prev=1,e.next=4,navigator.mediaDevices.getUserMedia({audio:!0});case 4:return e.next=6,ti.start();case 6:I(!0),T(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),L(e.t0),T(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(d.a)(ei().mark((function e(t){var r,n;return ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||0!==t.indexOf("/")){e.next=15;break}return e.prev=1,e.next=4,O.get("/quickAnswers/",{params:{searchParam:v.substring(1)}});case 4:r=e.sent,n=r.data,W(n.quickAnswers),n.quickAnswers.length>0?z(!0):z(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),z(!1);case 13:e.next=16;break;case 15:z(!1);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(d.a)(ei().mark((function e(){var t,r,n,a,o;return ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.prev=1,e.next=4,ti.stop().getMp3();case 4:if(t=e.sent,r=Object(l.a)(t,2),!((n=r[1]).size<1e4)){e.next=11;break}return T(!1),I(!1),e.abrupt("return");case 11:return a=new FormData,o="audio-record-site-".concat((new Date).getTime(),".mp3"),a.append("medias",n,o),a.append("body",o),a.append("fromMe",!0),e.next=18,O.post("/messages/".concat(i),a);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),L(e.t0);case 23:I(!1),T(!1);case 25:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(d.a)(ei().mark((function e(){return ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ti.stop().getMp3();case 3:I(!1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),L(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),he=function(e){Z(null)};return f.length>0?a.a.createElement(Qt.a,{elevation:0,square:!0,className:o.viewMediaInputWrapper},a.a.createElement(D.a,{"aria-label":"cancel-upload",component:"span",onClick:function(e){return h([])}},a.a.createElement(Do.a,{className:o.sendMessageIcons})),N?a.a.createElement("div",null,a.a.createElement(Nt.a,{className:o.circleLoading})):a.a.createElement("span",null,null===(t=f[0])||void 0===t?void 0:t.name),a.a.createElement(D.a,{"aria-label":"send-upload",component:"span",onClick:ce,disabled:N},a.a.createElement(Go.a,{className:o.sendMessageIcons}))):a.a.createElement(Qt.a,{square:!0,elevation:0,className:o.mainWrapper},ee&&function(e){var t;return a.a.createElement("div",{className:o.replyginMsgWrapper},a.a.createElement("div",{className:o.replyginMsgContainer},a.a.createElement("span",{className:Object(R.a)(o.replyginContactMsgSideColor,Object(M.a)({},o.replyginSelfMsgSideColor,!e.fromMe))}),a.a.createElement("div",{className:o.replyginMsgBody},!e.fromMe&&a.a.createElement("span",{className:o.messageContactName},null===(t=e.contact)||void 0===t?void 0:t.name),e.body)),a.a.createElement(D.a,{"aria-label":"showRecorder",component:"span",disabled:N||"open"!==r,onClick:function(){return $(null)}},a.a.createElement(qo.a,{className:o.sendMessageIcons})))}(ee),a.a.createElement("div",{className:o.newMessageBox},a.a.createElement(Vo.a,{only:["sm","xs"]},a.a.createElement(D.a,{"aria-label":"emojiPicker",component:"span",disabled:N||A||"open"!==r,onClick:function(e){return x((function(e){return!e}))}},a.a.createElement(Mo.a,{className:o.sendMessageIcons})),w?a.a.createElement("div",{className:o.emojiBox},a.a.createElement(Ko.a,{onClickAway:function(e){return x(!1)}},a.a.createElement(So.a,{perLine:16,showPreview:!1,showSkinTones:!1,onSelect:function(e){var t=e.native;g((function(e){return e+t}))}}))):null,a.a.createElement("input",{multiple:!0,type:"file",id:"upload-button",disabled:N||A||"open"!==r,className:o.uploadInput,onChange:ie}),a.a.createElement("label",{htmlFor:"upload-button"},a.a.createElement(D.a,{"aria-label":"upload",component:"span",disabled:N||A||"open"!==r},a.a.createElement(Co.a,{className:o.sendMessageIcons}))),a.a.createElement(vr.a,{style:{marginRight:7,color:"gray"},label:y.a.t("messagesInput.signMessage"),labelPlacement:"start",control:a.a.createElement(gr.a,{size:"small",checked:ae,onChange:function(e){oe(e.target.checked)},name:"showAllTickets",color:"primary"})})),a.a.createElement(Vo.a,{only:["md","lg","xl"]},a.a.createElement(D.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){Z(e.currentTarget)}},a.a.createElement(Io.a,null)),a.a.createElement(H.a,{id:"simple-menu",keepMounted:!0,anchorEl:J,open:Boolean(J),onClose:he},a.a.createElement(Q.a,{onClick:he},a.a.createElement(D.a,{"aria-label":"emojiPicker",component:"span",disabled:N||A||"open"!==r,onClick:function(e){return x((function(e){return!e}))}},a.a.createElement(Mo.a,{className:o.sendMessageIcons}))),a.a.createElement(Q.a,{onClick:he},a.a.createElement("input",{multiple:!0,type:"file",id:"upload-button",disabled:N||A||"open"!==r,className:o.uploadInput,onChange:ie}),a.a.createElement("label",{htmlFor:"upload-button"},a.a.createElement(D.a,{"aria-label":"upload",component:"span",disabled:N||A||"open"!==r},a.a.createElement(Co.a,{className:o.sendMessageIcons})))),a.a.createElement(Q.a,{onClick:he},a.a.createElement(vr.a,{style:{marginRight:7,color:"gray"},label:y.a.t("messagesInput.signMessage"),labelPlacement:"start",control:a.a.createElement(gr.a,{size:"small",checked:ae,onChange:function(e){oe(e.target.checked)},name:"showAllTickets",color:"primary"})})))),a.a.createElement("div",{className:o.messageInputWrapper},a.a.createElement(Ya.a,{inputRef:function(e){e&&e.focus(),e&&(Y.current=e)},className:o.messageInput,placeholder:"open"===r?y.a.t("messagesInput.placeholderOpen"):y.a.t("messagesInput.placeholderClosed"),multiline:!0,maxRows:5,value:v,onChange:function(e){g(e.target.value),ue(e.target.value)},disabled:A||N||"open"!==r,onPaste:function(e){"open"===r&&function(e){e.clipboardData.files[0]&&h([e.clipboardData.files[0]])}(e)},onKeyPress:function(e){N||e.shiftKey||"Enter"===e.key&&le()}}),U?a.a.createElement("ul",{className:o.messageQuickAnswersWrapper},F.map((function(e,t){return a.a.createElement("li",{className:o.messageQuickAnswersWrapperItem,key:t},a.a.createElement("a",{onClick:function(){return function(e){g(e),z(!1)}(e.message)}},"".concat(e.shortcut," - ").concat(e.message)))}))):a.a.createElement("div",null)),v?a.a.createElement(D.a,{"aria-label":"sendMessage",component:"span",onClick:le,disabled:N},a.a.createElement(Go.a,{className:o.sendMessageIcons})):A?a.a.createElement("div",{className:o.recorderWrapper},a.a.createElement(D.a,{"aria-label":"cancelRecording",component:"span",fontSize:"large",disabled:N,onClick:de},a.a.createElement(Yo.a,{className:o.cancelAudioIcon})),N?a.a.createElement("div",null,a.a.createElement(Nt.a,{className:o.audioLoading})):a.a.createElement(Zo,null),a.a.createElement(D.a,{"aria-label":"sendRecordedAudio",component:"span",onClick:fe,disabled:N},a.a.createElement(Ho.a,{className:o.sendAudioIcon}))):a.a.createElement(D.a,{"aria-label":"showRecorder",component:"span",disabled:N||"open"!==r,onClick:se},a.a.createElement(Uo.a,{className:o.sendMessageIcons}))))},ai=r(869),oi=r(870),ii=Object(G.a)((function(e){return{ticketHeader:{display:"flex",backgroundColor:"#eee",flex:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)"}}})),ci=function(){var e=ii();return a.a.createElement(ai.a,{square:!0,className:e.ticketHeader},a.a.createElement(oi.a,{titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:a.a.createElement(hr.a,{animation:"wave",variant:"circle"},a.a.createElement(ze.a,{alt:"contact_image"})),title:a.a.createElement(hr.a,{animation:"wave",width:80}),subheader:a.a.createElement(hr.a,{animation:"wave",width:140})}))},li=r(487),si=r.n(li),ui=Object(G.a)((function(e){return{ticketHeader:Object(M.a)({display:"flex",backgroundColor:"#eee",flex:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},e.breakpoints.down("sm"),{flexWrap:"wrap"})}})),fi=function(e){var t=e.loading,r=e.children,n=ui(),o=Object(u.g)();return a.a.createElement(a.a.Fragment,null,t?a.a.createElement(ci,null):a.a.createElement(ai.a,{square:!0,className:n.ticketHeader},a.a.createElement(St.a,{color:"primary",onClick:function(){o.push("/tickets")}},a.a.createElement(si.a,null)),r))},di=function(e){var t=e.contact,r=e.ticket,n=e.onClick;return a.a.createElement(oi.a,{onClick:n,style:{cursor:"pointer"},titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:a.a.createElement(ze.a,{src:t.profilePicUrl,alt:"contact_image"}),title:"".concat(t.name," #").concat(r.id),subheader:r.user&&"".concat(y.a.t("messagesList.header.assignedTo")," ").concat(r.user.name," ").concat(r.queue?" | Setor: "+r.queue.name:" | Setor: Nenhum")})},hi=r(871),pi=r(872);function mi(){mi=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var vi=function(){return{findAll:function(){var e=Object(d.a)(mi().mark((function e(){var t,r;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("/queue");case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}};function gi(){gi=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var yi=Object(G.a)((function(e){return{maxWidth:{width:"100%"}}})),bi=Object(ro.a)({trim:!0}),Ei=function(e){var t=e.modalOpen,r=e.onClose,o=e.ticketid,i=e.ticketWhatsappId,c=Object(u.g)(),s=Object(n.useState)([]),f=Object(l.a)(s,2),h=f[0],p=f[1],m=Object(n.useState)([]),v=Object(l.a)(m,2),g=v[0],b=v[1],w=Object(n.useState)([]),x=Object(l.a)(w,2),j=x[0],k=x[1],N=Object(n.useState)(!1),T=Object(l.a)(N,2),_=T[0],C=T[1],I=Object(n.useState)(""),P=Object(l.a)(I,2),M=P[0],R=P[1],G=Object(n.useState)(null),F=Object(l.a)(G,2),D=F[0],W=F[1],q=Object(n.useState)(""),B=Object(l.a)(q,2),U=B[0],z=B[1],H=Object(n.useState)(i),Y=Object(l.a)(H,2),V=Y[0],K=Y[1],J=yi(),Z=vi().findAll,X=A(),$=X.loadingWhatsapps,ee=X.whatsApps,te=Object(n.useContext)(S).user;Object(n.useEffect)((function(){(function(){var e=Object(d.a)(gi().mark((function e(){var t;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:t=e.sent,k(t),b(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){if(t&&!(M.length<3)){C(!0);var e=setTimeout((function(){(function(){var e=Object(d.a)(gi().mark((function e(){var t,r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/users/",{params:{searchParam:M}});case 3:t=e.sent,r=t.data,p(r.users),C(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),C(!1),L(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}C(!1)}),[M,t]);var re=function(){r(),R(""),W(null)},ne=function(){var e=Object(d.a)(gi().mark((function e(t){var r;return gi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),o){e.next=3;break}return e.abrupt("return");case 3:return C(!0),e.prev=4,r={},D&&(r.userId=D.id),U&&null!==U&&(r.queueId=U,D||(r.status="pending",r.userId=null)),V&&(r.whatsappId=V),e.next=11,O.put("/tickets/".concat(o),r);case 11:C(!1),c.push("/tickets"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),C(!1),L(e.t0);case 19:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(yt.a,{open:t,onClose:re,maxWidth:"lg",scroll:"paper"},a.a.createElement("form",{onSubmit:ne},a.a.createElement(bt.a,{id:"form-dialog-title"},y.a.t("transferTicketModal.title")),a.a.createElement(Et.a,{dividers:!0},a.a.createElement("setSelectedUser",{style:{width:300,marginBottom:20},getOptionLabel:function(e){return"".concat(e.name)},onChange:function(e,t){W(t),null!=t&&Array.isArray(t.queues)?b(t.queues):(b(j),z(""))},options:h,filterOptions:bi,freeSolo:!0,autoHighlight:!0,noOptionsText:y.a.t("transferTicketModal.noOptions"),loading:_,renderInput:function(e){return a.a.createElement(wt.a,Object.assign({},e,{label:y.a.t("transferTicketModal.fieldLabel"),variant:"outlined",required:!0,autoFocus:!0,onChange:function(e){return R(e.target.value)},InputProps:Object(E.a)(Object(E.a)({},e.InputProps),{},{endAdornment:a.a.createElement(a.a.Fragment,null,_?a.a.createElement(Nt.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}}),a.a.createElement(Ot.a,{variant:"outlined",className:J.maxWidth},a.a.createElement(Lt.a,null,y.a.t("transferTicketModal.fieldQueueLabel")),a.a.createElement(jt.a,{value:U,onChange:function(e){return z(e.target.value)},label:y.a.t("transferTicketModal.fieldQueuePlaceholder")},a.a.createElement(Q.a,{value:""},"\xa0"),g.map((function(e){return a.a.createElement(Q.a,{key:e.id,value:e.id},e.name)})))),a.a.createElement(Ae,{role:te.profile,perform:"ticket-options:transferWhatsapp",yes:function(){return!$&&a.a.createElement(Ot.a,{variant:"outlined",className:J.maxWidth,style:{marginTop:20}},a.a.createElement(Lt.a,null,y.a.t("transferTicketModal.fieldConnectionLabel")),a.a.createElement(jt.a,{value:V,onChange:function(e){return K(e.target.value)},label:y.a.t("transferTicketModal.fieldConnectionPlaceholder")},ee.map((function(e){return a.a.createElement(Q.a,{key:e.id,value:e.id},e.name)}))))}})),a.a.createElement(kt.a,null,a.a.createElement(St.a,{onClick:re,color:"secondary",disabled:_,variant:"outlined"},y.a.t("transferTicketModal.buttons.cancel")),a.a.createElement(oo,{variant:"contained",type:"submit",color:"primary",loading:_},y.a.t("transferTicketModal.buttons.ok")))))};function wi(){wi=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var xi=function(e){var t=e.ticket,r=e.menuOpen,o=e.handleClose,i=e.anchorEl,c=Object(n.useState)(!1),s=Object(l.a)(c,2),u=s[0],f=s[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],v=p[1],g=Object(n.useRef)(!0),b=Object(n.useContext)(S).user;Object(n.useEffect)((function(){return function(){g.current=!1}}),[]);var E=function(){var e=Object(d.a)(wi().mark((function e(){return wi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.delete("/tickets/".concat(t.id));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),L(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),w=function(e){f(!0),o()};return a.a.createElement(a.a.Fragment,null,a.a.createElement(H.a,{id:"menu-appbar",anchorEl:i,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:r,onClose:o},a.a.createElement(Q.a,{onClick:function(e){v(!0),o()}},y.a.t("ticketOptionsMenu.transfer")),a.a.createElement(Ae,{role:b.profile,perform:"ticket-options:deleteTicket",yes:function(){return a.a.createElement(Q.a,{onClick:w},y.a.t("ticketOptionsMenu.delete"))}})),a.a.createElement(jr,{title:"".concat(y.a.t("ticketOptionsMenu.confirmationModal.title")).concat(t.id," ").concat(y.a.t("ticketOptionsMenu.confirmationModal.titleFrom")," ").concat(t.contact.name,"?"),open:u,onClose:f,onConfirm:E},y.a.t("ticketOptionsMenu.confirmationModal.message")),a.a.createElement(Ei,{modalOpen:m,onClose:function(){g.current&&v(!1)},ticketid:t.id,ticketWhatsappId:t.whatsappId}))};function Oi(){Oi=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Li=Object(G.a)((function(e){return{actionButtons:{marginRight:6,flex:"none",alignSelf:"center",marginLeft:"auto","& > *":{margin:e.spacing(1)}}}})),ji=function(e){var t=e.ticket,r=Li(),o=Object(u.g)(),i=Object(n.useState)(null),c=Object(l.a)(i,2),s=c[0],f=c[1],h=Object(n.useState)(!1),p=Object(l.a)(h,2),m=p[0],v=p[1],g=Boolean(s),b=Object(n.useContext)(S).user,E=function(){var e=Object(d.a)(Oi().mark((function e(r,n,a){return Oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,O.put("/tickets/".concat(t.id),{status:n,userId:a||null});case 4:v(!1),"open"===n?o.push("/tickets/".concat(t.id)):o.push("/tickets"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),v(!1),L(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r,n){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:r.actionButtons},"closed"===t.status&&a.a.createElement(oo,{loading:m,startIcon:a.a.createElement(hi.a,null),size:"small",onClick:function(e){return E(e,"open",null===b||void 0===b?void 0:b.id)}},y.a.t("messagesList.header.buttons.reopen")),"open"===t.status&&a.a.createElement(a.a.Fragment,null,a.a.createElement(oo,{loading:m,startIcon:a.a.createElement(hi.a,null),size:"small",onClick:function(e){return E(e,"pending",null)}},y.a.t("messagesList.header.buttons.return")),a.a.createElement(oo,{loading:m,size:"small",variant:"contained",color:"primary",onClick:function(e){return E(e,"closed",null===b||void 0===b?void 0:b.id)}},y.a.t("messagesList.header.buttons.resolve")),a.a.createElement(D.a,{onClick:function(e){f(e.currentTarget)}},a.a.createElement(pi.a,null)),a.a.createElement(xi,{ticket:t,anchorEl:s,menuOpen:g,handleClose:function(e){f(null)}})),"pending"===t.status&&a.a.createElement(oo,{loading:m,size:"small",variant:"contained",color:"primary",onClick:function(e){return E(e,"open",null===b||void 0===b?void 0:b.id)}},y.a.t("messagesList.header.buttons.accept")))},ki=r(294),Si=r(873),Ni=r(874),Ti=r(875),_i=r(876),Ci=r(877),Ai=r(878);function Ii(){Ii=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Pi=function(e){var t=e.contact,r=e.numbers,o=Object(u.g)(),i=Object(n.useContext)(S).user,c=Object(n.useState)({name:"",number:0,profilePicUrl:""}),s=Object(l.a)(c,2),f=s[0],h=s[1];Object(n.useEffect)((function(){var e=setTimeout((function(){(function(){var e=Object(d.a)(Ii().mark((function e(){var n,a,o;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={name:t,number:r.replace(/\D/g,""),email:""},e.next=4,O.post("/contact",n);case 4:a=e.sent,o=a.data,h(o),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),L(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}),[t,r]);var p=function(){var e=Object(d.a)(Ii().mark((function e(){var t,r;return Ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.post("/tickets",{contactId:f.id,userId:i.id,status:"open"});case 3:t=e.sent,r=t.data,o.push("/tickets/".concat(r.id)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),L(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{minWidth:"250px"}},a.a.createElement(yr.a,{container:!0,spacing:1},a.a.createElement(yr.a,{item:!0,xs:2},a.a.createElement(ze.a,{src:f.profilePicUrl})),a.a.createElement(yr.a,{item:!0,xs:9},a.a.createElement(z.a,{style:{marginTop:"12px",marginLeft:"10px"},variant:"subtitle1",color:"primary",gutterBottom:!0},f.name)),a.a.createElement(yr.a,{item:!0,xs:12},a.a.createElement(W.a,null),a.a.createElement(St.a,{fullWidth:!0,color:"primary",onClick:p,disabled:!f.number},"Conversar")))))};function Mi(){Mi=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Ri=function(e){var t=e.image,r=e.link,o=e.description;Object(n.useEffect)((function(){}),[t,r,o]);var i=function(){var e=Object(d.a)(Mi().mark((function e(){return Mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{window.open(r)}catch(t){L(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{minWidth:"250px"}},a.a.createElement("div",null,a.a.createElement("div",{style:{float:"left"}},a.a.createElement("img",{src:t,alt:"loc",onClick:i,style:{width:"100px"}})),o&&a.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},a.a.createElement(z.a,{style:{marginTop:"12px",marginLeft:"15px",marginRight:"15px",float:"left"},variant:"subtitle1",color:"primary",gutterBottom:!0},a.a.createElement("div",{dangerouslySetInnerHTML:{__html:o.replace("\\n","<br />")}}))),a.a.createElement("div",{style:{display:"block",content:"",clear:"both"}}),a.a.createElement("div",null,a.a.createElement(W.a,null),a.a.createElement(St.a,{fullWidth:!0,color:"primary",onClick:i,disabled:!r},"Visualizar")))))},Gi=r(494);function Fi(){Fi=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Di=Object(G.a)((function(e){return{messageMedia:{objectFit:"cover",width:250,height:200,borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8}}})),Wi=function(e){var t=e.imageUrl,r=Di(),o=Object(n.useState)(!0),i=Object(l.a)(o,2),c=i[0],s=i[1],u=Object(n.useState)(""),f=Object(l.a)(u,2),h=f[0],p=f[1];return Object(n.useEffect)((function(){t&&function(){var e=Object(d.a)(Fi().mark((function e(){var r,n,a,o;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get(t,{responseType:"blob"});case 2:r=e.sent,n=r.data,a=r.headers,o=window.URL.createObjectURL(new Blob([n],{type:a["content-type"]})),p(o),s(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),a.a.createElement(Gi.a,{className:r.messageMedia,smallSrcSet:c?t:h,medium:c?t:h,large:c?t:h,showRotate:"true",alt:"image"})};function qi(){qi=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Bi=function(e){var t=e.message,r=e.menuOpen,o=e.handleClose,i=e.anchorEl,c=Object(n.useContext)(Xo).setReplyingMessage,s=Object(n.useState)(!1),u=Object(l.a)(s,2),f=u[0],h=u[1],p=function(){var e=Object(d.a)(qi().mark((function e(){return qi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.delete("/messages/".concat(t.id));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),L(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(jr,{title:y.a.t("messageOptionsMenu.confirmationModal.title"),open:f,onClose:h,onConfirm:p},y.a.t("messageOptionsMenu.confirmationModal.message")),a.a.createElement(H.a,{anchorEl:i,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:r,onClose:o},t.fromMe&&a.a.createElement(Q.a,{onClick:function(e){h(!0),o()}},y.a.t("messageOptionsMenu.delete")),a.a.createElement(Q.a,{onClick:function(){c(t),o()}},y.a.t("messageOptionsMenu.reply"))))},Ui=r(488),zi=r.n(Ui);function Hi(){Hi=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Qi=Object(G.a)((function(e){return{messagesListWrapper:{overflow:"hidden",position:"relative",display:"flex",flexDirection:"column",flexGrow:1},messageCenter:{marginTop:5,alignItems:"center",verticalAlign:"center",alignContent:"center",backgroundColor:"#E1F5FEEB",fontSize:"12px",minWidth:100,maxWidth:270,color:"#272727",borderTopLeftRadius:0,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"0 1px 1px #b3b3b3"},messagesList:Object(E.a)(Object(M.a)({backgroundImage:"url(".concat(zi.a,")"),display:"flex",flexDirection:"column",flexGrow:1,padding:"20px 20px 20px 20px",overflowY:"scroll"},e.breakpoints.down("sm"),{paddingBottom:"90px"}),e.scrollbarStyles),circleLoading:{color:ki.a[500],position:"absolute",opacity:"70%",top:0,left:"50%",marginTop:12},messageLeft:{marginRight:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"#ffffff",color:"#303030",alignSelf:"flex-start",borderTopLeftRadius:0,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"0 1px 1px #b3b3b3"},quotedContainerLeft:{margin:"-3px -80px 6px -6px",overflow:"hidden",backgroundColor:"#f0f0f0",borderRadius:"7.5px",display:"flex",position:"relative"},quotedMsg:{padding:10,maxWidth:300,height:"auto",display:"block",whiteSpace:"pre-wrap",overflow:"hidden"},quotedSideColorLeft:{flex:"none",width:"4px",backgroundColor:"#6bcbef"},messageRight:{marginLeft:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"#dcf8c6",color:"#303030",alignSelf:"flex-end",borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:0,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"0 1px 1px #b3b3b3"},quotedContainerRight:{margin:"-3px -80px 6px -6px",overflowY:"hidden",backgroundColor:"#cfe9ba",borderRadius:"7.5px",display:"flex",position:"relative"},quotedMsgRight:{padding:10,maxWidth:300,height:"auto",whiteSpace:"pre-wrap"},quotedSideColorRight:{flex:"none",width:"4px",backgroundColor:"#35cd96"},messageActionsButton:{display:"none",position:"relative",color:"#999",zIndex:1,backgroundColor:"inherit",opacity:"90%","&:hover, &.Mui-focusVisible":{backgroundColor:"inherit"}},messageContactName:{display:"flex",color:"#6bcbef",fontWeight:500},textContentItem:{overflowWrap:"break-word",padding:"3px 80px 6px 6px"},textContentItemDeleted:{fontStyle:"italic",color:"rgba(0, 0, 0, 0.36)",overflowWrap:"break-word",padding:"3px 80px 6px 6px"},messageMedia:{objectFit:"cover",width:250,height:200,borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8},timestamp:{fontSize:11,position:"absolute",bottom:0,right:5,color:"#999"},dailyTimestamp:{alignItems:"center",textAlign:"center",alignSelf:"center",width:"110px",backgroundColor:"#e1f3fb",margin:"10px",borderRadius:"10px",boxShadow:"0 1px 1px #b3b3b3"},dailyTimestampText:{color:"#808888",padding:8,alignSelf:"center",marginLeft:"0px"},ackIcons:{fontSize:18,verticalAlign:"middle",marginLeft:4},deletedIcon:{fontSize:18,verticalAlign:"middle",marginRight:4},ackDoneAllIcon:{color:ki.a[500],fontSize:18,verticalAlign:"middle",marginLeft:4},downloadMedia:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"inherit",padding:10}}})),Yi=function(e,t){if("LOAD_MESSAGES"===t.type){var r=t.payload,n=[];return r.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?e[r]=t:n.push(t)})),[].concat(n,Object(T.a)(e))}if("ADD_MESSAGE"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?e[o]=a:e.push(a),Object(T.a)(e)}if("UPDATE_MESSAGE"===t.type){var i=t.payload,c=e.findIndex((function(e){return e.id===i.id}));return-1!==c&&(e[c]=i),Object(T.a)(e)}if("RESET"===t.type)return[]},Vi=function(e){var t=e.ticketId,r=e.isGroup,o=Qi(),i=Object(n.useReducer)(Yi,[]),c=Object(l.a)(i,2),s=c[0],u=c[1],f=Object(n.useState)(1),h=Object(l.a)(f,2),m=h[0],v=h[1],g=Object(n.useState)(!1),y=Object(l.a)(g,2),b=y[0],E=y[1],w=Object(n.useState)(!1),x=Object(l.a)(w,2),j=x[0],k=x[1],S=Object(n.useRef)(),N=Object(n.useState)({}),T=Object(l.a)(N,2),_=T[0],C=T[1],A=Object(n.useState)(null),I=Object(l.a)(A,2),P=I[0],G=I[1],F=Boolean(P),q=Object(n.useRef)(t);Object(n.useEffect)((function(){u({type:"RESET"}),v(1),q.current=t}),[t]),Object(n.useEffect)((function(){k(!0);var e=setTimeout((function(){(function(){var e=Object(d.a)(Hi().mark((function e(){var r,n;return Hi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/messages/"+t,{params:{pageNumber:m}});case 3:r=e.sent,n=r.data,q.current===t&&(u({type:"LOAD_MESSAGES",payload:n.messages}),E(n.hasMore),k(!1)),1===m&&n.messages.length>1&&B(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),k(!1),L(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){clearTimeout(e)}}),[m,t]),Object(n.useEffect)((function(){var e=p()("".concat("https://sacapi.meupost.com/"),{transports:["websocket"]});return e.on("connect",(function(){return e.emit("joinChatBox",t)})),e.on("appMessage",(function(e){"create"===e.action&&(u({type:"ADD_MESSAGE",payload:e.message}),B()),"update"===e.action&&u({type:"UPDATE_MESSAGE",payload:e.message})})),function(){e.disconnect()}}),[t]);var B=function(){S.current&&S.current.scrollIntoView({})},U=function(e,t){G(e.currentTarget),C(t)},z=function(e){if(!("locationMessage"===e.mediaType&&e.body.split("|").length>=2)){if("contactMessage"===e.mediaType){for(var t=e.body.split("\n"),r=[],n="",i=0;i<t.length;i++)for(var c=t[i].split(":"),l=0;l<c.length;l++)-1!==c[l].indexOf("+")&&r.push({number:c[l]}),-1!==c[l].indexOf("FN")&&(n=c[l+1]);return a.a.createElement(Pi,{contact:n,numbers:r[0].number})}return"image"===e.mediaType?a.a.createElement(Wi,{imageUrl:e.mediaUrl}):"audio"===e.mediaType?a.a.createElement("audio",{controls:!0},a.a.createElement("source",{src:e.mediaUrl,type:"audio/ogg"})):"video"===e.mediaType?a.a.createElement("video",{className:o.messageMedia,src:e.mediaUrl,controls:!0}):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:o.downloadMedia},a.a.createElement(St.a,{startIcon:a.a.createElement(Si.a,null),color:"primary",variant:"outlined",target:"_blank",href:e.mediaUrl},"Download")),a.a.createElement(W.a,null))}try{var s,u=e.body.split("|"),f=u[0],d=u[1],h=null;if(u.length>2)h=null===e||void 0===e||null===(s=e.body)||void 0===s?void 0:s.split("|")[2];return a.a.createElement(Ri,{image:f,link:d,description:h})}catch(p){console.log("checkMessageMedia ~ err",p)}},H=function(e,t){if(0===t)return a.a.createElement("span",{className:o.dailyTimestamp,key:"timestamp-".concat(e.id)},a.a.createElement("div",{className:o.dailyTimestampText},Object(Me.a)(Object(qe.a)(s[t].createdAt),"dd/MM/yyyy")));if(t<s.length-1){var r=Object(qe.a)(s[t].createdAt),n=Object(qe.a)(s[t-1].createdAt);if(!Object(We.a)(r,n))return a.a.createElement("span",{className:o.dailyTimestamp,key:"timestamp-".concat(e.id)},a.a.createElement("div",{className:o.dailyTimestampText},Object(Me.a)(Object(qe.a)(s[t].createdAt),"dd/MM/yyyy")))}return t===s.length-1?a.a.createElement("div",{key:"ref-".concat(e.createdAt),ref:S,style:{float:"left",clear:"both"}}):void 0},Q=function(e,t){if(t<s.length&&t>0&&s[t].fromMe!==s[t-1].fromMe)return a.a.createElement("span",{style:{marginTop:16},key:"divider-".concat(e.id)})},Y=function(e,t){if(t<s.length&&t>0){var r=e.ticketId;if(r!==s[t-1].ticketId)return a.a.createElement("div",{key:"ticket-".concat(e.id),className:o.ticketNunber},"#ticket: ",r,a.a.createElement("hr",null))}},V=function(e){var t,r,n,i,c;return a.a.createElement("div",{className:Object(R.a)(o.quotedContainerLeft,Object(M.a)({},o.quotedContainerRight,e.fromMe))},a.a.createElement("span",{className:Object(R.a)(o.quotedSideColorLeft,Object(M.a)({},o.quotedSideColorRight,null===(t=e.quotedMsg)||void 0===t?void 0:t.fromMe))}),a.a.createElement("div",{className:o.quotedMsg},!(null===(r=e.quotedMsg)||void 0===r?void 0:r.fromMe)&&a.a.createElement("span",{className:o.messageContactName},null===(n=e.quotedMsg)||void 0===n||null===(i=n.contact)||void 0===i?void 0:i.name),null===(c=e.quotedMsg)||void 0===c?void 0:c.body))};return a.a.createElement("div",{className:o.messagesListWrapper},a.a.createElement(Bi,{message:_,anchorEl:P,menuOpen:F,handleClose:function(e){G(null)}}),a.a.createElement("div",{id:"messagesList",className:o.messagesList,onScroll:function(e){if(b){var t=e.currentTarget.scrollTop;0===t&&(document.getElementById("messagesList").scrollTop=1),j||t<50&&v((function(e){return e+1}))}}},s.length>0?s.length>0?s.map((function(e,t){var n,i;return"call_log"===e.mediaType?a.a.createElement(a.a.Fragment,{key:e.id},H(e,t),Q(e,t),Y(e,t),a.a.createElement("div",{className:o.messageCenter},a.a.createElement(D.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:o.messageActionsButton,onClick:function(t){return U(t,e)}},a.a.createElement(Ci.a,null)),r&&a.a.createElement("span",{className:o.messageContactName},null===(n=e.contact)||void 0===n?void 0:n.name),a.a.createElement("div",null,a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 17",width:"20",height:"17"},a.a.createElement("path",{fill:"#df3333",d:"M18.2 12.1c-1.5-1.8-5-2.7-8.2-2.7s-6.7 1-8.2 2.7c-.7.8-.3 2.3.2 2.8.2.2.3.3.5.3 1.4 0 3.6-.7 3.6-.7.5-.2.8-.5.8-1v-1.3c.7-1.2 5.4-1.2 6.4-.1l.1.1v1.3c0 .2.1.4.2.6.1.2.3.3.5.4 0 0 2.2.7 3.6.7.2 0 1.4-2 .5-3.1zM5.4 3.2l4.7 4.6 5.8-5.7-.9-.8L10.1 6 6.4 2.3h2.5V1H4.1v4.8h1.3V3.2z"}))," ",a.a.createElement("span",null,"Chamada de voz/v\xeddeo perdida \xe0s ",Object(Me.a)(Object(qe.a)(e.createdAt),"HH:mm"))))):e.fromMe?a.a.createElement(a.a.Fragment,{key:e.id},H(e,t),Q(e,t),Y(e,t),a.a.createElement("div",{className:o.messageRight},a.a.createElement(D.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:o.messageActionsButton,onClick:function(t){return U(t,e)}},a.a.createElement(Ci.a,null)),(e.mediaUrl||"contactMessage"===e.mediaType||"locationMessage"===e.mediaType)&&z(e),a.a.createElement("div",{className:Object(R.a)(o.textContentItem,Object(M.a)({},o.textContentItemDeleted,e.isDeleted))},e.isDeleted&&a.a.createElement(Ai.a,{color:"disabled",fontSize:"small",className:o.deletedIcon}),e.quotedMsg&&V(e),a.a.createElement(ot,null,e.body),a.a.createElement("span",{className:o.timestamp},Object(Me.a)(Object(qe.a)(e.createdAt),"HH:mm"),function(e){return 0===e.ack?a.a.createElement(Ni.a,{fontSize:"small",className:o.ackIcons}):1===e.ack||2===e.ack?a.a.createElement(Ti.a,{fontSize:"small",className:o.ackIcons}):3===e.ack?a.a.createElement(_i.a,{fontSize:"small",className:o.ackIcons}):4===e.ack||5===e.ack?a.a.createElement(_i.a,{fontSize:"small",className:o.ackDoneAllIcon}):void 0}(e))))):a.a.createElement(a.a.Fragment,{key:e.id},H(e,t),Q(e,t),Y(e,t),a.a.createElement("div",{className:o.messageLeft},a.a.createElement(D.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:o.messageActionsButton,onClick:function(t){return U(t,e)}},a.a.createElement(Ci.a,null)),r&&a.a.createElement("span",{className:o.messageContactName},null===(i=e.contact)||void 0===i?void 0:i.name),(e.mediaUrl||"contactMessage"===e.mediaType||"locationMessage"===e.mediaType)&&z(e),a.a.createElement("div",{className:o.textContentItem},e.quotedMsg&&V(e),a.a.createElement(ot,null,e.body),a.a.createElement("span",{className:o.timestamp},Object(Me.a)(Object(qe.a)(e.createdAt),"HH:mm")))))})):a.a.createElement("div",null,"Say hello to your new contact!"):[]),j&&a.a.createElement("div",null,a.a.createElement(Nt.a,{className:o.circleLoading})))};function Ki(){Ki=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Ji=Object(G.a)((function(e){return{root:{display:"flex",height:"100%",position:"relative",overflow:"hidden"},ticketInfo:Object(M.a)({maxWidth:"50%",flexBasis:"50%"},e.breakpoints.down("sm"),{maxWidth:"80%",flexBasis:"80%"}),ticketActionButtons:Object(M.a)({maxWidth:"50%",flexBasis:"50%",display:"flex"},e.breakpoints.down("sm"),{maxWidth:"100%",flexBasis:"100%",marginBottom:"5px"}),mainWrapper:{flex:1,height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"0",marginRight:-320,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},mainWrapperShift:{borderTopRightRadius:0,borderBottomRightRadius:0,transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}})),Zi=function(){var e=Object(u.h)().ticketId,t=Object(u.g)(),r=Ji(),o=Object(n.useState)(!1),i=Object(l.a)(o,2),c=i[0],s=i[1],h=Object(n.useState)(!0),p=Object(l.a)(h,2),m=p[0],v=p[1],y=Object(n.useState)({}),b=Object(l.a)(y,2),w=b[0],x=b[1],j=Object(n.useState)({}),k=Object(l.a)(j,2),S=k[0],N=k[1];Object(n.useEffect)((function(){v(!0);var t=setTimeout((function(){(function(){var t=Object(d.a)(Ki().mark((function t(){var r,n;return Ki().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.get("/tickets/"+e);case 3:r=t.sent,n=r.data,x(n.contact),N(n),v(!1),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),v(!1),L(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(t)}}),[e,t]),Object(n.useEffect)((function(){var r=g();return r.on("connect",(function(){return r.emit("joinChatBox",e)})),r.on("ticket",(function(e){"update"===e.action&&N(e.ticket),"delete"===e.action&&(f.b.success("Ticket deleted sucessfully."),t.push("/tickets"))})),r.on("contact",(function(e){"update"===e.action&&x((function(t){var r;return t.id===(null===(r=e.contact)||void 0===r?void 0:r.id)?Object(E.a)(Object(E.a)({},t),e.contact):t}))})),function(){r.disconnect()}}),[e,t]);return a.a.createElement("div",{className:r.root,id:"drawer-container"},a.a.createElement(Qt.a,{variant:"outlined",elevation:0,className:Object(R.a)(r.mainWrapper,Object(M.a)({},r.mainWrapperShift,c))},a.a.createElement(fi,{loading:m},a.a.createElement("div",{className:r.ticketInfo},a.a.createElement(di,{contact:w,ticket:S,onClick:function(){s(!0)}})),a.a.createElement("div",{className:r.ticketActionButtons},a.a.createElement(ji,{ticket:S}))),a.a.createElement(Qt.a,null,a.a.createElement(wo,{ticket:S})),a.a.createElement($o,null,a.a.createElement(Vi,{ticketId:e,isGroup:S.isGroup}),a.a.createElement(ni,{ticketStatus:S.status}))),a.a.createElement(ko,{open:c,handleDrawerClose:function(){s(!1)},contact:w,loading:m}))},Xi=Object(G.a)((function(e){return{chatContainer:{flex:1,padding:16,height:"calc(100% - 48px)",overflowY:"hidden"},chatPapper:{display:"flex",height:"100%"},contactsWrapper:{display:"flex",height:"100%",flexDirection:"column",overflowY:"hidden"},contactsWrapperSmall:Object(M.a)({display:"flex",height:"100%",flexDirection:"column",overflowY:"hidden"},e.breakpoints.down("sm"),{display:"none"}),messagessWrapper:{display:"flex",height:"100%",flexDirection:"column"},welcomeMsg:{backgroundColor:"#eee",display:"flex",justifyContent:"space-evenly",alignItems:"center",height:"100%",textAlign:"center",borderRadius:0},ticketsManager:{},ticketsManagerClosed:Object(M.a)({},e.breakpoints.down("sm"),{display:"none"})}})),$i=function(){var e=Xi(),t=Object(u.h)().ticketId;return a.a.createElement("div",{className:e.chatContainer},a.a.createElement("div",{className:e.chatPapper},a.a.createElement(yr.a,{container:!0,spacing:0},a.a.createElement(yr.a,{item:!0,xs:12,md:4,className:t?e.contactsWrapperSmall:e.contactsWrapper},a.a.createElement(yo,null)),a.a.createElement(yr.a,{item:!0,xs:12,md:8,className:e.messagessWrapper},t?a.a.createElement(a.a.Fragment,null,a.a.createElement(Zi,null)):a.a.createElement(Vo.a,{only:["sm","xs"]},a.a.createElement(Qt.a,{className:e.welcomeMsg},a.a.createElement("span",null,y.a.t("chat.noTicketMessage"))))))))};function ec(){ec=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var tc=function(e,t){if("LOAD_USERS"===t.type){var r=t.payload,n=[];return r.forEach((function(t){var r=e.findIndex((function(e){return e.id===t.id}));-1!==r?e[r]=t:n.push(t)})),[].concat(Object(T.a)(e),n)}if("UPDATE_USERS"===t.type){var a=t.payload,o=e.findIndex((function(e){return e.id===a.id}));return-1!==o?(e[o]=a,Object(T.a)(e)):[a].concat(Object(T.a)(e))}if("DELETE_USER"===t.type){var i=t.payload,c=e.findIndex((function(e){return e.id===i}));return-1!==c&&e.splice(c,1),Object(T.a)(e)}if("RESET"===t.type)return[]},rc=Object(G.a)((function(e){return{mainPaper:Object(E.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}})),nc=function(){var e=rc(),t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],i=r[1],c=Object(n.useState)(1),s=Object(l.a)(c,2),u=s[0],h=s[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),v=m[0],b=m[1],E=Object(n.useState)(null),w=Object(l.a)(E,2),x=w[0],j=w[1],k=Object(n.useState)(null),S=Object(l.a)(k,2),N=S[0],T=S[1],_=Object(n.useState)(!1),C=Object(l.a)(_,2),A=C[0],I=C[1],P=Object(n.useState)(!1),M=Object(l.a)(P,2),R=M[0],G=M[1],F=Object(n.useState)(""),W=Object(l.a)(F,2),q=W[0],B=W[1],U=Object(n.useReducer)(tc,[]),z=Object(l.a)(U,2),H=z[0],Q=z[1];Object(n.useEffect)((function(){Q({type:"RESET"}),h(1)}),[q]),Object(n.useEffect)((function(){i(!0);var e=setTimeout((function(){(function(){var e=Object(d.a)(ec().mark((function e(){var t,r;return ec().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/users/",{params:{searchParam:q,pageNumber:u}});case 3:t=e.sent,r=t.data,Q({type:"LOAD_USERS",payload:r.users}),b(r.hasMore),i(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),L(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}),[q,u]),Object(n.useEffect)((function(){var e=g();return e.on("user",(function(e){"update"!==e.action&&"create"!==e.action||Q({type:"UPDATE_USERS",payload:e.user}),"delete"===e.action&&Q({type:"DELETE_USER",payload:+e.userId})})),function(){e.disconnect()}}),[]);var Y=function(){var e=Object(d.a)(ec().mark((function e(t){return ec().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.delete("/users/".concat(t));case 3:f.b.success(y.a.t("users.toasts.deleted")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),L(e.t0);case 9:T(null),B(""),h(1);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(cr,null,a.a.createElement(jr,{title:N&&"".concat(y.a.t("users.confirmationModal.deleteTitle")," ").concat(N.name,"?"),open:R,onClose:G,onConfirm:function(){return Y(N.id)}},y.a.t("users.confirmationModal.deleteMessage")),a.a.createElement(Ft,{open:A,onClose:function(){j(null),I(!1)},"aria-labelledby":"form-dialog-title",userId:x&&x.id}),a.a.createElement(sr,null,a.a.createElement(dr,null,y.a.t("users.title")),a.a.createElement(fr,null,a.a.createElement(wt.a,{placeholder:y.a.t("contacts.searchPlaceholder"),type:"search",value:q,onChange:function(e){B(e.target.value.toLowerCase())},InputProps:{startAdornment:a.a.createElement(xt.a,{position:"start"},a.a.createElement(Mr.a,{style:{color:"gray"}}))}}),a.a.createElement(St.a,{variant:"contained",color:"primary",onClick:function(){j(null),I(!0)}},y.a.t("users.buttons.add")))),a.a.createElement(Qt.a,{className:e.mainPaper,variant:"outlined",onScroll:function(e){if(v&&!o){var t=e.currentTarget,r=t.scrollTop;t.scrollHeight-(r+100)<t.clientHeight&&h((function(e){return e+1}))}}},a.a.createElement(Yt.a,{size:"small"},a.a.createElement(Vt.a,null,a.a.createElement(Kt.a,null,a.a.createElement(Jt.a,{align:"center"},y.a.t("users.table.name")),a.a.createElement(Jt.a,{align:"center"},y.a.t("users.table.email")),a.a.createElement(Jt.a,{align:"center"},y.a.t("users.table.profile")),a.a.createElement(Jt.a,{align:"center"},y.a.t("users.table.whatsapp")),a.a.createElement(Jt.a,{align:"center"},y.a.t("users.table.actions")))),a.a.createElement(Zt.a,null,a.a.createElement(a.a.Fragment,null,H.map((function(e){var t;return a.a.createElement(Kt.a,{key:e.id},a.a.createElement(Jt.a,{align:"center"},e.name),a.a.createElement(Jt.a,{align:"center"},e.email),a.a.createElement(Jt.a,{align:"center"},e.profile),a.a.createElement(Jt.a,{align:"center"},null===(t=e.whatsapp)||void 0===t?void 0:t.name),a.a.createElement(Jt.a,{align:"center"},a.a.createElement(D.a,{size:"small",onClick:function(){return function(e){j(e),I(!0)}(e)}},a.a.createElement(Dr.a,null)),a.a.createElement(D.a,{size:"small",onClick:function(t){G(!0),T(e)}},a.a.createElement(Gr.a,null))))})),o&&a.a.createElement(mr,{columns:4}))))))},ac=["component","isPrivate"],oc=function(e){var t=e.component,r=e.isPrivate,o=void 0!==r&&r,i=Object($e.a)(e,ac),c=Object(n.useContext)(S),l=c.isAuth,s=c.loading;return!l&&o?a.a.createElement(a.a.Fragment,null,s&&a.a.createElement(qt,null),a.a.createElement(u.a,{to:{pathname:"/login",state:{from:i.location}}})):l&&!o?a.a.createElement(a.a.Fragment,null,s&&a.a.createElement(qt,null),a.a.createElement(u.a,{to:{pathname:"/",state:{from:i.location}}}),";"):a.a.createElement(a.a.Fragment,null,s&&a.a.createElement(qt,null),a.a.createElement(u.b,Object.assign({},i,{component:t})))};function ic(){ic=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function f(){}function d(){}function h(){}var p={};c(p,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(p=v);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var cc=Object(G.a)((function(e){return{root:{display:"flex",alignItems:"center",padding:e.spacing(8,8,3)},paper:{padding:e.spacing(2),display:"flex",alignItems:"center",marginBottom:12},settingOption:{marginLeft:"auto"},margin:{margin:e.spacing(1)}}})),lc=function(){var e=cc(),t=Object(n.useState)([]),r=Object(l.a)(t,2),o=r[0],i=r[1];Object(n.useEffect)((function(){(function(){var e=Object(d.a)(ic().mark((function e(){var t,r;return ic().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get("/settings");case 3:t=e.sent,r=t.data,i(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),L(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){var e=p()("https://sacapi.meupost.com/");return e.on("settings",(function(e){"update"===e.action&&i((function(t){var r=Object(T.a)(t),n=r.findIndex((function(t){return t.key===e.setting.key}));return r[n].value=e.setting.value,r}))})),function(){e.disconnect()}}),[]);var c;return a.a.createElement("div",{className:e.root},a.a.createElement(or.a,{className:e.container,maxWidth:"sm"},a.a.createElement(Qt.a,{className:e.paper},a.a.createElement(wt.a,{id:"api-token-setting",readonly:!0,label:"Token Api",margin:"dense",variant:"outlined",fullWidth:!0,value:o&&o.length>0&&(c="userApiToken",o.find((function(e){return e.key===c})).value)}))))},sc=Object(G.a)((function(e){return{root:{display:"flex",alignItems:"center",padding:e.spacing(2)},paper:{padding:e.spacing(2),display:"flex",alignItems:"center",marginBottom:12},settingOption:{marginLeft:"auto"},margin:{margin:e.spacing(1)},color:{color:"#0241AD"},text:{marginLeft:"42px"},textP:{marginLeft:"42px"}}})),uc=function(){var e=sc();return a.a.createElement("div",{className:e.root},a.a.createElement(or.a,null,a.a.createElement("h2",null,"Documenta\xe7\xe3o para envio de mensagens"),a.a.createElement("h2",{className:e.color},"M\xe9todos de Envio"),a.a.createElement("p",{className:e.text},"1. Mensagens de Texto"),a.a.createElement("p",{className:e.text},"2. Mensagens de M\xeddia"),a.a.createElement("h2",{className:e.color},"Instru\xe7\xf5es"),a.a.createElement("p",null,a.a.createElement("b",null,"Observa\xe7\xf5es Importantes")),a.a.createElement("ul",null,a.a.createElement("li",null,"Para pegar o token da API, v\xe1 em TOKENS que seu token estar\xe1 la, sem ele n\xe3o ser\xe1 possivel enviar mensagens."),a.a.createElement("li",null,"O n\xfamero para envio n\xe3o deve ter mascara ou caracteres especiais e deve ser composto por:"),a.a.createElement("br",null),a.a.createElement("ol",null,a.a.createElement("ul",null,a.a.createElement("li",null,"C\xf3digo do pais - Ex: 55 (Brasil)"),a.a.createElement("li",null,"DDD"),a.a.createElement("li",null,"N\xfamero")))),a.a.createElement("h2",{className:e.color},"1. Mensagens de Texto"),a.a.createElement("p",null,"Seguem abaixo lista de informacoes necess\xe1rias para envio das mensagens de texto:"),a.a.createElement("p",{className:e.textP},a.a.createElement("b",null,"URL: "),"https://sacapi.meupost.com/","/api/messages/send"),a.a.createElement("p",{className:e.textP},a.a.createElement("b",null,"Met\xf3do: "),"POST"),a.a.createElement("p",{className:e.textP},a.a.createElement("b",null,"Headers: "),"Authorization: Bearer (token) e Content-Type application/json"),a.a.createElement("p",{className:e.textP},a.a.createElement("b",null,"Body: "),'"number": "5599999999999", "body": "Enviado via api"'),a.a.createElement("h2",{className:e.color},"2. Mensagens de M\xeddia"),a.a.createElement("p",null,"Seguem abaixo lista de informacoes necess\xe1rias para envio de midias:"),a.a.createElement("p",{className:e.textP},a.a.createElement("b",null,"URL: "),"https://sacapi.meupost.com/","/api/messages/send"),a.a.createElement("p",{className:e.textP},a.a.createElement("b",null,"Met\xf3do: "),"POST"),a.a.createElement("p",{className:e.textP},a.a.createElement("b",null,"Headers: "),"Authorization: Bearer (token) e Content-Type multipart/form-data"),a.a.createElement("p",{className:e.textP},a.a.createElement("b",null,"Body: "),'"number": "5599999999999", "medias": "aqui vai sua midia", "body": "Enviado via api"')))},fc=function(){return a.a.createElement(s.a,null,a.a.createElement(N,null,a.a.createElement(u.d,null,a.a.createElement(oc,{exact:!0,path:"/login",component:mn}),a.a.createElement(oc,{exact:!0,path:"/signup",component:Ga}),a.a.createElement(P,null,a.a.createElement(Ht,null,a.a.createElement(oc,{exact:!0,path:"/",component:cn,isPrivate:!0}),a.a.createElement(oc,{exact:!0,path:"/tickets/:ticketId?",component:$i,isPrivate:!0}),a.a.createElement(oc,{exact:!0,path:"/connections",component:Ir,isPrivate:!0}),a.a.createElement(oc,{exact:!0,path:"/contacts",component:Yr,isPrivate:!0}),a.a.createElement(oc,{exact:!0,path:"/users",component:nc,isPrivate:!0}),a.a.createElement(oc,{exact:!0,path:"/docs",component:uc,isPrivate:!0}),a.a.createElement(oc,{exact:!0,path:"/tokens",component:lc,isPrivate:!0}),a.a.createElement(oc,{exact:!0,path:"/quickAnswers",component:Vn,isPrivate:!0}),a.a.createElement(oc,{exact:!0,path:"/Settings",component:Na,isPrivate:!0}),a.a.createElement(oc,{exact:!0,path:"/Queues",component:Wn,isPrivate:!0}),a.a.createElement(oc,{exact:!0,path:"/tags",component:Qa,isPrivate:!0}),a.a.createElement(oc,{exact:!0,path:"/schedules",component:ia,isPrivate:!0}),a.a.createElement(oc,{exact:!0,path:"/BulkMessage",component:Ea,isPrivate:!0}),a.a.createElement(oc,{exact:!0,path:"/ShippingReport",component:Aa,isPrivate:!0}),a.a.createElement(oc,{exact:!0,path:"/SettingsMessage",component:ja,isPrivate:!0})))),a.a.createElement(f.a,{autoClose:3e3})))},dc=(r(755),r(492)),hc=r(879),pc=r(489),mc=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(dc.a)({scrollbarStyles:{"&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-thumb":{boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)",backgroundColor:"#606060"}},palette:{primary:{main:"#2576d2"}}},r);return Object(n.useEffect)((function(){var e=localStorage.getItem("i18nextLng");"ptBR"===e.substring(0,2)+e.substring(3,5)&&o(pc.ptBR)}),[]),a.a.createElement(hc.a,{theme:i},a.a.createElement(fc,null))};i.a.render(a.a.createElement(c.a,null,a.a.createElement(mc,null)),document.getElementById("root"))}},[[530,1,2]]]);
//# sourceMappingURL=main.6974440e.chunk.js.map