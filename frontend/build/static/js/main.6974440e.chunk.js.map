{"version":3,"sources":["assets/sound.mp3","assets/logo-dash.png","assets/logo.png","assets/wa-background.png","config.js","services/socket-io.js","translate/languages/index.js","translate/languages/pt.js","translate/languages/en.js","translate/languages/es.js","translate/i18n.js","services/api.js","errors/toastError.js","hooks/useAuth.js/index.js","context/Auth/AuthContext.js","hooks/useWhatsApps/index.js","context/WhatsApp/WhatsAppsContext.js","rules.js","components/Can/index.js","layout/MainListItems.js","components/MarkdownWrapper/index.js","components/TicketListItem/index.js","hooks/useTickets/index.js","components/NotificationsPopOver/index.js","components/QueueSelect/index.js","components/UserModal/index.js","components/BackdropLoading/index.js","layout/index.js","components/MainContainer/index.js","components/MainHeader/index.js","components/MainHeaderButtonsWrapper/index.js","components/Title/index.js","components/TableRowSkeleton/index.js","components/WhatsAppModal/index.js","components/ConfirmationModal/index.js","components/QrcodeModal/index.js","pages/Connections/index.js","components/ContactModal/index.js","pages/Contacts/index.js","pages/Dashboard/Title.js","pages/Dashboard/Chart.js","pages/Dashboard/index.js","pages/Login/index.js","components/ColorPicker/index.js","components/ToolTips/index.js","components/ChatBots/options.js","components/QueueModal/index.js","pages/Queues/index.js","components/QuickAnswersModal/index.js","pages/QuickAnswers/index.js","components/ScheduleModal/index.js","pages/Schedules/index.js","components/LinearBuffer/index.js","components/PreviewMessage/index.js","components/SelectConection/index.js","pages/SendMassMessage/index.js","pages/SettingMessage/index.js","pages/Settings/index.js","pages/ShippingReport/index.js","pages/Signup/index.js","components/TagModal/index.js","pages/Tags/index.js","components/TagsFilter/index.js","components/ButtonWithSpinner/index.js","components/NewTicketModal/index.js","components/TicketsListSkeleton/index.js","components/TicketsList/index.js","components/TabPanel/index.js","components/TicketsQueueSelect/index.js","components/TicketsManager/index.js","components/TagsContainer/index.js","components/ContactDrawerSkeleton/index.js","components/ContactDrawer/index.js","components/MessageInput/RecordingTimer.js","context/ReplyingMessage/ReplyingMessageContext.js","components/MessageInput/index.js","hooks/useLocalStorage/index.js","components/TicketHeaderSkeleton/index.js","components/TicketHeader/index.js","components/TicketInfo/index.js","hooks/useQueues/index.js","components/TransferTicketModal/index.js","components/TicketOptionsMenu/index.js","components/TicketActionButtons/index.js","components/VcardPreview/index.js","components/LocationPreview/index.js","components/ModalImageCors/index.js","components/MessageOptionsMenu/index.js","components/MessagesList/index.js","components/Ticket/index.js","pages/Tickets/index.js","pages/Users/index.js","routes/Route.js","pages/tokens/index.js","pages/docs/index.js","routes/index.js","App.js","index.js"],"names":["module","exports","getConfig","name","defaultValue","undefined","window","ENV","process","getBackendUrl","connectToSocket","token","localStorage","getItem","openSocket","query","auth_token","JSON","parse","messages","pt","translations","signup","title","toasts","success","fail","form","email","password","buttons","submit","login","register","auth","dashboard","charts","perDay","inAttendance","waiting","closed","connections","deleted","confirmationModal","deleteTitle","deleteMessage","disconnectTitle","disconnectMessage","add","disconnect","tryAgain","qrcode","newQr","connecting","toolTips","disconnected","content","connected","timeout","table","status","lastUpdate","default","actions","session","whatsappModal","edit","farewellMessage","isMultidevice","transferTicketMessage","reopenLastTicket","minutes","newticketafter","titlenewticketafter","okAdd","okEdit","cancel","qrCode","message","contacts","searchPlaceholder","importTitlte","importMessage","import","whatsapp","contactModal","mainInfo","extraInfo","number","extraName","extraValue","addExtraInfo","quickAnswersModal","shortcut","queueModal","color","greetingMessage","transferQueueMessage","outOfWorkMessage","startWorkHour","endWorkHour","monday","tuesday","wednesday","thursday","friday","saturday","sunday","holiday","checkHourExpedient","userModal","profile","tagModal","chat","noTicketMessage","ticketsManager","newTicket","ticketsQueueSelect","placeholder","tickets","notification","tabs","open","search","showAll","transferTicketModal","fieldLabel","fieldQueueLabel","fieldConnectionLabel","fieldQueuePlaceholder","fieldConnectionPlaceholder","noOptions","ok","ticketsList","pendingHeader","assignedHeader","noTicketsTitle","noTicketsMessage","connectionTitle","accept","newTicketModal","mainDrawer","listItems","quickAnswers","queues","schedules","tags","administration","users","settings","appBar","user","logout","notifications","noTickets","contact","body","sendAt","sentAt","scheduleModal","greeting","queueSelect","inputLabel","userCreation","options","enabled","disabled","timeCreateNewTicket","note","call","CheckMsgIsGroup","messagesList","header","assignedTo","return","resolve","reopen","messagesInput","placeholderOpen","placeholderClosed","signMessage","contactDrawer","ticketOptionsMenu","delete","transfer","confirm","messageOptionsMenu","reply","backendErrors","ERR_TAG_NAME_ALREADY_EXISTS","ERR_NO_OTHER_WHATSAPP","ERR_NO_DEF_WAPP_FOUND","ERR_WAPP_NOT_INITIALIZED","ERR_WAPP_CHECK_CONTACT","ERR_WAPP_INVALID_CONTACT","ERR_WAPP_DOWNLOAD_MEDIA","ERR_INVALID_CREDENTIALS","ERR_SENDING_WAPP_MSG","ERR_DELETE_WAPP_MSG","ERR_OTHER_OPEN_TICKET","ERR_SESSION_EXPIRED","ERR_USER_CREATION_DISABLED","ERR_NO_PERMISSION","ERR_DUPLICATED_CONTACT","ERR_NO_SETTING_FOUND","ERR_NO_CONTACT_FOUND","ERR_NO_TICKET_FOUND","ERR_NO_USER_FOUND","ERR_NO_WAPP_FOUND","ERR_CREATING_MESSAGE","ERR_CREATING_TICKET","ERR_FETCH_WAPP_MSG","ERR_QUEUE_COLOR_ALREADY_EXISTS","ERR_WAPP_GREETING_REQUIRED","en","titleFrom","es","i18n","use","LanguageDetector","init","debug","defaultNS","fallbackLng","ns","resources","api","axios","create","baseURL","withCredentials","toastError","err","errorMsg","response","data","error","exists","toast","t","toastId","useAuth","history","useHistory","useState","isAuth","setIsAuth","loading","setLoading","setUser","interceptors","request","config","headers","Promise","reject","originalRequest","_retry","post","setItem","stringify","defaults","Authorization","removeItem","useEffect","socket","on","action","id","handleLogin","userData","push","handleLogout","AuthContext","createContext","AuthProvider","children","Provider","value","reducer","state","type","whatsApps","payload","whatsApp","whatsAppIndex","findIndex","s","updatedAt","retries","whatsAppId","splice","useWhatsApps","useReducer","dispatch","get","fetchSession","whatsappId","WhatsAppsContext","WhatsAppsProvider","rules","static","admin","Can","role","perform","yes","no","permissions","staticPermissions","includes","dynamicPermissions","dynamic","permissionCondition","check","ListItemLink","props","icon","primary","to","className","renderLink","React","useMemo","forwardRef","itemProps","ref","ListItem","button","component","ListItemIcon","ListItemText","defaultProps","MainListItems","drawerClose","useContext","connectionWarning","setConnectionWarning","delayDebounceFn","setTimeout","length","filter","whats","clearTimeout","onClick","Badge","overlap","badgeContent","Divider","ListSubheader","inset","ChatBubbleOutlineOutlined","LibraryBooks","AddCircleOutline","elements","allowedElements","CustomLink","target","rel","MarkdownWrapper","boldRegex","tildaRegex","test","replace","markdownOptions","disableParsingRawHTML","forceInline","overrides","a","forEach","element","el","useStyles","makeStyles","theme","ticket","position","pendingTicket","cursor","noTicketsDiv","display","height","margin","flexDirection","alignItems","justifyContent","noTicketsText","textAlign","fontSize","lineHeight","fontWeight","contactNameWrapper","lastMessageTime","justifySelf","closedBadge","alignSelf","marginRight","marginLeft","contactLastMessage","paddingRight","newMessagesCount","bottomButton","top","badgeStyle","backgroundColor","green","acceptButton","left","ticketQueueColor","flex","width","userTag","right","bottom","background","border","padding","paddingLeft","borderRadius","TicketListItem","classes","ticketId","useParams","isMounted","useRef","current","handleAcepptTicket","put","userId","handleReopenTicket","handleViewTicket","handleClosedTicket","Fragment","key","dense","e","selected","clsx","Tooltip","arrow","placement","queue","style","ListItemAvatar","Avatar","src","profilePicUrl","disableTypography","Typography","noWrap","variant","lastMessage","isSameDay","parseISO","Date","format","secondary","unreadMessages","badge","IconButton","useTickets","searchParam","pageNumber","date","queueIds","withUnreadMessages","hasMore","setHasMore","setTickets","count","setCount","fetchTickets","params","horasFecharAutomaticamente","Number","dataLimite","setHours","getHours","closeTicket","tabContainer","overflowY","maxHeight","scrollbarStyles","popoverPaper","maxWidth","spacing","breakpoints","down","noShadow","boxShadow","NotificationsPopOver","ticketIdUrl","location","pathname","split","ticketIdRef","anchorEl","isOpen","setIsOpen","setNotifications","setDesktopNotifications","useSound","alertSound","play","soundAlertRef","historyRef","Notification","requestPermission","console","log","emit","prevState","ticketIndex","notfiticationIndex","n","tag","String","close","read","document","visibilityState","isGroup","handleNotifications","renotify","onclick","preventDefault","focus","handleClickAway","NotificationTicket","aria-label","Popover","disableScrollLock","anchorOrigin","vertical","horizontal","transformOrigin","paper","onClose","List","map","chips","flexWrap","chip","QueueSelect","selectedQueueIds","onChange","setQueues","marginTop","FormControl","fullWidth","InputLabel","Select","multiple","labelWidth","MenuProps","getContentAnchorEl","renderValue","find","q","Chip","label","MenuItem","root","multFieldLine","btnWrapper","buttonProgress","formControl","minWidth","UserSchema","Yup","shape","min","max","required","UserModal","initialState","loggedInUser","setSelectedQueueIds","showPassword","setShowPassword","setWhatsappId","userQueueIds","fetchUser","handleClose","handleSaveUser","values","Dialog","scroll","DialogTitle","initialValues","enableReinitialize","validationSchema","onSubmit","setSubmitting","touched","errors","isSubmitting","DialogContent","dividers","as","TextField","autoFocus","Boolean","helperText","InputProps","endAdornment","InputAdornment","VisibilityOff","labelId","DialogActions","Button","CircularProgress","size","backdrop","zIndex","drawer","BackdropLoading","Backdrop","toolbar","toolbarIcon","minHeight","transition","transitions","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","menuButtonHidden","flexGrow","drawerPaper","whiteSpace","drawerPaperClose","overflowX","up","appBarSpacer","overflow","container","paddingTop","paddingBottom","LoggedInLayout","userModalOpen","setUserModalOpen","setAnchorEl","menuOpen","setMenuOpen","drawerOpen","setDrawerOpen","drawerVariant","setDrawerVariant","offsetWidth","handleCloseMenu","Drawer","logodash","alt","AppBar","Toolbar","edge","aria-controls","aria-haspopup","event","currentTarget","Menu","mainContainer","contentWrapper","MainContainer","Container","contactsHeader","MainHeader","MainHeaderButtonsWrapper","Title","gutterBottom","customTableCell","TableRowSkeleton","avatar","columns","TableRow","TableCell","Skeleton","animation","Array","from","_","index","align","expediente","tituloReceberMsg","marginBottom","reabrirTicket","textSize","paperReceberMsg","diasSemana","hora","textoExpediente","SessionSchema","memo","isDefault","setWhatsApp","defineWorkHours","SetDefineWorkHours","setOutOfWorkMessage","setStartWorkHour","setEndWorkHour","startWorkHourWeekend","setStartWorkHourWeekend","endWorkHourWeekend","setEndWorkHourWeekend","seg","setSeg","ter","setTer","quar","setQuar","quin","setQuin","sex","setSex","sab","setSab","dom","setDom","whatsQueueIds","handleChange","checked","handleSaveWhatsApp","whatsappData","textField","FormControlLabel","control","Switch","multiline","rows","Grid","item","xs","sm","FormGroup","row","sx","md","lg","xl","Checkbox","labelPlacement","Paper","selectedIds","ConfirmationModal","onConfirm","aria-labelledby","setQrCode","elevation","mainPaper","tooltip","typography","pxToRem","tooltipPopper","CustomToolTip","popper","Connections","whatsAppModalOpen","setWhatsAppModalOpen","qrModalOpen","setQrModalOpen","selectedWhatsApp","setSelectedWhatsApp","confirmModalOpen","setConfirmModalOpen","confirmationModalInitialState","confirmModalInfo","setConfirmModalInfo","handleStartWhatsAppSession","handleRequestNewQrCode","handleCloseWhatsAppModal","useCallback","handleCloseQrModal","handleOpenConfirmationModal","handleSubmitConfirmationModal","renderActionButtons","handleOpenQrModal","Table","TableHead","TableBody","SignalCellularConnectedNoInternet0Bar","CropFree","SignalCellular4Bar","SignalCellularConnectedNoInternet2Bar","renderStatusToolTips","CheckCircle","handleEditWhatsApp","Edit","DeleteOutline","extraAttr","ContactSchema","ContactModal","contactId","onSave","setContact","fetchContact","handleSaveContact","remove","info","newContacts","contactIndex","c","Contacts","setPageNumber","setSearchParam","selectedContactId","setSelectedContactId","contactModalOpen","setContactModalOpen","deletingContact","setDeletingContact","confirmOpen","setConfirmOpen","fetchContacts","handleSaveTicket","handleDeleteContact","handleimportContact","go","toLowerCase","startAdornment","onScroll","scrollTop","scrollHeight","clientHeight","Chart","useTheme","toISOString","time","amount","chartData","setChartData","aux","startOfHour","createdAt","ResponsiveContainer","BarChart","barSize","CartesianGrid","strokeDasharray","XAxis","dataKey","stroke","palette","text","YAxis","allowDecimals","Label","angle","textAnchor","fill","Bar","main","fixedHeightPaper","customFixedHeightPaper","customFixedHeightPaperLg","Dashboard","GetTickets","paragraph","Copyright","getFullYear","Link","href","nomeEmpresa","versionSystem","Login","handleChangeInput","CssBaseline","logo","noValidate","autoComplete","Box","mt","ColorPicker","currentColor","selectedColor","setSelectedColor","paperFullWidth","triangle","colors","hex","onChangeComplete","ToolTip","QueueSchema","of","VerticalLinearStepper","activeStep","setActiveStep","steps","setSteps","isStepContent","setIsStepContent","isNameEdit","setIsNamedEdit","isGreetingMessageEdit","setGreetingMessageEdit","selectedQueue","setSelectedQueue","handleSaveBot","chatBotId","fetchList","handleDeleteQueue","queueId","validateOnChange","render","handleSubmit","Stepper","nonLinear","orientation","step","Step","StepLabel","isAgent","StepContent","colorAdorment","custom","chatbots","QueueModal","onEdit","colorPickerModalOpen","setColorPickerModalOpen","setQueue","greetingRef","optionsId","handleSaveQueue","onFocus","Colorize","inputRef","minRows","newQueues","queueIndex","u","Queues","queueModalOpen","setQueueModalOpen","handleEditQueue","res","textQuickAnswerContainer","QuickAnswerSchema","QuickAnswersModal","quickAnswerId","quickAnswer","setQuickAnswer","fetchQuickAnswer","handleSaveQuickAnswer","newQuickAnswers","quickAnswerIndex","QuickAnswers","selectedQuickAnswers","setSelectedQuickAnswers","quickAnswersModalOpen","setQuickAnswersModalOpen","deletingQuickAnswers","setDeletingQuickAnswers","fetchQuickAnswers","handleDeleteQuickAnswers","handleEditQuickAnswers","ScheduleSchema","ScheduleModal","scheduleId","reload","cleanContact","setContactId","moment","initialContact","schedule","setSchedule","currentContact","setCurrentContact","setContacts","contactList","customList","isArray","handleSaveSchedule","scheduleData","capitalize","Autocomplete","getOptionLabel","option","getOptionSelected","renderInput","InputLabelProps","shrink","newSchedules","scheduleIndex","Schedules","param","selectedSchedule","setSelectedSchedule","deletingSchedule","setDeletingSchedule","scheduleModalOpen","setScheduleModalOpen","URLSearchParams","fetchSchedules","handleOpenScheduleModalFromContactId","handleOpenScheduleModal","handleDeleteSchedule","str","len","substring","handleEditSchedule","LinearDeterminate","progressMessage","progress","setProgress","LinearProgress","SpacingGrid","phone","conectionNotDefault","conection","renderSelect","csv","model","RenderForm","handlePreview","SelectConection","setProgressMessage","startSendMessage","setMessage","formatNumber","startsWith","csvHeader","slice","indexOf","csvRows","array","i","reduce","object","rawMsg","listMessage","match","getValueObject","Object","withoutLabel","ConfigMessage","setValues","photo","random","setState","limit","seconds","then","catch","prop","handleChangeChecked","handleSaveSettings","FormLabel","htmlFor","Input","settingOption","Settings","setSettings","settingIndex","setting","handleChangeSetting","selectedValue","settingKey","getSettingValue","native","readonly","massMessageId","scheduleRecord","handleDeleteAll","SignUp","handleSignUp","LockOutlined","RouterLink","TagSchema","TagModal","tagId","setTag","handleSaveTag","tagData","prev","disableAlpha","hslGradient","val","newTags","tagIndex","Tags","selectedTag","setSelectedTag","deletingTag","setDeletingTag","tagModalOpen","setTagModalOpen","fetchTags","handleDeleteTag","textShadow","ticketsCount","handleEditTag","TagsFilter","onFiltered","setTags","selecteds","setSelecteds","loadTags","fetchData","v","r","renderTags","getTagProps","ButtonWithSpinner","rest","createFilterOptions","trim","NewTicketModal","modalOpen","setOptions","selectedContact","setSelectedContact","newContact","setNewContact","clearOnBlur","autoHighlight","freeSolo","clearOnEscape","renderOption","filterOptions","filtered","inputValue","newValue","handleSelectOption","onKeyPress","TicketsSkeleton","ticketsListWrapper","borderTopRightRadius","borderBottomRightRadius","borderTop","ticketsListHeader","borderBottom","unshift","TicketsList","updateCount","filteredTickets","shouldUpdateTicket","square","TicketsListSkeleton","TabPanel","TicketsQueueSelect","userQueues","displayEmpty","ticketsWrapper","tabsHeader","settingsIcon","tab","ticketOptionsBox","serachInputWrapper","searchIcon","searchInput","show","hide","TicketsManager","searchTimeout","setTab","tabOpen","setTabOpen","newTicketModalOpen","setNewTicketModalOpen","showAllTickets","setShowAllTickets","searchInputRef","openCount","setOpenCount","pendingCount","setPendingCount","selectedTags","setSelectedTags","toUpperCase","applyPanelStyle","Tabs","indicatorColor","textColor","Tab","InputBase","searchedTerm","TagsContainer","createTag","responseData","syncTags","reason","optionsChanged","isString","newTag","PaperComponent","ContactDrawerSkeleton","contactHeader","contactAvatar","contactDetails","contactExtraInfo","flexShrink","borderRight","ContactDrawer","handleDrawerClose","setModalOpen","anchor","PaperProps","BackdropProps","ModalProps","getElementById","timerBox","RecordingTimer","timer","setTimer","interval","setInterval","clearInterval","addZero","ReplyMessageContext","ReplyMessageProvider","replyingMessage","setReplyingMessage","Mp3Recorder","MicRecorder","bitRate","mainWrapper","newMessageBox","messageInputWrapper","messageInput","sendMessageIcons","uploadInput","viewMediaInputWrapper","emojiBox","circleLoading","opacity","audioLoading","recorderWrapper","alignContent","cancelAudioIcon","sendAudioIcon","replyginMsgWrapper","replyginMsgContainer","replyginMsgBody","replyginContactMsgSideColor","replyginSelfMsgSideColor","messageContactName","messageQuickAnswersWrapper","listStyle","textOverflow","MessageInput","ticketStatus","medias","setMedias","inputMessage","setInputMessage","showEmoji","setShowEmoji","recording","setRecording","typeBar","setTypeBar","initialValue","storedValue","setStoredValue","valueToStore","Function","useLocalStorage","setSignMessage","handleChangeMedias","files","selectedMedias","handleUploadMedia","formData","FormData","append","media","handleSendMessage","fromMe","mediaUrl","quotedMsg","handleStartRecording","navigator","mediaDevices","getUserMedia","audio","start","handleLoadQuickAnswer","handleUploadAudio","stop","getMp3","blob","filename","getTime","handleCancelAudio","handleMenuItemClick","renderReplyingMessage","Hidden","only","ClickAwayListener","onClickAway","perLine","showPreview","showSkinTones","onSelect","emoji","keepMounted","input","maxRows","onPaste","clipboardData","handleInputPaste","shiftKey","messageQuickAnswersWrapperItem","handleQuickAnswersClick","ticketHeader","TicketHeaderSkeleton","Card","CardHeader","titleTypographyProps","subheaderTypographyProps","subheader","TicketHeader","TicketInfo","useQueues","findAll","TransferTicketModal","ticketid","ticketWhatsappId","allQueues","setAllQueues","selectedUser","setSelectedUser","selectedWhatsapp","setSelectedWhatsapp","findAllQueues","loadingWhatsapps","list","loadQueues","fetchUsers","noOptionsText","whasapp","TicketOptionsMenu","confirmationOpen","setConfirmationOpen","transferTicketModalOpen","setTransferTicketModalOpen","handleDeleteTicket","actionButtons","TicketActionButtons","ticketOptionsMenuOpen","handleUpdateTicketStatus","startIcon","VcardPreview","numbers","contactObj","handleNewChat","LocationPreview","image","link","description","handleLocation","float","dangerouslySetInnerHTML","__html","clear","messageMedia","objectFit","borderTopLeftRadius","borderBottomLeftRadius","ModalImageCors","imageUrl","fetching","setFetching","blobUrl","setBlobUrl","responseType","url","URL","createObjectURL","Blob","fetchImage","smallSrcSet","medium","large","showRotate","MessageOptionsMenu","handleDeleteMessage","messagesListWrapper","messageCenter","verticalAlign","backgroundImage","whatsBackground","blue","messageLeft","quotedContainerLeft","quotedSideColorLeft","messageRight","quotedContainerRight","quotedMsgRight","quotedSideColorRight","messageActionsButton","textContentItem","overflowWrap","textContentItemDeleted","fontStyle","timestamp","dailyTimestamp","dailyTimestampText","ackIcons","deletedIcon","ackDoneAllIcon","downloadMedia","newMessages","messageIndex","m","newMessage","messageToUpdate","MessagesList","lastMessageRef","selectedMessage","setSelectedMessage","messageOptionsMenuOpen","currentTicketId","scrollToBottom","fetchMessages","transports","scrollIntoView","handleOpenMessageOptionsMenu","checkMessageMedia","mediaType","obj","ind","controls","GetApp","locationParts","imageLocation","linkLocation","descriptionLocation","renderDailyTimestamps","messageDay","previousMessageDay","renderMessageDivider","renderNumberTicket","messageTicket","ticketNunber","renderQuotedMessage","prevPageNumber","isDeleted","ExpandMore","xmlns","viewBox","d","Block","ack","AccessTime","DoneAll","renderMessageAck","ticketInfo","flexBasis","ticketActionButtons","borderLeft","mainWrapperShift","easeOut","Ticket","setTicket","fetchTicket","chatContainer","chatPapper","contactsWrapper","contactsWrapperSmall","messagessWrapper","welcomeMsg","ticketsManagerClosed","Chat","newUsers","userIndex","Users","deletingUser","setDeletingUser","handleDeleteUser","handleEditUser","Route","Component","isPrivate","textP","Api","Routes","exact","path","Signup","Tickets","Docs","Tokens","SendMassMessage","ShippingReport","SettingMessage","autoClose","App","locale","setLocale","createTheme","i18nlocale","ptBR","ThemeProvider","ReactDOM"],"mappings":"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E,KAAM,kBAAC,KAAD,QAER,kBAACd,GAAD,CACEC,KAAMzJ,EAAKxC,QACXkM,QAAQ,0BACRC,IAAK,kBACH,oCACE,kBAAC0C,EAAA,EAAD,MACA,kBAACC,GAAA,EAAD,CAAeC,OAAK,GAApB,uBAID,kBAACnC,GAAD,CACGI,GAAG,eACHD,QAAQ,YACRD,KAAM,kBAACkC,GAAA,EAAD,QAER,kBAACpC,GAAD,CACEI,GAAG,kBACHD,QAAQ,sBACRD,KAAM,kBAACmC,GAAA,EAAD,QAER,kBAACrC,GAAD,CACEI,GAAG,mBACHD,QAAQ,iBACRD,KAAM,kBAACoC,GAAA,EAAD,QAER,kBAACL,EAAA,EAAD,MACA,kBAACC,GAAA,EAAD,CAAeC,OAAK,GACjBrI,IAAKsB,EAAE,wCAEV,kBAAC4E,GAAD,CACEI,GAAG,SACHD,QAASrG,IAAKsB,EAAE,8BAChB8E,KAAM,kBAAC,KAAD,QAER,kBAACF,GAAD,CACEI,GAAG,UACHD,QAASrG,IAAKsB,EAAE,+BAChB8E,KAAM,kBAAC,KAAD,QAGR,kBAACF,GAAD,CACEI,GAAG,YACHD,QAASrG,IAAKsB,EAAE,iCAChB8E,KAAM,kBAAC,KAAD,QAEV,kBAAC+B,EAAA,EAAD,MACE,kBAACC,GAAA,EAAD,CAAeC,OAAK,GACjBrI,IAAKsB,EAAE,QAGX,kBAAC4E,GAAD,CACGI,GAAG,UACHD,QAASrG,IAAKsB,EAAE,SAChB8E,KAAM,kBAAC,KAAD,QAEJ,kBAACF,GAAD,CACFI,GAAG,QACHD,QAAQ,SACRD,KAAM,kBAAC,KAAD,c,6NChLdqC,GAAW,CAChB,IACA,OACA,UACA,OACA,UACA,QACA,QACA,IACA,OACA,MACA,MACA,MACA,aACA,OACA,KACA,SACA,SACA,UACA,OACA,OACA,MACA,WACA,OACA,WACA,KACA,MACA,UACA,MACA,SACA,MACA,KACA,KACA,KACA,QACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,SACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,UACA,OACA,WACA,OACA,QACA,MACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,QACA,SACA,OACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,IACA,KACA,MACA,QACA,MAGA,SACA,WACA,OACA,UACA,gBACA,IACA,QACA,OACA,iBACA,SACA,OACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,MACA,OACA,SAGKC,GAAkB,CAAC,IAAK,IAAK,SAAU,KAAM,IAAK,OAAQ,OAE1DC,GAAa,SAAC,GAAD,IAAGhF,EAAH,EAAGA,SAAawC,EAAhB,0BAClB,uCAAOA,EAAP,CAAcyC,OAAO,SAASC,IAAI,wBAChClF,IA6CYmF,GAzCS,SAAC,GAAkB,IAAhBnF,EAAe,EAAfA,SACpBoF,EAAY,aACZC,EAAa,WAEhBrF,GAAYA,EAASkC,SAAS,iBAEhClC,EAAW,MAETA,GAAYA,EAASkC,SAAS,iBAChClC,EAAW,MAERA,GAAYoF,EAAUE,KAAKtF,KAC9BA,EAAWA,EAASuF,QAAQH,EAAW,WAEpCpF,GAAYqF,EAAWC,KAAKtF,KAC/BA,EAAWA,EAASuF,QAAQF,EAAY,WAGzC,IAAMrM,EAAU8J,IAAMC,SAAQ,WAC7B,IAAMyC,EAAkB,CACvBC,uBAAuB,EACvBC,aAAa,EACbC,UAAW,CACVC,EAAG,CAAEvC,UAAW2B,MAUlB,OANAF,GAASe,SAAQ,SAAAC,GACXf,GAAgB7C,SAAS4D,KAC7BN,EAAgBG,UAAUG,GAAW,SAAAC,GAAE,OAAIA,EAAG/F,UAAY,UAIrDwF,IACL,IAEH,OAAKxF,EAEE,kBAAC,KAAD,CAAUhH,QAASA,GAAUgH,GAFd,M,qzMC9JvB,IAAMgG,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCC,OAAQ,CACPC,SAAU,YAGXC,cAAe,CACdC,OAAQ,SAGTC,aAAc,CACbC,QAAS,OACTC,OAAQ,QACRC,OAAQ,GACRC,cAAe,SACfC,WAAY,SACZC,eAAgB,UAGjBC,cAAe,CACdC,UAAW,SACXpS,MAAO,qBACPqS,SAAU,OACVC,WAAY,OAGb7P,eAAgB,CACf2P,UAAW,SACXC,SAAU,OACVE,WAAY,MACZR,OAAQ,OAGTS,mBAAoB,CACnBX,QAAS,OACTK,eAAgB,iBAGjBO,gBAAiB,CAChBC,YAAa,YAGdC,YAAa,CACZC,UAAW,SACXF,YAAa,WACbG,YAAa,GACbC,WAAY,QAGbC,mBAAoB,CACnBC,aAAc,IAGfC,iBAAkB,CACjBL,UAAW,SACXC,YAAa,EACbC,WAAY,QAGbI,aAAc,CACbC,IAAK,QAGNC,WAAY,CACXpT,MAAO,QACPqT,gBAAiBC,KAAM,MAGxBC,aAAc,CACb9B,SAAU,WACV+B,KAAM,OAGPC,iBAAkB,CACjBC,KAAM,OACNC,MAAO,MACP7B,OAAQ,OACRL,SAAU,WACV0B,IAAK,KACLK,KAAM,MAGPI,QAAS,CACRnC,SAAU,WACVoB,YAAa,EACbgB,MAAO,GACPC,OAAQ,GACRC,WAAY,UACZ/T,MAAO,UACPgU,OAAQ,iBACRC,QAAS,EACTC,YAAa,EACblB,aAAc,EACdmB,aAAc,GACd9B,SAAU,aA0OG+B,GAtOQ,SAAC,GAAgB,IAAD,QAAb5C,EAAa,EAAbA,OACnB6C,EAAUhD,KACVlI,EAAUC,cAChB,EAA8BC,oBAAS,GAAvC,mBAAgBI,GAAhB,WACQ6K,EAAaC,cAAbD,SACFE,EAAYC,kBAAO,GACjBjR,EAASwL,qBAAW9D,GAApB1H,KAERiH,qBAAU,WACT,OAAO,WACN+J,EAAUE,SAAU,KAEnB,IAEH,IAAMC,EAAkB,wCAAG,WAAM9J,GAAN,yEAC1BpB,GAAW,GADe,kBAGnBtB,EAAIyM,IAAJ,mBAAoB/J,GAAM,CAC/BhN,OAAQ,OACRgX,OAAM,OAAErR,QAAF,IAAEA,OAAF,EAAEA,EAAMqH,KALU,uDAQzBpB,GAAW,GACXjB,EAAW,EAAD,IATe,QAWtBgM,EAAUE,SACbjL,GAAW,GAEZN,EAAQ6B,KAAR,mBAAyBH,IAdC,yDAAH,sDAiBlBiK,EAAkB,wCAAG,WAAMjK,GAAN,yEAC1BpB,GAAW,GADe,kBAGnBtB,EAAIyM,IAAJ,mBAAoB/J,GAAM,CAC/BhN,OAAQ,OACRgX,OAAM,OAAErR,QAAF,IAAEA,OAAF,EAAEA,EAAMqH,KALU,uDAQzBpB,GAAW,GACXjB,EAAW,EAAD,IATe,QAWtBgM,EAAUE,SACbjL,GAAW,GAEZN,EAAQ6B,KAAR,mBAAyBH,IAdC,yDAAH,sDAiBlBkK,EAAgB,wCAAG,WAAMlK,GAAN,yEACxBpB,GAAW,GADa,kBAGjBtB,EAAIyM,IAAJ,mBAAoB/J,GAAM,CAC/BhN,OAAQ,YAJc,uDAOvB4L,GAAW,GACXjB,EAAW,EAAD,IARa,QAUpBgM,EAAUE,SACbjL,GAAW,GAEZN,EAAQ6B,KAAR,mBAAyBH,IAbD,yDAAH,sDAgBhBmK,EAAkB,wCAAG,WAAMnK,GAAN,yEAC1BpB,GAAW,GADe,kBAGnBtB,EAAIyM,IAAJ,mBAAoB/J,GAAM,CAC/BhN,OAAQ,SACRgX,OAAM,OAAErR,QAAF,IAAEA,OAAF,EAAEA,EAAMqH,KALU,uDAQzBpB,GAAW,GACXjB,EAAW,EAAD,IATe,QAWtBgM,EAAUE,SACbjL,GAAW,GAZc,yDAAH,sDAsBxB,OACC,kBAAC,IAAMwL,SAAP,CAAgBC,IAAK1D,EAAO3G,IAC3B,kBAAC2D,GAAA,EAAD,CACC2G,OAAK,EACL1G,QAAM,EACNgB,QAAS,SAAA2F,GATe,IAAAvK,EAUD,YAAlB2G,EAAO3T,SAVYgN,EAWJ2G,EAAO3G,GAV7B1B,EAAQ6B,KAAR,mBAAyBH,MAYvBwK,SAAUf,IAAaA,IAAa9C,EAAO3G,GAC3CoD,UAAWqH,YAAKjB,EAAQ7C,OAAT,eACb6C,EAAQ3C,cAAkC,YAAlBF,EAAO3T,UAGjC,kBAAC0X,GAAA,EAAD,CACCC,OAAK,EACLC,UAAU,QACVja,OAAO,UAAAgW,EAAOkE,aAAP,eAActb,OAAQ,YAE7B,0BACCub,MAAO,CAAEtC,iBAAiB,UAAA7B,EAAOkE,aAAP,eAAc1V,QAAS,WACjDiO,UAAWoG,EAAQZ,oBAGrB,kBAACmC,GAAA,EAAD,KACC,kBAACC,GAAA,EAAD,CAAQC,IAAG,OAAEtE,QAAF,IAAEA,GAAF,UAAEA,EAAQ5N,eAAV,aAAE,EAAiBmS,iBAE/B,kBAACnH,GAAA,EAAD,CACCoH,mBAAiB,EACjBjI,QACC,0BAAME,UAAWoG,EAAQ7B,oBACxB,kBAACyD,EAAA,EAAD,CACCC,QAAM,EACNxH,UAAU,OACVyH,QAAQ,QACRnW,MAAM,eAELwR,EAAO5N,QAAQxJ,MAEhBoX,EAAO4E,aACP,kBAACH,EAAA,EAAD,CACChI,UAAWoG,EAAQ5B,gBACnB/D,UAAU,OACVyH,QAAQ,QACRnW,MAAM,iBAELqW,aAAUC,aAAS9E,EAAOvF,WAAY,IAAIsK,MAC1C,oCAAGC,aAAOF,aAAS9E,EAAOvF,WAAY,UAEtC,oCAAGuK,aAAOF,aAAS9E,EAAOvF,WAAY,gBAIxCuF,EAAO9E,YACP,yBAAKuB,UAAWoG,EAAQT,QAASpY,MAAOkM,IAAKsB,EAAE,gCAA/C,UAAgFwI,EAAOnS,gBAAvF,aAAgF,EAAiBjF,OAIpGqc,UACC,0BAAMxI,UAAWoG,EAAQ7B,oBACxB,kBAACyD,EAAA,EAAD,CACChI,UAAWoG,EAAQtB,mBACnBmD,QAAM,EACNxH,UAAU,OACVyH,QAAQ,QACRnW,MAAM,iBAELwR,EAAO4E,YACP,kBAAC,GAAD,KAAkB5E,EAAO4E,aAEzB,8BAIF,kBAAC1G,GAAA,EAAD,CACCzB,UAAWoG,EAAQpB,iBACnBrD,aAAc4B,EAAOkF,eACrBrC,QAAS,CACRsC,MAAOtC,EAAQjB,iBAMD,YAAlB5B,EAAO3T,QACP,kBAAC+Y,EAAA,EAAD,CACA3I,UAAWoG,EAAQnB,aACnBlT,MAAM,UACNyP,QAAS,SAAA2F,GAAC,OAAIT,EAAmBnD,EAAO3G,MACxC,kBAAC,KAAD,OAGmB,YAAlB2G,EAAO3T,QACR,kBAAC+Y,EAAA,EAAD,CACA3I,UAAWoG,EAAQnB,aACnBlT,MAAM,UACNyP,QAAS,SAAA2F,GAAC,OAAIL,EAAiBvD,EAAO3G,MACtC,kBAAC,KAAD,OAGmB,YAAlB2G,EAAO3T,QACR,kBAAC+Y,EAAA,EAAD,CACA3I,UAAWoG,EAAQnB,aACnBlT,MAAM,UACNyP,QAAS,SAAA2F,GAAC,OAAIJ,EAAmBxD,EAAO3G,MACxC,kBAAC,KAAD,OAGkB,SAAlB2G,EAAO3T,QACP,kBAAC+Y,EAAA,EAAD,CACA3I,UAAWoG,EAAQnB,aACnBlT,MAAM,UACNyP,QAAS,SAAA2F,GAAC,OAAIL,EAAiBvD,EAAO3G,MACtC,kBAAC,KAAD,OAGmB,SAAlB2G,EAAO3T,QACR,kBAAC+Y,EAAA,EAAD,CACA3I,UAAWoG,EAAQnB,aACnBlT,MAAM,UACNyP,QAAS,SAAA2F,GAAC,OAAIJ,EAAmBxD,EAAO3G,MACxC,kBAAC,KAAD,OAGkB,WAAlB2G,EAAO3T,QACP,kBAAC+Y,EAAA,EAAD,CACA3I,UAAWoG,EAAQnB,aACnBlT,MAAM,UACNyP,QAAS,SAAA2F,GAAC,OAAIN,EAAmBtD,EAAO3G,MACxC,kBAAC,KAAD,OAGkB,WAAlB2G,EAAO3T,QACP,kBAAC+Y,EAAA,EAAD,CACA3I,UAAWoG,EAAQnB,aACnBlT,MAAM,aAIR,kBAAC6P,EAAA,EAAD,CAASsG,QAAQ,QAAQzH,UAAU,S,2yMCzVtC,IAoFemI,GApFI,SAAC,GASb,IARHC,EAQE,EARFA,YACAC,EAOE,EAPFA,WACAlZ,EAME,EANFA,OACAmZ,EAKE,EALFA,KACAnV,EAIE,EAJFA,QACAoV,EAGE,EAHFA,SACAC,EAEE,EAFFA,mBACA/T,EACE,EADFA,KAEA,EAA8BkG,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAA8BJ,oBAAS,GAAvC,mBAAO8N,EAAP,KAAgBC,EAAhB,KACA,EAA8B/N,mBAAS,IAAvC,mBAAO7H,EAAP,KAAgB6V,EAAhB,KACA,EAA0BhO,mBAAS,GAAnC,mBAAOiO,EAAP,KAAcC,EAAd,KAoEA,OAlEA9M,qBAAU,WACNhB,GAAW,GACX,IAAM0F,EAAkBC,YAAW,WAC/B,IAAMoI,EAAY,wCAAG,oHAEUrP,EAAIqE,IAAI,WAAY,CACvCiL,OAAQ,CACJX,cACAC,aACAlZ,SACAmZ,OACAnV,UACAoV,WACAC,qBACA/T,UAXK,gBAELyF,EAFK,EAELA,KAYRyO,EAAWzO,EAAKpH,SAEZkW,ElB1Bbvd,EAAU,sCkB4Bc,SAAX0D,GAAqB6Z,GAA6D,KAA/BA,GACpB,MAA/BA,GAAsCC,OAAOD,GAA8B,KAEvEE,EAAa,IAAIrB,MACVsB,SAASD,EAAWE,WAAaH,OAAOD,IAEnD9O,EAAKpH,QAAQ0P,SAAQ,SAAAM,GACK,WAAlBA,EAAO3T,SAC0B,IAAI0Y,KAAK/E,EAAOvF,WAChB2L,GAC7BG,EAAYvG,QAK5B4F,EAAWxO,EAAKuO,SAChBI,EAAS3O,EAAK0O,OACd7N,GAAW,GAnCE,kDAqCbA,GAAW,GACXjB,EAAW,EAAD,IAtCG,0DAAH,qDA0CZuP,EAAW,wCAAG,WAAMvG,GAAN,kFACVrJ,EAAIyM,IAAJ,mBAAoBpD,EAAO3G,IAAM,CACnChN,OAAQ,SACRgX,OAAQrD,EAAOqD,QAAU,OAHb,2CAAH,sDAOjB2C,MACD,KACH,OAAO,kBAAMhI,aAAaL,MAC3B,CACC2H,EACAC,EACAlZ,EACAmZ,EACAnV,EACAoV,EACAC,EACA/T,IAGG,CAAE3B,UAASgI,UAAS2N,UAASG,U,qBCjElCjG,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCyG,aAAa,aACZC,UAAW,OACXC,UAAW,KACR3G,EAAM4G,iBAEVC,aAAa,aACZzE,MAAO,OACP0E,SAAU,IACVvF,WAAYvB,EAAM+G,QAAQ,GAC1BzF,YAAatB,EAAM+G,QAAQ,IAC1B/G,EAAMgH,YAAYC,KAAK,MAAQ,CAC/BH,SAAU,MAGZI,SAAU,CACTC,UAAW,uBAmMEC,GA/Lc,WAC5B,IAAMtE,EAAUhD,KAEVlI,EAAUC,cACR5F,EAASwL,qBAAW9D,GAApB1H,KACFoV,GAAezP,EAAQ0P,SAASC,SAASC,MAAM,KAAK,GACpDC,EAAcvE,iBAAOmE,GACrBK,EAAWxE,mBACjB,EAA4BpL,oBAAS,GAArC,mBAAO6P,EAAP,KAAeC,EAAf,KACA,EAA0C9P,mBAAS,IAAnD,mBAAO3F,EAAP,KAAsB0V,EAAtB,KAEA,EAAoC/P,mBAAS,IAApCgQ,EAAT,oBAEQ7X,EAAYqV,GAAW,CAAEK,mBAAoB,SAA7C1V,QACR,EAAe8X,aAASC,MAAjBC,EAAP,oBACMC,EAAgBhF,mBAEhBiF,EAAajF,iBAAOtL,GAE1BsB,qBAAU,WACTgP,EAAc/E,QAAU8E,EAElB,iBAAkBjf,OAGvBof,aAAaC,oBAFbC,QAAQC,IAAI,gDAIX,CAACN,IAEJ/O,qBAAU,WACT2O,EAAiB5X,KACf,CAACA,IAEJiJ,qBAAU,WACTuO,EAAYtE,QAAUkE,IACpB,CAACA,IAEJnO,qBAAU,WACT,IAAMC,EAAS3P,IAwDf,OAtDA2P,EAAOC,GAAG,WAAW,kBAAMD,EAAOqP,KAAK,uBAEvCrP,EAAOC,GAAG,UAAU,SAAA/B,GACC,iBAAhBA,EAAKgC,QAA6C,WAAhBhC,EAAKgC,SAC1CwO,GAAiB,SAAAY,GAChB,IAAMC,EAAcD,EAAUjO,WAAU,SAAA/C,GAAC,OAAIA,EAAE6B,KAAOjC,EAAK0L,YAC3D,OAAqB,IAAjB2F,GACHD,EAAU5N,OAAO6N,EAAa,GACvB,YAAID,IAELA,KAGRX,GAAwB,SAAAW,GACvB,IAAME,EAAqBF,EAAUjO,WACpC,SAAAoO,GAAC,OAAIA,EAAEC,MAAQC,OAAOzR,EAAK0L,aAE5B,OAA4B,IAAxB4F,GACHF,EAAUE,GAAoBI,QAC9BN,EAAU5N,OAAO8N,EAAoB,GAC9B,YAAIF,IAELA,SAKVtP,EAAOC,GAAG,cAAc,SAAA/B,GACvB,GACiB,WAAhBA,EAAKgC,SACJhC,EAAK7J,QAAQwb,OACb3R,EAAK4I,OAAOqD,UAAZ,OAAuBrR,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAMqH,MAAOjC,EAAK4I,OAAOqD,QAChD,CAgBD,GAfAuE,GAAiB,SAAAY,GAChB,IAAMC,EAAcD,EAAUjO,WAAU,SAAA/C,GAAC,OAAIA,EAAE6B,KAAOjC,EAAK4I,OAAO3G,MAClE,OAAqB,IAAjBoP,GACHD,EAAUC,GAAerR,EAAK4I,OACvB,YAAIwI,IAEN,CAAEpR,EAAK4I,QAAb,mBAAwBwI,OAIvBpR,EAAK7J,QAAQuV,WAAa0E,EAAYtE,SACT,YAA7B8F,SAASC,iBACT7R,EAAK4I,OAAOqD,QAAUjM,EAAK4I,OAAOqD,UAAZ,OAAuBrR,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAMqH,KACpDjC,EAAK4I,OAAOkJ,QAEY,OAEzBC,EAAoB/R,OAIf,WACN8B,EAAOxN,gBAEN,CAACsG,IAEJ,IAAMmX,EAAsB,SAAA/R,GAC3B,IAAQ7J,EAA6B6J,EAA7B7J,QAAS6E,EAAoBgF,EAApBhF,QAAS4N,EAAW5I,EAAX4I,OAEpBnN,EAAU,CACfR,KAAK,GAAD,OAAK9E,EAAQ8E,KAAb,cAAuB2S,aAAO,IAAID,KAAQ,UAC9CzI,KAAMlK,EAAQmS,cACdqE,IAAK5I,EAAO3G,GACZ+P,UAAU,GAGLnZ,EAAe,IAAIkY,aAAJ,UACjBjS,IAAKsB,EAAE,gCADU,YACyBpF,EAAQxJ,MACrDiK,GAGD5C,EAAaoZ,QAAU,SAAAzF,GACtBA,EAAE0F,iBACFvgB,OAAOwgB,QACPrB,EAAWhF,QAAQ1J,KAAnB,mBAAoCwG,EAAO3G,MAG5CwO,GAAwB,SAAAW,GACvB,IAAME,EAAqBF,EAAUjO,WACpC,SAAAoO,GAAC,OAAIA,EAAEC,MAAQ3Y,EAAa2Y,OAE7B,OAA4B,IAAxBF,GACHF,EAAUE,GAAsBzY,EACzB,YAAIuY,IAEN,CAAEvY,GAAR,mBAAyBuY,OAG1BP,EAAc/E,WAOTsG,EAAkB,WACvB7B,GAAU,IAGL8B,EAAqB,SAAC,GAAkB,IAAhB5P,EAAe,EAAfA,SAC7B,OAAO,yBAAKoE,QAASuL,GAAkB3P,IAGxC,OACC,oCACC,kBAACuL,EAAA,EAAD,CACCnH,QAfiB,WACnB0J,GAAU,SAAAa,GAAS,OAAKA,MAetBzL,IAAK0K,EACLiC,aAAW,qBACXlb,MAAM,WAEN,kBAAC0P,GAAA,EAAD,CAAOE,aAAclM,EAAc2L,OAAQrP,MAAM,aAChD,kBAAC,KAAD,QAGF,kBAACmb,GAAA,EAAD,CACCC,mBAAiB,EACjBzZ,KAAMuX,EACND,SAAUA,EAASvE,QACnB2G,aAAc,CACbC,SAAU,SACVC,WAAY,SAEbC,gBAAiB,CAChBF,SAAU,MACVC,WAAY,SAEblH,QAAS,CAAEoH,MAAOpH,EAAQ+D,cAC1BsD,QAASV,GAET,kBAACW,EAAA,EAAD,CAAMxG,OAAK,EAAClH,UAAWoG,EAAQ2D,cACJ,IAAzBtU,EAAc2L,OACd,kBAACb,GAAA,EAAD,KACC,kBAACI,GAAA,EAAD,KAAelH,IAAKsB,EAAE,6BAGvBtF,EAAckY,KAAI,SAAApK,GAAM,OACvB,kBAACyJ,EAAD,CAAoB/F,IAAK1D,EAAO3G,IAC/B,kBAAC,GAAD,CAAgB2G,OAAQA,Y,y8MCpNhC,IAAMH,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCsK,MAAO,CACNhK,QAAS,OACTiK,SAAU,QAEXC,KAAM,CACLhK,OAAQ,OAwEKiK,GApEK,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,iBAAkBC,EAAe,EAAfA,SAClC7H,EAAUhD,KAChB,EAA4BhI,mBAAS,IAArC,mBAAOpG,EAAP,KAAekZ,EAAf,KAEA1R,qBAAU,WACT,uBAAC,gHAEwBtC,EAAIqE,IAAI,UAFhC,gBAES5D,EAFT,EAESA,KACRuT,EAAUvT,GAHX,gDAKCJ,EAAW,EAAD,IALX,wDAAD,KAQE,IAMH,OACC,yBAAKmN,MAAO,CAAEyG,UAAW,IACxB,kBAACC,GAAA,EAAD,CAAaC,WAAS,EAACvK,OAAO,QAAQoE,QAAQ,YAC7C,kBAACoG,GAAA,EAAD,KAAa7U,IAAKsB,EAAE,2BACpB,kBAACwT,GAAA,EAAD,CACCC,UAAQ,EACRC,WAAY,GACZnR,MAAO0Q,EACPC,SAZiB,SAAA9G,GACpB8G,EAAS9G,EAAE9E,OAAO/E,QAYfoR,UAAW,CACVtB,aAAc,CACbC,SAAU,SACVC,WAAY,QAEbC,gBAAiB,CAChBF,SAAU,MACVC,WAAY,QAEbqB,mBAAoB,MAErBC,YAAa,SAAAxH,GAAQ,OACpB,yBAAKpH,UAAWoG,EAAQwH,QACd,OAARxG,QAAQ,IAARA,OAAA,EAAAA,EAAUhG,QAAS,GACnBgG,EAASuG,KAAI,SAAA/Q,GACZ,IAAM6K,EAAQzS,EAAO6Z,MAAK,SAAAC,GAAC,OAAIA,EAAElS,KAAOA,KACxC,OAAO6K,EACN,kBAACsH,GAAA,EAAD,CACC9H,IAAKrK,EACL8K,MAAO,CAAEtC,gBAAiBqC,EAAM1V,OAChCmW,QAAQ,WACR8G,MAAOvH,EAAMtb,KACb6T,UAAWoG,EAAQ0H,OAEjB,WAKP9Y,EAAO2Y,KAAI,SAAAlG,GAAK,OAChB,kBAACwH,EAAA,EAAD,CAAUhI,IAAKQ,EAAM7K,GAAIU,MAAOmK,EAAM7K,IACpC6K,EAAMtb,a,2yMC5Cd,IAAMiX,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtC4L,KAAM,CACLtL,QAAS,OACTiK,SAAU,QAEXsB,cAAe,CACdvL,QAAS,OACT,yBAA0B,CACzBgB,YAAatB,EAAM+G,QAAQ,KAI7B+E,WAAY,CACX5L,SAAU,YAGX6L,eAAgB,CACftd,MAAOsT,KAAM,KACb7B,SAAU,WACV0B,IAAK,MACLK,KAAM,MACN4I,WAAY,GACZtJ,YAAa,IAEdyK,YAAa,CACZxL,OAAQR,EAAM+G,QAAQ,GACtBkF,SAAU,SAINC,GAAaC,OAAaC,MAAM,CACrCvjB,KAAMsjB,OACJE,IAAI,EAAG,cACPC,IAAI,GAAI,aACRC,SAAS,YACXhiB,SAAU4hB,OAAaE,IAAI,EAAG,cAAcC,IAAI,GAAI,aACpDhiB,MAAO6hB,OAAa7hB,MAAM,iBAAiBiiB,SAAS,cAuOtCC,GApOG,SAAC,GAA+B,IAA7Bpc,EAA4B,EAA5BA,KAAM+Z,EAAsB,EAAtBA,QAAS7G,EAAa,EAAbA,OAC7BR,EAAUhD,KAEV2M,EAAe,CACpB5jB,KAAM,GACNyB,MAAO,GACPC,SAAU,GACVkF,QAAS,QAGIid,EAAiBjP,qBAAW9D,GAAlC1H,KAER,EAAwB6F,mBAAS2U,GAAjC,mBAAOxa,EAAP,KAAakG,EAAb,KACA,EAAgDL,mBAAS,IAAzD,mBAAO4S,EAAP,KAAyBiC,EAAzB,KACA,EAAwC7U,oBAAS,GAAjD,mBAAO8U,EAAP,KAAqBC,EAArB,KACA,EAAoC/U,oBAAS,GAA7C,mBAAOqD,EAAP,KAAmB2R,EAAnB,KACA,EAA6BhS,IAAtB7C,EAAP,EAAOA,QAASmC,EAAhB,EAAgBA,UAEhBlB,qBAAU,YACM,wCAAG,8FACZoK,EADY,0EAGO1M,EAAIqE,IAAJ,iBAAkBqI,IAHzB,gBAGRjM,EAHQ,EAGRA,KACRc,GAAQ,SAAAsQ,GACP,OAAO,2BAAKA,GAAcpR,MAErB0V,EAPU,UAOK1V,EAAK3F,cAPV,aAOK,EAAa2Y,KAAI,SAAAlG,GAAK,OAAIA,EAAM7K,MACrDqT,EAAoBI,GACpBD,EAAczV,EAAK8D,WAAa9D,EAAK8D,WAAa,IATlC,kDAWhBlE,EAAW,EAAD,IAXM,0DAAH,qDAef+V,KACE,CAAC1J,EAAQlT,IAEZ,IAAM6c,EAAc,WACnB9C,IACAhS,EAAQsU,IAGHS,EAAc,wCAAG,WAAMC,GAAN,2EAChB3T,EADgB,2BACA2T,GADA,IACQhS,aAAYuK,SAAUgF,IAD9B,UAGjBpH,EAHiB,gCAId1M,EAAIyM,IAAJ,iBAAkBC,GAAU9J,GAJd,6CAMd5C,EAAIgC,KAAK,SAAUY,GANL,OAQrBhC,IAAMrN,QAAQgM,IAAKsB,EAAE,sBARA,kDAUrBR,EAAW,EAAD,IAVW,QAYtBgW,IAZsB,0DAAH,sDAepB,OACC,yBAAKvQ,UAAWoG,EAAQ8I,MACvB,kBAACwB,GAAA,EAAD,CACChd,KAAMA,EACN+Z,QAAS8C,EACTnG,SAAS,KACTiE,WAAS,EACTsC,OAAO,SAEP,kBAACC,GAAA,EAAD,CAAahU,GAAG,qBACR,UAANgK,EACKnN,IAAKsB,EAAE,wBACPtB,IAAKsB,EAAE,yBAEd,kBAAC,KAAD,CACC8V,cAAetb,EACfub,oBAAoB,EACpBC,iBAAkBvB,GAClBwB,SAAU,SAACP,EAAQ1gB,GAClBoR,YAAW,WACVqP,EAAeC,GACf1gB,EAAQkhB,eAAc,KACpB,QAGH,gBAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,OAAQC,EAApB,EAAoBA,aAApB,OACA,kBAAC,KAAD,KACC,kBAACC,GAAA,EAAD,CAAeC,UAAQ,GACtB,yBAAKtR,UAAWoG,EAAQ+I,eACvB,kBAAC,KAAD,CACCoC,GAAIC,KACJxC,MAAOvV,IAAKsB,EAAE,uBACd0W,WAAS,EACTtlB,KAAK,OACLyO,MAAOsW,EAAQ/kB,MAAQulB,QAAQP,EAAOhlB,MACtCwlB,WAAYT,EAAQ/kB,MAAQglB,EAAOhlB,KACnC+b,QAAQ,WACRpE,OAAO,QACPuK,WAAS,IAEV,kBAAC,KAAD,CACCkD,GAAIC,KACJrlB,KAAK,WACL+b,QAAQ,WACRpE,OAAO,QACPkL,MAAOvV,IAAKsB,EAAE,2BACdH,MAAOsW,EAAQrjB,UAAY6jB,QAAQP,EAAOtjB,UAC1C8jB,WAAYT,EAAQrjB,UAAYsjB,EAAOtjB,SACvC4P,KAAMyS,EAAe,OAAS,WAC9B0B,WAAY,CACZC,aACC,kBAACC,GAAA,EAAD,CAAgBtO,SAAS,OACzB,kBAACmF,EAAA,EAAD,CACCsE,aAAW,6BACXzL,QAAS,kBAAM2O,GAAgB,SAAChJ,GAAD,OAAQA,OAEtC+I,EAAe,kBAAC6B,GAAA,EAAD,MAAoB,kBAAC,KAAD,SAKtC1D,WAAS,KAGX,yBAAKrO,UAAWoG,EAAQ+I,eACvB,kBAAC,KAAD,CACCoC,GAAIC,KACJxC,MAAOvV,IAAKsB,EAAE,wBACd5O,KAAK,QACLyO,MAAOsW,EAAQtjB,OAAS8jB,QAAQP,EAAOvjB,OACvC+jB,WAAYT,EAAQtjB,OAASujB,EAAOvjB,MACpCsa,QAAQ,WACRpE,OAAO,QACPuK,WAAS,IAEV,kBAACD,GAAA,EAAD,CACClG,QAAQ,WACRlI,UAAWoG,EAAQkJ,YACnBxL,OAAO,SAEP,kBAAC/E,GAAD,CACCC,KAAMgR,EAAajd,QACnBkM,QAAQ,yBACRC,IAAK,kBACJ,oCACC,kBAACoP,GAAA,EAAD,CAAY1R,GAAG,iCACbnD,IAAKsB,EAAE,2BAGT,kBAAC,KAAD,CACCwW,GAAIhD,KACJS,MAAOvV,IAAKsB,EAAE,0BACd5O,KAAK,UACL6lB,QAAQ,0BACRpV,GAAG,oBACHiT,UAAQ,GAER,kBAACZ,EAAA,EAAD,CAAU3R,MAAM,SAAhB,SACA,kBAAC2R,EAAA,EAAD,CAAU3R,MAAM,QAAhB,eAON,kBAACyB,GAAD,CACCC,KAAMgR,EAAajd,QACnBkM,QAAQ,wBACRC,IAAK,kBACJ,kBAAC,GAAD,CACC8O,iBAAkBA,EAClBC,SAAU,SAAAwC,GAAM,OAAIR,EAAoBQ,SAI3C,kBAAC1R,GAAD,CACCC,KAAMgR,EAAajd,QACnBkM,QAAQ,wBACRC,IAAK,kBAAQ3D,GACZ,kBAAC6S,GAAA,EAAD,CAAalG,QAAQ,WAAWpE,OAAO,QAAQ9D,UAAWoG,EAAQgE,SAAUiE,WAAS,GACpF,kBAACC,GAAA,EAAD,KAAa7U,IAAKsB,EAAE,4BACpB,kBAAC,KAAD,CACCwW,GAAIhD,KACJjR,MAAOmB,EACPwP,SAAU,SAAC9G,GAAD,OAAOiJ,EAAcjJ,EAAE9E,OAAO/E,QACxC0R,MAAOvV,IAAKsB,EAAE,4BAEd,kBAACkU,EAAA,EAAD,CAAU3R,MAAO,IAAjB,QACCI,EAAUiQ,KAAI,SAACvc,GAAD,OACd,kBAAC6d,EAAA,EAAD,CAAUhI,IAAK7V,EAASwL,GAAIU,MAAOlM,EAASwL,IAAKxL,EAASjF,eAOhE,kBAAC8lB,GAAA,EAAD,KACC,kBAACC,GAAA,EAAD,CACC1Q,QAAS+O,EACTxe,MAAM,YACNuE,SAAU8a,EACVlJ,QAAQ,YAEPzO,IAAKsB,EAAE,6BAET,kBAACmX,GAAA,EAAD,CACCzU,KAAK,SACL1L,MAAM,UACNuE,SAAU8a,EACVlJ,QAAQ,YACRlI,UAAWoG,EAAQgJ,YAEZ,UAANxI,EACKnN,IAAKsB,EAAE,4BACPtB,IAAKsB,EAAE,4BACZqW,GACA,kBAACe,GAAA,EAAD,CACCC,KAAM,GACNpS,UAAWoG,EAAQiJ,0B,UC5RxBjM,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtC+O,SAAU,CACTC,OAAQhP,EAAMgP,OAAOC,OAAS,EAC9BxgB,MAAO,YAaMygB,GATS,WACvB,IAAMpM,EAAUhD,KAChB,OACC,kBAACqP,GAAA,EAAD,CAAUzS,UAAWoG,EAAQiM,SAAU3e,MAAM,GAC5C,kBAACye,GAAA,EAAD,CAAkBpgB,MAAM,c,qBCarBqR,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC4L,KAAK,aACHtL,QAAS,OACTC,OAAQ,SACPP,EAAMgH,YAAYC,KAAK,MAAQ,CAC9B1G,OAAQ,uBAIZ6O,QAAS,CACP3N,aAAc,IAEhB4N,YAAa,CACX/O,QAAS,OACTI,WAAY,SACZC,eAAgB,WAChB+B,QAAS,QACT4M,UAAW,QAEbtd,OAAQ,CACNgd,OAAQhP,EAAMgP,OAAOC,OAAS,EAC9BM,WAAYvP,EAAMwP,YAAY1Y,OAAO,CAAC,QAAS,UAAW,CACxD2Y,OAAQzP,EAAMwP,YAAYC,OAAOC,MACjCC,SAAU3P,EAAMwP,YAAYG,SAASC,iBAGzCC,YAAa,CACXtO,WA7BgB,IA8BhBa,MAAM,eAAD,OA9BW,IA8BX,OACLmN,WAAYvP,EAAMwP,YAAY1Y,OAAO,CAAC,QAAS,UAAW,CACxD2Y,OAAQzP,EAAMwP,YAAYC,OAAOC,MACjCC,SAAU3P,EAAMwP,YAAYG,SAASG,kBAGzCC,WAAY,CACVzO,YAAa,IAEf0O,iBAAkB,CAChB1P,QAAS,QAEXrW,MAAO,CACLgmB,SAAU,GAEZC,YAAa,CACXhQ,SAAU,WACViQ,WAAY,SACZ/N,MAhDgB,IAiDhBmN,WAAYvP,EAAMwP,YAAY1Y,OAAO,QAAS,CAC5C2Y,OAAQzP,EAAMwP,YAAYC,OAAOC,MACjCC,SAAU3P,EAAMwP,YAAYG,SAASG,kBAGzCM,iBAAiB,aACfC,UAAW,SACXd,WAAYvP,EAAMwP,YAAY1Y,OAAO,QAAS,CAC5C2Y,OAAQzP,EAAMwP,YAAYC,OAAOC,MACjCC,SAAU3P,EAAMwP,YAAYG,SAASC,gBAEvCxN,MAAOpC,EAAM+G,QAAQ,IACpB/G,EAAMgH,YAAYsJ,GAAG,MAAQ,CAC5BlO,MAAOpC,EAAM+G,QAAQ,KAGzBwJ,aAAc,CACZjB,UAAW,QAEbpjB,QAAS,CACPiW,KAAM,EACNqO,SAAU,QAEZC,UAAW,CACTC,WAAY1Q,EAAM+G,QAAQ,GAC1B4J,cAAe3Q,EAAM+G,QAAQ,IAE/BmD,MAAO,CACLxH,QAAS1C,EAAM+G,QAAQ,GACvBzG,QAAS,OACTkQ,SAAU,OACV/P,cAAe,cAiKJmQ,GA7JQ,SAAC,GAAkB,IAAhB9W,EAAe,EAAfA,SAClBgJ,EAAUhD,KAChB,EAA0ChI,oBAAS,GAAnD,mBAAO+Y,EAAP,KAAsBC,EAAtB,KACA,EAAgChZ,mBAAS,MAAzC,mBAAO4P,EAAP,KAAiBqJ,EAAjB,KACA,EAAgCjZ,oBAAS,GAAzC,mBAAOkZ,EAAP,KAAiBC,EAAjB,KACA,EAAkCxT,qBAAW9D,GAArCD,EAAR,EAAQA,aAAczB,EAAtB,EAAsBA,QACtB,EAAoCH,oBAAS,GAA7C,mBAAOoZ,EAAP,KAAmBC,EAAnB,KACA,EAA0CrZ,mBAAS,aAAnD,mBAAOsZ,EAAP,KAAsBC,EAAtB,KACQpf,EAASwL,qBAAW9D,GAApB1H,KAERiH,qBAAU,WACJ+P,SAAS3W,KAAKgf,YAAc,KAC9BH,GAAc,KAEf,IAEHjY,qBAAU,WACJ+P,SAAS3W,KAAKgf,YAAc,IAC9BD,EAAiB,aAEjBA,EAAiB,eAElB,CAACH,IAEJ,IAKMK,EAAkB,WACtBR,EAAY,MACZE,GAAY,IAmBd,OAAIhZ,EACK,kBAAC,GAAD,MAIP,yBAAKyE,UAAWoG,EAAQ8I,MACtB,kBAAC4F,EAAA,EAAD,CACE5M,QAASwM,EACT1U,UAAWwU,EAAapO,EAAQoN,YAAcpN,EAAQsN,iBACtDtN,QAAS,CACPoH,MAAOnG,YACLjB,EAAQoN,aACPgB,GAAcpO,EAAQsN,mBAG3BhgB,KAAM8gB,GAEN,yBAAKxU,UAAWoG,EAAQuM,aAC9B,yBAAK9K,IAAKkN,KAAUC,IAAI,SAChB,kBAACrM,EAAA,EAAD,CAAYnH,QAAS,kBAAMiT,GAAeD,KACxC,kBAAC,IAAD,QAGJ,kBAAC5S,EAAA,EAAD,MACA,kBAAC8L,EAAA,EAAD,KACE,kBAAC,GAAD,CAAe5M,YA/BH,WACdyL,SAAS3W,KAAKgf,YAAc,KAC9BH,GAAc,OA+BZ,kBAAC7S,EAAA,EAAD,OAEF,kBAAC,GAAD,CACElO,KAAMygB,EACN1G,QAAS,kBAAM2G,GAAiB,IAChCxN,OAAM,OAAErR,QAAF,IAAEA,OAAF,EAAEA,EAAMqH,KAEhB,kBAACqY,EAAA,EAAD,CACEzR,SAAS,WACTxD,UAAWqH,YAAKjB,EAAQ9Q,OAAQkf,GAAcpO,EAAQ+M,aACtDphB,MAA4D,WAE5D,kBAACmjB,EAAA,EAAD,CAAShN,QAAQ,QAAQlI,UAAWoG,EAAQsM,SAC1C,kBAAC/J,EAAA,EAAD,CACEwM,KAAK,QACLpjB,MAAM,UACNkb,aAAW,cACXzL,QAAS,kBAAMiT,GAAeD,IAC9BxU,UAAWqH,YACTjB,EAAQiN,WACRmB,GAAcpO,EAAQkN,mBAGxB,kBAAC,IAAD,OAEF,kBAACtL,EAAA,EAAD,CACEvH,UAAU,KACVyH,QAAQ,KACRnW,MAAM,UACNkW,QAAM,EACNjI,UAAWoG,EAAQ7Y,OALrB,6DASCgI,EAAKqH,IAAM,kBAAC,GAAD,MAEZ,6BACE,kBAAC+L,EAAA,EAAD,CACEsE,aAAW,0BACXmI,gBAAc,cACdC,gBAAc,OACd7T,QA9FO,SAAC8T,GAClBjB,EAAYiB,EAAMC,eAClBhB,GAAY,IA6FFxiB,MAAM,WAEN,kBAAC,IAAD,OAEF,kBAACyjB,EAAA,EAAD,CACE5Y,GAAG,cACHoO,SAAUA,EACV2D,mBAAoB,KACpBvB,aAAc,CACZC,SAAU,SACVC,WAAY,SAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,SAEd5Z,KAAM4gB,EACN7G,QAASoH,GAET,kBAAC5F,EAAA,EAAD,CAAUzN,QAxGM,WAC1B4S,GAAiB,GACjBS,MAuGapb,IAAKsB,EAAE,mCAEV,kBAACkU,EAAA,EAAD,CAAUzN,QAtGI,WACxBqT,IACA7X,MAqGavD,IAAKsB,EAAE,sCAMlB,0BAAMiF,UAAWoG,EAAQ5W,SACvB,yBAAKwQ,UAAWoG,EAAQyN,eAEvBzW,GAAsB,Q,4IClQzBgG,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCmS,cAAe,CACbhQ,KAAM,EACNO,QAAS,GACTnC,OAAO,qBAGT6R,eAAgB,CACd7R,OAAQ,OACRmG,UAAW,SACXpG,QAAS,OACTG,cAAe,cAcJ4R,GAVO,SAAC,GAAkB,IAAhBvY,EAAe,EAAfA,SACjBgJ,EAAUhD,KAEhB,OACE,kBAACwS,GAAA,EAAD,CAAW5V,UAAWoG,EAAQqP,cAAerL,UAAU,GACrD,yBAAKpK,UAAWoG,EAAQsP,gBAAiBtY,KCrBzCgG,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCuS,eAAgB,CACfjS,QAAS,OACTI,WAAY,SACZgC,QAAS,uBAUI8P,GANI,SAAC,GAAkB,IAAhB1Y,EAAe,EAAfA,SACfgJ,EAAUhD,KAEhB,OAAO,yBAAKpD,UAAWoG,EAAQyP,gBAAiBzY,ICX3CgG,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCyS,yBAA0B,CACzBtQ,KAAM,OACNZ,WAAY,OACZ,QAAS,CACRf,OAAQR,EAAM+G,QAAQ,SAWV0L,GANkB,SAAC,GAAkB,IAAhB3Y,EAAe,EAAfA,SAC7BgJ,EAAUhD,KAEhB,OAAO,yBAAKpD,UAAWoG,EAAQ2P,0BAA2B3Y,ICd5C,SAAS4Y,GAAMpW,GAC7B,OACC,kBAACoI,EAAA,EAAD,CAAYE,QAAQ,KAAKnW,MAAM,UAAUkkB,cAAY,GACnDrW,EAAMxC,U,cCAJgG,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtC4S,gBAAiB,CAChBtS,QAAS,OACTI,WAAY,SACZC,eAAgB,cAyCHkS,GArCU,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC7BjQ,EAAUhD,KAChB,OACC,oCACC,kBAACkT,GAAA,EAAD,KACEF,GACA,oCACC,kBAACG,GAAA,EAAD,CAAW7O,MAAO,CAAE3C,aAAc,IACjC,kBAACyR,GAAA,EAAD,CACCC,UAAU,OACVvO,QAAQ,SACRxC,MAAO,GACP7B,OAAQ,MAGV,kBAAC0S,GAAA,EAAD,KACC,kBAACC,GAAA,EAAD,CAAUC,UAAU,OAAO5S,OAAQ,GAAI6B,MAAO,OAIhDgR,MAAMC,KAAK,CAAEvV,OAAQiV,IAAW,SAACO,EAAGC,GAAJ,OAChC,kBAACN,GAAA,EAAD,CAAWO,MAAM,SAAS7P,IAAK4P,GAC9B,yBAAK7W,UAAWoG,EAAQ8P,iBACvB,kBAACM,GAAA,EAAD,CACCM,MAAM,SACNL,UAAU,OACV5S,OAAQ,GACR6B,MAAO,a,61MCVf,IAOMtC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC4L,KAAM,CACJtL,QAAS,OACTiK,SAAU,QAGZsB,cAAe,CACbvL,QAAS,OACT,yBAA0B,CACxBgB,YAAatB,EAAM+G,QAAQ,KAI/B+E,WAAY,CACV5L,SAAU,YAGZ6L,eAAgB,CACdtd,MAAOsT,KAAM,KACb7B,SAAU,WACV0B,IAAK,MACLK,KAAM,MACN4I,WAAY,GACZtJ,YAAa,IAGfkS,WAAY,CACVnT,QAAS,OACTiK,SAAU,QAEZmJ,iBAAkB,CAChB5S,SAAU,GACVS,WAAYvB,EAAM+G,QAAQ,GAC1B8D,UAAW7K,EAAM+G,QAAQ,GACzB4M,aAAc3T,EAAM+G,QAAQ,IAE9B6M,cAAe,CACb9S,SAAU,GACVR,QAAS,OACTiB,WAAYvB,EAAM+G,QAAQ,IAE5B8M,SAAU,CACR/S,SAAU,IAEZgT,gBAAiB,CACfjJ,UAAW7K,EAAM+G,QAAQ,GACzB4M,aAAc3T,EAAM+G,QAAQ,IAE9BgN,WAAY,CACVxS,WAAYvB,EAAM+G,QAAQ,IAE5BiN,KAAM,CACJzS,WAAYvB,EAAM+G,QAAQ,GAC1BzF,YAAatB,EAAM+G,QAAQ,GAC3B8D,UAAW7K,EAAM+G,QAAQ,GACzB4M,aAAc3T,EAAM+G,QAAQ,GAC5B3E,MAAO,KAET6R,gBAAiB,CACfpJ,UAAW7K,EAAM+G,QAAQ,GACzBxF,WAAYvB,EAAM+G,QAAQ,GAC1B4M,aAAc3T,EAAM+G,QAAQ,GAC5B3E,MAAO,YAIL8R,GAAgB/H,OAAaC,MAAM,CACvCvjB,KAAMsjB,OACHE,IAAI,EAAG,cACPC,IAAI,GAAI,aACRC,SAAS,cAshBC3P,OAAMuX,MAnhBC,SAAC,GAAmC,IAAjC/jB,EAAgC,EAAhCA,KAAM+Z,EAA0B,EAA1BA,QAASvP,EAAiB,EAAjBA,WAChCkI,EAAUhD,KACV2M,EAAe,CACnB5jB,KAAM,GACN6F,gBAAiB,GACjB7B,gBAAiB,GACjBunB,WAAW,EACXtnB,eAAe,EACfC,sBAAuB,IAEzB,EAAgC+K,mBAAS2U,GAAzC,mBAAOnS,EAAP,KAAiB+Z,EAAjB,KACA,EAAgDvc,mBAAS,IAAzD,mBAAO4S,EAAP,KAAyBiC,EAAzB,KACA,EAA8C7U,oBAAS,GAAvD,mBAAOwc,EAAP,KAAwBC,EAAxB,KACA,EAAgDzc,mBAAS,IAAzD,mBAAOlJ,EAAP,KAAyB4lB,EAAzB,KACA,EAA0C1c,mBAAS,SAAnD,mBAAOjJ,EAAP,KAAsB4lB,EAAtB,KACA,EAAsC3c,mBAAS,SAA/C,mBAAOhJ,EAAP,KAAoB4lB,EAApB,KACA,EAAwD5c,mBAAS,SAAjE,mBAAO6c,EAAP,KAA6BC,EAA7B,KACA,EAAoD9c,mBAAS,SAA7D,mBAAO+c,EAAP,KAA2BC,EAA3B,KACA,EAAsBhd,oBAAS,GAA/B,mBAAOid,EAAP,KAAYC,EAAZ,KACA,EAAsBld,oBAAS,GAA/B,mBAAOmd,EAAP,KAAYC,GAAZ,KACA,GAAwBpd,oBAAS,GAAjC,qBAAOqd,GAAP,MAAaC,GAAb,MACA,GAAwBtd,oBAAS,GAAjC,qBAAOud,GAAP,MAAaC,GAAb,MACA,GAAsBxd,oBAAS,GAA/B,qBAAOyd,GAAP,MAAYC,GAAZ,MACA,GAAsB1d,oBAAS,GAA/B,qBAAO2d,GAAP,MAAYC,GAAZ,MACA,GAAsB5d,oBAAS,GAA/B,qBAAO6d,GAAP,MAAYC,GAAZ,MAEA1c,qBAAU,YACU,wCAAG,8FACd0B,EADc,0EAIMhE,EAAIqE,IAAJ,mBAAoBL,IAJ1B,gBAITvD,EAJS,EAITA,KACRgd,EAAYhd,GACZ2d,EAAO3d,EAAKtI,QACZmmB,GAAO7d,EAAKrI,SACZomB,GAAQ/d,EAAKpI,WACbqmB,GAAQje,EAAKnI,UACbsmB,GAAOne,EAAKlI,QACZumB,GAAOre,EAAKjI,UACZwmB,GAAOve,EAAKhI,QACZklB,EAAmBld,EAAKid,iBACxBE,EAAoBnd,EAAKzI,kBACzB6lB,EAAiBpd,EAAKxI,eACtB6lB,EAAerd,EAAKvI,aACpB8lB,EAAwBvd,EAAKsd,sBAC7BG,EAAsBzd,EAAKwd,oBACrBgB,EAnBW,UAmBKxe,EAAK3F,cAnBV,aAmBK,EAAa2Y,KAAI,SAAClG,GAAD,OAAWA,EAAM7K,MACxDqT,EAAoBkJ,GApBH,kDAsBjB5e,EAAW,EAAD,IAtBO,0DAAH,qDAyBlBiE,KACC,CAACN,IAEJ,IAAMkb,GAAe,SAACjS,GACG,QAAnBA,EAAE9E,OAAO/E,OACXgb,EAAOnR,EAAE9E,OAAOgX,SAEK,QAAnBlS,EAAE9E,OAAO/E,OACXkb,GAAOrR,EAAE9E,OAAOgX,SAEK,QAAnBlS,EAAE9E,OAAO/E,OACXob,GAAQvR,EAAE9E,OAAOgX,SAEI,QAAnBlS,EAAE9E,OAAO/E,OACXsb,GAAQzR,EAAE9E,OAAOgX,SAEI,QAAnBlS,EAAE9E,OAAO/E,OACXwb,GAAO3R,EAAE9E,OAAOgX,SAEK,QAAnBlS,EAAE9E,OAAO/E,OACX0b,GAAO7R,EAAE9E,OAAOgX,SAEK,QAAnBlS,EAAE9E,OAAO/E,OACX4b,GAAO/R,EAAE9E,OAAOgX,SAGK,oBAAnBlS,EAAE9E,OAAO/E,OACXua,EAAmB1Q,EAAE9E,OAAOgX,UAI1BC,GAAkB,wCAAG,WAAO7I,GAAP,2EACnB8I,EADmB,2BAEpB9I,GAFoB,IAGvBzH,SAAUgF,EACV7b,cAAeA,EACfC,YAAaA,EACbwlB,gBAAiBA,EACjB1lB,iBAAkBA,EAClB+lB,qBAAsBA,EACtBE,mBAAoBA,EACpB9lB,OAAQgmB,EACR/lB,QAASimB,EACThmB,UAAWkmB,GACXjmB,SAAUmmB,GACVlmB,OAAQomB,GACRnmB,SAAUqmB,GACVpmB,OAAQsmB,KAhBe,UAoBnB/a,EApBmB,gCAqBfhE,EAAIyM,IAAJ,oBAAqBzI,GAAcqb,GArBpB,6CAuBfrf,EAAIgC,KAAK,YAAaqd,GAvBP,OAyBvBze,IAAMrN,QAAQgM,IAAKsB,EAAE,0BACrBwV,KA1BuB,kDA4BvBhW,EAAW,EAAD,IA5Ba,0DAAH,sDAgClBgW,GAAc,WAClB9C,IACAkK,EAAY5H,IAGd,OACE,yBAAK/P,UAAWoG,EAAQ8I,MACtB,kBAACwB,GAAA,EAAD,CACEhd,KAAMA,EACN+Z,QAAS8C,GACTnG,SAAS,KACTiE,WAAS,EACTsC,OAAO,SAEP,kBAACC,GAAA,EAAD,KACG1S,EACGzE,IAAKsB,EAAE,4BACPtB,IAAKsB,EAAE,4BAEb,kBAAC,KAAD,CACE8V,cAAejT,EACfkT,oBAAoB,EACpBC,iBAAkByG,GAClBxG,SAAU,SAACP,EAAQ1gB,GACjBoR,YAAW,WACTmY,GAAmB7I,GACnB1gB,EAAQkhB,eAAc,KACrB,QAGJ,gBAAGR,EAAH,EAAGA,OAAQS,EAAX,EAAWA,QAASC,EAApB,EAAoBA,OAAQC,EAA5B,EAA4BA,aAA5B,OACC,kBAAC,KAAD,KACE,kBAACC,GAAA,EAAD,CAAeC,UAAQ,GACrB,yBAAKtR,UAAWoG,EAAQ+I,eACtB,kBAAC,KAAD,CACEoC,GAAIC,KACJxC,MAAOvV,IAAKsB,EAAE,2BACd0W,WAAS,EACTtlB,KAAK,OACLyO,MAAOsW,EAAQ/kB,MAAQulB,QAAQP,EAAOhlB,MACtCwlB,WAAYT,EAAQ/kB,MAAQglB,EAAOhlB,KACnC+b,QAAQ,WACRpE,OAAO,QACP9D,UAAWoG,EAAQoT,YAErB,kBAACC,GAAA,EAAD,CACEC,QACE,kBAAC,KAAD,CACEnI,GAAIoI,KACJ5nB,MAAM,UACN5F,KAAK,YACLktB,QAAS5I,EAAOiH,YAGpB1I,MAAOvV,IAAKsB,EAAE,iCAKlB,6BACE,kBAAC,KAAD,CACEwW,GAAIC,KACJxC,MAAOvV,IAAKsB,EAAE,mCACd0C,KAAK,kBACLmc,WAAS,EACTC,KAAM,EACNxL,WAAS,EACTliB,KAAK,kBACLyO,MACEsW,EAAQlf,iBAAmB0f,QAAQP,EAAOnf,iBAE5C2f,WACET,EAAQlf,iBAAmBmf,EAAOnf,gBAEpCkW,QAAQ,WACRpE,OAAO,WAGX,6BACE,kBAAC,KAAD,CACEyN,GAAIC,KACJxC,MAAOvV,IAAKsB,EAAE,sCACd0C,KAAK,kBACLmc,WAAS,EACTC,KAAM,EACNxL,WAAS,EACTliB,KAAK,kBACLyO,MACEsW,EAAQ/gB,iBAAmBuhB,QAAQP,EAAOhhB,iBAE5CwhB,WACET,EAAQ/gB,iBAAmBghB,EAAOhhB,gBAEpC+X,QAAQ,WACRpE,OAAO,WAIX,6BACE,kBAAC,KAAD,CACEyN,GAAIC,KACJxC,MAAM,2CACNvR,KAAK,wBACLmc,WAAS,EACTC,KAAM,EACNxL,WAAS,EACTliB,KAAK,wBACLyO,MACEsW,EAAQ7gB,uBACRqhB,QAAQP,EAAO9gB,uBAEjBshB,WACET,EAAQ7gB,uBACR8gB,EAAO9gB,sBAET6X,QAAQ,WACRpE,OAAO,WAIX,8BAGuB,IAApB8T,EACC,6BAGE,kBAACpG,GAAA,EAAD,CACExC,MAAOvV,IAAKsB,EAAE,oCACd8e,KAAM,EACND,WAAS,EACTvL,WAAS,EACTliB,KAAK,mBACLmR,MAAOpL,EACP0I,MACEsW,EAAQhf,kBACRwf,QAAQP,EAAOjf,kBAEjByf,WACET,EAAQhf,kBAAoBif,EAAOjf,iBAErCgW,QAAQ,WACRpE,OAAO,QACPmK,SAAU,SAAC9G,GAAD,OAAO2Q,EAAoB3Q,EAAE9E,OAAO/E,WAIlD,GAEF,kBAACwc,GAAA,EAAD,CAAM/F,WAAS,EAAC1J,QAAS,GACvB,kBAACyP,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIja,UAAWoG,EAAQiR,YAC5C,kBAACjJ,GAAA,EAAD,CAAa3N,UAAU,YACrB,kBAACyZ,GAAA,EAAD,CACEjN,aAAW,WACXkN,KAAG,EACHC,GAAI,CACF1U,MAAO,CACLsU,GAAI,IACJC,GAAI,IACJI,GAAI,IACJC,GAAI,IACJC,GAAI,OAIR,kBAACjT,GAAA,EAAD,CAAS/Z,MAxWrB,yTAwWsCia,UAAU,OAClC,kBAACiS,GAAA,EAAD,CACEnc,MAAM,kBACNoc,QACE,kBAACc,GAAA,EAAD,CACEpI,KAAK,QACLiH,QAASzB,EACT3J,SAAUmL,KAGdpK,MAAM,mCACNyL,eAAe,aAMJ,IAApB7C,EACC,oCACE,kBAACkC,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAACzI,GAAA,EAAD,CACExR,UAAWoG,EAAQkR,KACnB7Z,KAAK,OACLuR,MAAOvV,IAAKsB,EAAE,iCACd5O,KAAK,gBACLmR,MAAOnL,EACP8b,SAAU,SAAC9G,GAAD,OAAO4Q,EAAiB5Q,EAAE9E,OAAO/E,WAG/C,kBAACwc,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAACzI,GAAA,EAAD,CACExR,UAAWoG,EAAQkR,KACnB7Z,KAAK,OACLuR,MAAOvV,IAAKsB,EAAE,+BACd5O,KAAK,cACLmR,MAAOlL,EACP6b,SAAU,SAAC9G,GAAD,OAAO6Q,EAAe7Q,EAAE9E,OAAO/E,YAK/C,KAGiB,IAApBsa,EACC,oCACE,kBAACkC,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAIC,GAAI,GAAIja,UAAWoG,EAAQiR,YAC5C,kBAACjJ,GAAA,EAAD,CAAa3N,UAAU,YACrB,kBAACyZ,GAAA,EAAD,CACEjN,aAAW,WACXkN,KAAG,EACHC,GAAI,CACF1U,MAAO,CACLsU,GAAI,IACJC,GAAI,IACJI,GAAI,IACJC,GAAI,IACJC,GAAI,OAIR,kBAACd,GAAA,EAAD,CACEnc,MAAM,MACNoc,QACE,kBAACc,GAAA,EAAD,CACEpI,KAAK,QACLiH,QAAShB,EACTpK,SAAUmL,KAGdpK,MAAOvV,IAAKsB,EAAE,0BACd0f,eAAe,QAEjB,kBAAChB,GAAA,EAAD,CACEnc,MAAM,MACNoc,QACE,kBAACc,GAAA,EAAD,CACEpI,KAAK,QACLiH,QAASd,EACTtK,SAAUmL,KAGdpK,MAAOvV,IAAKsB,EAAE,2BACd0f,eAAe,QAEjB,kBAAChB,GAAA,EAAD,CACEnc,MAAM,MACNoc,QACE,kBAACc,GAAA,EAAD,CACEpI,KAAK,QACLiH,QAASZ,GACTxK,SAAUmL,KAGdpK,MAAOvV,IAAKsB,EAAE,6BACd0f,eAAe,QAEjB,kBAAChB,GAAA,EAAD,CACEnc,MAAM,MACNoc,QACE,kBAACc,GAAA,EAAD,CACEpI,KAAK,QACLiH,QAASV,GACT1K,SAAUmL,KAGdpK,MAAOvV,IAAKsB,EAAE,4BACd0f,eAAe,QAEjB,kBAAChB,GAAA,EAAD,CACEnc,MAAM,MACNoc,QACE,kBAACc,GAAA,EAAD,CACEpI,KAAK,QACLiH,QAASR,GACT5K,SAAUmL,KAGdpK,MAAOvV,IAAKsB,EAAE,0BACd0f,eAAe,YAOzB,IAEmB,IAApB7C,EACC,oCACE,kBAAC8C,GAAA,EAAD,KACE,kBAACZ,GAAA,EAAD,CAAM/F,WAAS,EAAC1J,QAAS,EAAG3C,MAAO,CAAEyG,UAAW,KAC9C,kBAAC2L,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAACzI,GAAA,EAAD,CACExR,UAAWoG,EAAQkR,KACnB7Z,KAAK,OACLuR,MAAOvV,IAAKsB,EAAE,iCACd5O,KAAK,uBACLmR,MAAO2a,EACPhK,SAAU,SAAC9G,GAAD,OACR+Q,EAAwB/Q,EAAE9E,OAAO/E,WAIvC,kBAACwc,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAACzI,GAAA,EAAD,CACExR,UAAWoG,EAAQkR,KACnB7Z,KAAK,OACLuR,MAAOvV,IAAKsB,EAAE,+BACd5O,KAAK,qBACLmR,MAAO6a,EACPlK,SAAU,SAAC9G,GAAD,OACRiR,EAAsBjR,EAAE9E,OAAO/E,YAKvC,kBAACwc,GAAA,EAAD,CACEC,MAAI,EACJC,GAAI,GACJC,GAAI,GACJja,UAAWoG,EAAQiR,YAEnB,kBAACjJ,GAAA,EAAD,CAAa3N,UAAU,YACrB,kBAACyZ,GAAA,EAAD,CACEjN,aAAW,WACXkN,KAAG,EACHC,GAAI,CACF1U,MAAO,CACLsU,GAAI,IACJC,GAAI,IACJI,GAAI,IACJC,GAAI,IACJC,GAAI,OAIR,kBAACd,GAAA,EAAD,CACEnc,MAAM,MACNoc,QACE,kBAACc,GAAA,EAAD,CACEpI,KAAK,QACLiH,QAASN,GACT9K,SAAUmL,KAGdpK,MAAOvV,IAAKsB,EAAE,4BACd0f,eAAe,QAEjB,kBAAChB,GAAA,EAAD,CACEnc,MAAM,MACNoc,QACE,kBAACc,GAAA,EAAD,CACEpI,KAAK,QACLiH,QAASJ,GACThL,SAAUmL,KAGdpK,MAAOvV,IAAKsB,EAAE,0BACd0f,eAAe,aAQ3B,IAIJ,kBAAC,GAAD,CACEzM,iBAAkBA,EAClBC,SAAU,SAAC0M,GAAD,OAAiB1K,EAAoB0K,OAGnD,kBAAC1I,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACE1Q,QAAS+O,GACTxe,MAAM,YACNuE,SAAU8a,EACVlJ,QAAQ,YAEPzO,IAAKsB,EAAE,iCAEV,kBAACmX,GAAA,EAAD,CACEzU,KAAK,SACL1L,MAAM,UACNuE,SAAU8a,EACVlJ,QAAQ,YACRlI,UAAWoG,EAAQgJ,YAElBlR,EACGzE,IAAKsB,EAAE,gCACPtB,IAAKsB,EAAE,+BACVqW,GACC,kBAACe,GAAA,EAAD,CACEC,KAAM,GACNpS,UAAWoG,EAAQiJ,4BCzkB1BuL,GAlCW,SAAC,GAAmD,IAAjDrtB,EAAgD,EAAhDA,MAAO6P,EAAyC,EAAzCA,SAAU1J,EAA+B,EAA/BA,KAAM+Z,EAAyB,EAAzBA,QAASoN,EAAgB,EAAhBA,UAC5D,OACC,kBAACnK,GAAA,EAAD,CACChd,KAAMA,EACN+Z,QAAS,kBAAMA,GAAQ,IACvBqN,kBAAgB,kBAEhB,kBAAClK,GAAA,EAAD,CAAahU,GAAG,kBAAkBrP,GAClC,kBAAC8jB,GAAA,EAAD,CAAeC,UAAQ,GACtB,kBAACtJ,EAAA,EAAD,KAAa5K,IAEd,kBAAC6U,GAAA,EAAD,KACC,kBAACC,GAAA,EAAD,CACChK,QAAQ,YACR1G,QAAS,kBAAMiM,GAAQ,IACvB1b,MAAM,WAEL0H,IAAKsB,EAAE,qCAET,kBAACmX,GAAA,EAAD,CACChK,QAAQ,YACR1G,QAAS,WACRiM,GAAQ,GACRoN,KAED9oB,MAAM,aAEL0H,IAAKsB,EAAE,yC,g0MC5Bb,IAsDemF,OAAMuX,MAtDD,SAAC,GAAmC,IAAjC/jB,EAAgC,EAAhCA,KAAM+Z,EAA0B,EAA1BA,QAASvP,EAAiB,EAAjBA,WACrC,EAA4B9C,mBAAS,IAArC,mBAAOvK,EAAP,KAAekqB,EAAf,KAmCA,OAjCAve,qBAAU,YACS,wCAAG,0FACf0B,EADe,0EAIIhE,EAAIqE,IAAJ,oBAAqBL,IAJzB,gBAIXvD,EAJW,EAIXA,KACRogB,EAAUpgB,EAAKxL,QALI,kDAOnBoL,EAAW,EAAD,IAPS,0DAAH,qDAUlBiE,KACE,CAACN,IAEJ1B,qBAAU,WACT,GAAK0B,EAAL,CACA,IAAMzB,EAAS3P,IAYf,OAVA2P,EAAOC,GAAG,mBAAmB,SAAA/B,GACR,WAAhBA,EAAKgC,QAAuBhC,EAAK3K,QAAQ4M,KAAOsB,GACnD6c,EAAUpgB,EAAK3K,QAAQb,QAGJ,WAAhBwL,EAAKgC,QAA+C,KAAxBhC,EAAK3K,QAAQb,QAC5Cse,OAIK,WACNhR,EAAOxN,iBAEN,CAACiP,EAAYuP,IAGf,kBAACiD,GAAA,EAAD,CAAQhd,KAAMA,EAAM+Z,QAASA,EAASrD,SAAS,KAAKuG,OAAO,SAC1D,kBAACU,GAAA,EAAD,KACC,kBAACqJ,GAAA,EAAD,CAAOM,UAAW,GACjB,kBAAChT,EAAA,EAAD,CAAYjW,MAAM,UAAUkkB,cAAY,GACtCxc,IAAKsB,EAAE,mBAERlK,EACA,kBAAC,KAAD,CAAQyM,MAAOzM,EAAQuhB,KAAM,MAE7B,2D,2yMCZN,IAAMhP,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtC2X,UAAU,aACTxV,KAAM,EACNO,QAAS1C,EAAM+G,QAAQ,GACvBL,UAAW,UACR1G,EAAM4G,iBAEVgM,gBAAiB,CAChBtS,QAAS,OACTI,WAAY,SACZC,eAAgB,UAEjBiX,QAAS,CACR9V,gBAAiB,UACjBrT,MAAO,sBACPqS,SAAUd,EAAM6X,WAAWC,QAAQ,IACnCrV,OAAQ,oBACRqE,SAAU,KAEXiR,cAAe,CACdlX,UAAW,UAEZkL,eAAgB,CACftd,MAAOsT,KAAM,UAITiW,GAAgB,SAAC,GAAkC,IAAhC/tB,EAA+B,EAA/BA,MAAOiC,EAAwB,EAAxBA,QAAS4N,EAAe,EAAfA,SAClCgJ,EAAUhD,KAEhB,OACC,kBAACkE,GAAA,EAAD,CACCC,OAAK,EACLnB,QAAS,CACR8U,QAAS9U,EAAQ8U,QACjBK,OAAQnV,EAAQiV,eAEjB9tB,MACC,kBAAC,IAAMyZ,SAAP,KACC,kBAACgB,EAAA,EAAD,CAAYiO,cAAY,EAAClkB,MAAM,WAC7BxE,GAEDiC,GAAW,kBAACwY,EAAA,EAAD,KAAaxY,KAI1B4N,IAuTWoe,GAlTK,WACnB,IAAMpV,EAAUhD,KAEhB,EAA+BrC,qBAAWrC,GAAlChB,EAAR,EAAQA,UAAWnC,EAAnB,EAAmBA,QACnB,EAAkDH,oBAAS,GAA3D,mBAAOqgB,EAAP,KAA0BC,EAA1B,KACA,EAAsCtgB,oBAAS,GAA/C,mBAAOugB,EAAP,KAAoBC,EAApB,KACA,EAAgDxgB,mBAAS,MAAzD,mBAAOygB,EAAP,KAAyBC,EAAzB,KACA,EAAgD1gB,oBAAS,GAAzD,mBAAO2gB,EAAP,KAAyBC,EAAzB,KACMC,EAAgC,CACrCtf,OAAQ,GACRpP,MAAO,GACPuD,QAAS,GACToN,WAAY,GACZxK,MAAM,GAEP,EAAgD0H,mBAC/C6gB,GADD,mBAAOC,EAAP,KAAyBC,EAAzB,KAIMC,EAA0B,wCAAG,WAAMle,GAAN,2FAE3BhE,EAAIgC,KAAJ,2BAA6BgC,IAFF,sDAIjC3D,EAAW,EAAD,IAJuB,wDAAH,sDAQ1B8hB,EAAsB,wCAAG,WAAMne,GAAN,2FAEvBhE,EAAIyM,IAAJ,2BAA4BzI,IAFL,sDAI7B3D,EAAW,EAAD,IAJmB,wDAAH,sDAatB+hB,EAA2BC,uBAAY,WAC5Cb,GAAqB,GACrBI,EAAoB,QAClB,CAACA,EAAqBJ,IAOnBc,EAAqBD,uBAAY,WACtCT,EAAoB,MACpBF,GAAe,KACb,CAACA,EAAgBE,IAOdW,EAA8B,SAAC9f,EAAQuB,GAC7B,eAAXvB,GACHwf,EAAoB,CACnBxf,OAAQA,EACRpP,MAAOkM,IAAKsB,EAAE,iDACdjK,QAAS2I,IAAKsB,EAAE,mDAChBmD,WAAYA,IAIC,WAAXvB,GACHwf,EAAoB,CACnBxf,OAAQA,EACRpP,MAAOkM,IAAKsB,EAAE,6CACdjK,QAAS2I,IAAKsB,EAAE,+CAChBmD,WAAYA,IAGd8d,GAAoB,IAGfU,EAA6B,wCAAG,kFACL,eAA5BR,EAAiBvf,OADgB,yCAG7BzC,EAAI3C,OAAJ,2BAA+B2kB,EAAiBhe,aAHnB,sDAKnC3D,EAAW,EAAD,IALyB,UASL,WAA5B2hB,EAAiBvf,OATgB,4CAW7BzC,EAAI3C,OAAJ,oBAAwB2kB,EAAiBhe,aAXZ,QAYnCpD,IAAMrN,QAAQgM,IAAKsB,EAAE,+BAZc,mDAcnCR,EAAW,EAAD,IAdyB,QAkBrC4hB,EAAoBF,GAlBiB,iEAAH,qDAqB7BU,EAAsB,SAAA/e,GAC3B,OACC,oCACsB,WAApBA,EAAShO,QACT,kBAACsiB,GAAA,EAAD,CACCE,KAAK,QACLlK,QAAQ,YACRnW,MAAM,UACNyP,QAAS,kBAjEY,SAAA5D,GACzBke,EAAoBle,GACpBge,GAAe,GA+DIgB,CAAkBhf,KAEhCnE,IAAKsB,EAAE,+BAGW,iBAApB6C,EAAShO,QACT,oCACC,kBAACsiB,GAAA,EAAD,CACCE,KAAK,QACLlK,QAAQ,WACRnW,MAAM,UACNyP,QAAS,kBAAM4a,EAA2Bxe,EAAShB,MAElDnD,IAAKsB,EAAE,iCACC,IACV,kBAACmX,GAAA,EAAD,CACCE,KAAK,QACLlK,QAAQ,WACRnW,MAAM,YACNyP,QAAS,kBAAM6a,EAAuBze,EAAShB,MAE9CnD,IAAKsB,EAAE,gCAIW,cAApB6C,EAAShO,QACU,YAApBgO,EAAShO,QACW,YAApBgO,EAAShO,SACT,kBAACsiB,GAAA,EAAD,CACCE,KAAK,QACLlK,QAAQ,WACRnW,MAAM,YACNyP,QAAS,WACRib,EAA4B,aAAc7e,EAAShB,MAGnDnD,IAAKsB,EAAE,mCAGW,YAApB6C,EAAShO,QACT,kBAACsiB,GAAA,EAAD,CAAQE,KAAK,QAAQlK,QAAQ,WAAW5R,UAAQ,EAACvE,MAAM,WACrD0H,IAAKsB,EAAE,qCA8Cb,OACC,kBAAC,GAAD,KACC,kBAAC,GAAD,CACCxN,MAAO2uB,EAAiB3uB,MACxBmG,KAAMqoB,EACNtO,QAASuO,EACTnB,UAAW6B,GAEVR,EAAiBprB,SAEnB,kBAAC,GAAD,CACC4C,KAAMioB,EACNlO,QAAS+O,EACTte,YAAaud,IAAD,OAAsBI,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAkBjf,MAErD,kBAAC,GAAD,CACClJ,KAAM+nB,EACNhO,QAAS6O,EACTpe,YAAayd,IAAD,OAAgBE,QAAhB,IAAgBA,OAAhB,EAAgBA,EAAkBjf,MAE/C,kBAAC,GAAD,KACC,kBAAC,GAAD,KAAQnD,IAAKsB,EAAE,sBACf,kBAAC,GAAD,KACC,kBAACmX,GAAA,EAAD,CACChK,QAAQ,YACRnW,MAAM,UACNyP,QA5L2B,WAC/Bsa,EAAoB,MACpBJ,GAAqB,KA4LhBjiB,IAAKsB,EAAE,8BAIX,kBAAC2f,GAAA,EAAD,CAAO1a,UAAWoG,EAAQ6U,UAAW/S,QAAQ,YAC5C,kBAAC2U,GAAA,EAAD,CAAOzK,KAAK,SACX,kBAAC0K,GAAA,EAAD,KACC,kBAACxG,GAAA,EAAD,KACC,kBAACC,GAAA,EAAD,CAAWO,MAAM,UACfrd,IAAKsB,EAAE,2BAET,kBAACwb,GAAA,EAAD,CAAWO,MAAM,UACfrd,IAAKsB,EAAE,6BAET,kBAACwb,GAAA,EAAD,CAAWO,MAAM,UACfrd,IAAKsB,EAAE,8BAET,kBAACwb,GAAA,EAAD,CAAWO,MAAM,UACfrd,IAAKsB,EAAE,iCAET,kBAACwb,GAAA,EAAD,CAAWO,MAAM,UACfrd,IAAKsB,EAAE,8BAET,kBAACwb,GAAA,EAAD,CAAWO,MAAM,UACfrd,IAAKsB,EAAE,gCAIX,kBAACgiB,GAAA,EAAD,KACExhB,EACA,kBAAC,GAAD,MAEA,qCACW,OAATmC,QAAS,IAATA,OAAA,EAAAA,EAAW0D,QAAS,GACpB1D,EAAUiQ,KAAI,SAAA/P,GAAQ,OACrB,kBAAC0Y,GAAA,EAAD,CAAUrP,IAAKrJ,EAAShB,IACvB,kBAAC2Z,GAAA,EAAD,CAAWO,MAAM,UAAUlZ,EAASzR,MACpC,kBAACoqB,GAAA,EAAD,CAAWO,MAAM,UAxGE,SAAAlZ,GAC5B,OACC,yBAAKoC,UAAWoG,EAAQ8P,iBACF,iBAApBtY,EAAShO,QACT,kBAAC,GAAD,CACCrC,MAAOkM,IAAKsB,EAAE,2CACdvL,QAASiK,IAAKsB,EAAE,8CAEhB,kBAACiiB,GAAA,EAAD,CAAuCjrB,MAAM,eAG1B,YAApB6L,EAAShO,QACT,kBAACuiB,GAAA,EAAD,CAAkBC,KAAM,GAAIpS,UAAWoG,EAAQiJ,iBAE3B,WAApBzR,EAAShO,QACT,kBAAC,GAAD,CACCrC,MAAOkM,IAAKsB,EAAE,qCACdvL,QAASiK,IAAKsB,EAAE,wCAEhB,kBAACkiB,GAAA,EAAD,OAGmB,cAApBrf,EAAShO,QACT,kBAAC,GAAD,CAAerC,MAAOkM,IAAKsB,EAAE,yCAC5B,kBAACmiB,GAAA,EAAD,CAAoBxV,MAAO,CAAE3V,MAAOsT,KAAM,UAGtB,YAApBzH,EAAShO,QAA4C,YAApBgO,EAAShO,SAC3C,kBAAC,GAAD,CACCrC,MAAOkM,IAAKsB,EAAE,sCACdvL,QAASiK,IAAKsB,EAAE,yCAEhB,kBAACoiB,GAAA,EAAD,CAAuCprB,MAAM,gBAyEtCqrB,CAAqBxf,IAEvB,kBAAC2Y,GAAA,EAAD,CAAWO,MAAM,UACf6F,EAAoB/e,IAEtB,kBAAC2Y,GAAA,EAAD,CAAWO,MAAM,UACfvO,aAAOF,aAASzK,EAASI,WAAY,mBAEvC,kBAACuY,GAAA,EAAD,CAAWO,MAAM,UACflZ,EAAS8Z,WACT,yBAAK1X,UAAWoG,EAAQ8P,iBACvB,kBAACmH,GAAA,EAAD,CAAa3V,MAAO,CAAE3V,MAAOsT,KAAM,UAItC,kBAACkR,GAAA,EAAD,CAAWO,MAAM,UAChB,kBAACnO,EAAA,EAAD,CACCyJ,KAAK,QACL5Q,QAAS,kBAlOM,SAAA5D,GAC1Bke,EAAoBle,GACpB8d,GAAqB,GAgOK4B,CAAmB1f,KAElC,kBAAC2f,GAAA,EAAD,OAGD,kBAAC5U,EAAA,EAAD,CACCyJ,KAAK,QACL5Q,QAAS,SAAA2F,GACRsV,EAA4B,SAAU7e,EAAShB,MAGhD,kBAAC4gB,GAAA,EAAD,kB,u2MC1Wb,IAAMpa,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtC4L,KAAM,CACLtL,QAAS,OACTiK,SAAU,QAEX2L,UAAW,CACV5U,YAAatB,EAAM+G,QAAQ,GAC3B5E,KAAM,GAGPgY,UAAW,CACV7Z,QAAS,OACTK,eAAgB,SAChBD,WAAY,UAGboL,WAAY,CACX5L,SAAU,YAGX6L,eAAgB,CACftd,MAAOsT,KAAM,KACb7B,SAAU,WACV0B,IAAK,MACLK,KAAM,MACN4I,WAAY,GACZtJ,YAAa,QAIT6Y,GAAgBjO,OAAaC,MAAM,CACxCvjB,KAAMsjB,OACJE,IAAI,EAAG,cACPC,IAAI,GAAI,aACRC,SAAS,YACXre,OAAQie,OAAaE,IAAI,EAAG,cAAcC,IAAI,GAAI,aAClDhiB,MAAO6hB,OAAa7hB,MAAM,mBAwNZ+vB,GArNM,SAAC,GAAyD,IAAvDjqB,EAAsD,EAAtDA,KAAM+Z,EAAgD,EAAhDA,QAASmQ,EAAuC,EAAvCA,UAAW/M,EAA4B,EAA5BA,cAAegN,EAAa,EAAbA,OAC1DzX,EAAUhD,KACVmD,EAAYC,kBAAO,GAEnBuJ,EAAe,CACpB5jB,KAAM,GACNqF,OAAQ,GACR5D,MAAO,IAGR,EAA8BwN,mBAAS2U,GAAvC,mBAAOpa,EAAP,KAAgBmoB,EAAhB,KAEAthB,qBAAU,WACT,OAAO,WACN+J,EAAUE,SAAU,KAEnB,IAEHjK,qBAAU,YACS,wCAAG,0FAChBqU,GACHiN,GAAW,SAAA/R,GACV,OAAO,2BAAKA,GAAc8E,MAIvB+M,EAPe,0EAUI1jB,EAAIqE,IAAJ,oBAAqBqf,IAVzB,gBAUXjjB,EAVW,EAUXA,KACJ4L,EAAUE,SACbqX,EAAWnjB,GAZO,kDAenBJ,EAAW,EAAD,IAfS,0DAAH,qDAmBlBwjB,KACE,CAACH,EAAWlqB,EAAMmd,IAErB,IAAMN,EAAc,WACnB9C,IACAqQ,EAAW/N,IAGNiO,EAAiB,wCAAG,WAAMvN,GAAN,uFAEpBmN,EAFoB,gCAGjB1jB,EAAIyM,IAAJ,oBAAqBiX,GAAanN,GAHjB,OAIvBF,IAJuB,uCAMArW,EAAIgC,KAAK,YAAauU,GANtB,gBAMf9V,EANe,EAMfA,KACJkjB,GACHA,EAAOljB,GAER4V,IAVuB,QAYxBzV,IAAMrN,QAAQgM,IAAKsB,EAAE,yBAZG,kDAcxBR,EAAW,EAAD,IAdc,0DAAH,sDAkBvB,OACC,yBAAKyF,UAAWoG,EAAQ8I,MACvB,kBAACwB,GAAA,EAAD,CAAQhd,KAAMA,EAAM+Z,QAAS8C,EAAanG,SAAS,KAAKuG,OAAO,SAC9D,kBAACC,GAAA,EAAD,CAAahU,GAAG,qBACL,UAATghB,EACKnkB,IAAKsB,EAAE,2BACPtB,IAAKsB,EAAE,4BAEd,kBAAC,KAAD,CACC8V,cAAelb,EACfmb,oBAAoB,EACpBC,iBAAkB2M,GAClB1M,SAAU,SAACP,EAAQ1gB,GAClBoR,YAAW,WACV6c,EAAkBvN,GAClB1gB,EAAQkhB,eAAc,KACpB,QAGH,gBAAGR,EAAH,EAAGA,OAAQU,EAAX,EAAWA,OAAQD,EAAnB,EAAmBA,QAASE,EAA5B,EAA4BA,aAA5B,OACA,kBAAC,KAAD,KACC,kBAACC,GAAA,EAAD,CAAeC,UAAQ,GACtB,kBAACtJ,EAAA,EAAD,CAAYE,QAAQ,YAAY+N,cAAY,GAC1Cxc,IAAKsB,EAAE,+BAET,kBAAC,KAAD,CACCwW,GAAIC,KACJxC,MAAOvV,IAAKsB,EAAE,0BACd5O,KAAK,OACLslB,WAAS,EACT7W,MAAOsW,EAAQ/kB,MAAQulB,QAAQP,EAAOhlB,MACtCwlB,WAAYT,EAAQ/kB,MAAQglB,EAAOhlB,KACnC+b,QAAQ,WACRpE,OAAO,QACP9D,UAAWoG,EAAQoT,YAEpB,kBAAC,KAAD,CACCjI,GAAIC,KACJxC,MAAOvV,IAAKsB,EAAE,4BACd5O,KAAK,SACLyO,MAAOsW,EAAQ1f,QAAUkgB,QAAQP,EAAO3f,QACxCmgB,WAAYT,EAAQ1f,QAAU2f,EAAO3f,OACrC8B,YAAY,gBACZ4U,QAAQ,WACRpE,OAAO,UAER,6BACC,kBAAC,KAAD,CACCyN,GAAIC,KACJxC,MAAOvV,IAAKsB,EAAE,2BACd5O,KAAK,QACLyO,MAAOsW,EAAQtjB,OAAS8jB,QAAQP,EAAOvjB,OACvC+jB,WAAYT,EAAQtjB,OAASujB,EAAOvjB,MACpC0F,YAAY,gBACZ+a,WAAS,EACTvK,OAAO,QACPoE,QAAQ,cAGV,kBAACF,EAAA,EAAD,CACCN,MAAO,CAAEuP,aAAc,EAAG9I,UAAW,IACrCjG,QAAQ,aAEPzO,IAAKsB,EAAE,gCAGT,kBAAC,KAAD,CAAY5O,KAAK,cACf,gBAAG4Q,EAAH,EAAGA,KAAMkhB,EAAT,EAASA,OAAT,OACA,oCACExN,EAAOlf,WACPkf,EAAOlf,UAAU6P,OAAS,GAC1BqP,EAAOlf,UAAUoc,KAAI,SAACuQ,EAAMrH,GAAP,OACpB,yBACC7W,UAAWoG,EAAQqX,UACnBxW,IAAG,UAAK4P,EAAL,UAEH,kBAAC,KAAD,CACCtF,GAAIC,KACJxC,MAAOvV,IAAKsB,EAAE,+BACd5O,KAAI,oBAAe0qB,EAAf,UACJ3O,QAAQ,WACRpE,OAAO,QACP9D,UAAWoG,EAAQoT,YAEpB,kBAAC,KAAD,CACCjI,GAAIC,KACJxC,MAAOvV,IAAKsB,EAAE,gCACd5O,KAAI,oBAAe0qB,EAAf,WACJ3O,QAAQ,WACRpE,OAAO,QACP9D,UAAWoG,EAAQoT,YAEpB,kBAAC7Q,EAAA,EAAD,CACCyJ,KAAK,QACL5Q,QAAS,kBAAMyc,EAAOpH,KAEtB,kBAAC,KAAD,WAIJ,yBAAK7W,UAAWoG,EAAQqX,WACvB,kBAACvL,GAAA,EAAD,CACCxK,MAAO,CAAEjC,KAAM,EAAG0I,UAAW,GAC7BjG,QAAQ,WACRnW,MAAM,UACNyP,QAAS,kBAAMzE,EAAK,CAAE5Q,KAAM,GAAImR,MAAO,OAJxC,YAMO7D,IAAKsB,EAAE,6CAOnB,kBAACkX,GAAA,EAAD,KACC,kBAACC,GAAA,EAAD,CACC1Q,QAAS+O,EACTxe,MAAM,YACNuE,SAAU8a,EACVlJ,QAAQ,YAEPzO,IAAKsB,EAAE,gCAET,kBAACmX,GAAA,EAAD,CACCzU,KAAK,SACL1L,MAAM,UACNuE,SAAU8a,EACVlJ,QAAQ,YACRlI,UAAWoG,EAAQgJ,YAET,UAATwO,EACKnkB,IAAKsB,EAAE,+BACPtB,IAAKsB,EAAE,+BACZqW,GACA,kBAACe,GAAA,EAAD,CACCC,KAAM,GACNpS,UAAWoG,EAAQiJ,0B,2yMClO9B,IAAM9R,GAAU,SAACC,EAAOb,GACtB,GAAoB,kBAAhBA,EAAOc,KAA0B,CACnC,IAAM1M,EAAW4L,EAAOgB,QAClBwgB,EAAc,GAWpB,OATAptB,EAASkS,SAAQ,SAACtN,GAChB,IAAMyoB,EAAe5gB,EAAMM,WAAU,SAACugB,GAAD,OAAOA,EAAEzhB,KAAOjH,EAAQiH,OACvC,IAAlBwhB,EACF5gB,EAAM4gB,GAAgBzoB,EAEtBwoB,EAAYphB,KAAKpH,MAIf,GAAN,mBAAW6H,GAAU2gB,GAGvB,GAAoB,oBAAhBxhB,EAAOc,KAA4B,CACrC,IAAM9H,EAAUgH,EAAOgB,QACjBygB,EAAe5gB,EAAMM,WAAU,SAACugB,GAAD,OAAOA,EAAEzhB,KAAOjH,EAAQiH,MAE7D,OAAsB,IAAlBwhB,GACF5gB,EAAM4gB,GAAgBzoB,EACf,YAAI6H,IAEL,CAAE7H,GAAR,mBAAoB6H,IAIxB,GAAoB,mBAAhBb,EAAOc,KAA2B,CACpC,IAAMmgB,EAAYjhB,EAAOgB,QAEnBygB,EAAe5gB,EAAMM,WAAU,SAACugB,GAAD,OAAOA,EAAEzhB,KAAOghB,KAIrD,OAHsB,IAAlBQ,GACF5gB,EAAMW,OAAOigB,EAAc,GAEtB,YAAI5gB,GAGb,GAAoB,UAAhBb,EAAOc,KACT,MAAO,IAIL2F,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC2X,UAAU,aACRxV,KAAM,EACNO,QAAS1C,EAAM+G,QAAQ,GACvBL,UAAW,UACR1G,EAAM4G,qBAsQEoU,GAlQE,WACf,IAAMlY,EAAUhD,KACVlI,EAAUC,cAER5F,EAASwL,qBAAW9D,GAApB1H,KAER,EAA8B6F,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAoCJ,mBAAS,GAA7C,mBAAO0N,EAAP,KAAmByV,EAAnB,KACA,EAAsCnjB,mBAAS,IAA/C,mBAAOyN,EAAP,KAAoB2V,EAApB,KACA,EAA6BngB,qBAAWd,GAAS,IAAjD,mBAAOxM,EAAP,KAAiBuN,EAAjB,KACA,EAAkDlD,mBAAS,MAA3D,mBAAOqjB,EAAP,KAA0BC,EAA1B,KACA,EAAgDtjB,oBAAS,GAAzD,mBAAOujB,EAAP,KAAyBC,EAAzB,KACA,EAA8CxjB,mBAAS,MAAvD,mBAAOyjB,EAAP,KAAwBC,EAAxB,KACA,EAAsC1jB,oBAAS,GAA/C,mBAAO2jB,EAAP,KAAoBC,EAApB,KACA,EAA8B5jB,oBAAS,GAAvC,mBAAO8N,EAAP,KAAgBC,EAAhB,KAEA3M,qBAAU,WACR8B,EAAS,CAAEb,KAAM,UACjB8gB,EAAc,KACb,CAAC1V,IAEJrM,qBAAU,WACRhB,GAAW,GACX,IAAM0F,EAAkBC,YAAW,YACd,wCAAG,gHAEKjH,EAAIqE,IAAI,aAAc,CAC3CiL,OAAQ,CAAEX,cAAaC,gBAHP,gBAEVnO,EAFU,EAEVA,KAGR2D,EAAS,CAAEb,KAAM,gBAAiBE,QAAShD,EAAK5J,WAChDoY,EAAWxO,EAAKuO,SAChB1N,GAAW,GAPO,kDASlBjB,EAAW,EAAD,IATQ,0DAAH,qDAYnB0kB,KACC,KACH,OAAO,kBAAM1d,aAAaL,MACzB,CAAC2H,EAAaC,IAEjBtM,qBAAU,WACR,IAAMC,EAAS3P,IAYf,OAVA2P,EAAOC,GAAG,WAAW,SAAC/B,GACA,WAAhBA,EAAKgC,QAAuC,WAAhBhC,EAAKgC,QACnC2B,EAAS,CAAEb,KAAM,kBAAmBE,QAAShD,EAAKhF,UAGhC,WAAhBgF,EAAKgC,QACP2B,EAAS,CAAEb,KAAM,iBAAkBE,SAAUhD,EAAKijB,eAI/C,WACLnhB,EAAOxN,gBAER,IAEH,IAcMiwB,EAAgB,wCAAG,WAAOtB,GAAP,6EAClBA,EADkB,wDAEvBpiB,GAAW,GAFY,kBAIUtB,EAAIgC,KAAK,WAAY,CAClD0hB,UAAWA,EACXhX,OAAM,OAAErR,QAAF,IAAEA,OAAF,EAAEA,EAAMqH,GACdhN,OAAQ,SAPW,gBAIP2T,EAJO,EAIb5I,KAKRO,EAAQ6B,KAAR,mBAAyBwG,EAAO3G,KATX,kDAWrBrC,EAAW,EAAD,IAXW,QAavBiB,GAAW,GAbY,0DAAH,sDAqBhB2jB,EAAmB,wCAAG,WAAOvB,GAAP,2FAElB1jB,EAAI3C,OAAJ,oBAAwBqmB,IAFN,OAGxB9iB,IAAMrN,QAAQgM,IAAKsB,EAAE,4BAHG,+CAKxBR,EAAW,EAAD,IALc,OAO1BukB,EAAmB,MACnBN,EAAe,IACfD,EAAc,GATY,yDAAH,sDAYnBa,EAAmB,wCAAG,wGAElBllB,EAAIgC,KAAK,oBAFS,OAGxBhB,EAAQmkB,GAAG,GAHa,+CAKxB9kB,EAAW,EAAD,IALc,wDAAH,qDAqBzB,OACE,kBAAC,GAAD,CAAeyF,UAAWoG,EAAQqP,eAChC,kBAAC,GAAD,CACE/hB,KAAMirB,EACNlR,QA/D0B,WAC9BiR,EAAqB,MACrBE,GAAoB,IA8DhB9D,kBAAgB,oBAChB8C,UAAWa,IAEb,kBAAC,GAAD,CACElxB,MACEsxB,EAAe,UACRplB,IAAKsB,EAAE,0CADC,YAET8jB,EAAgB1yB,KAFP,eAIRsN,IAAKsB,EAAE,4CAEhBrH,KAAMqrB,EACNtR,QAASuR,EACTnE,UAAW,SAAC1T,GAAD,OACT0X,EACIM,EAAoBN,EAAgBjiB,IACpCwiB,MAGU,UAAfP,EACMplB,IAAKsB,EAAE,4CACPtB,IAAKsB,EAAE,8CAEhB,kBAAC,GAAD,KACE,kBAAC,GAAD,KAAQtB,IAAKsB,EAAE,mBACf,kBAAC,GAAD,KACE,kBAACyW,GAAA,EAAD,CACEle,YAAamG,IAAKsB,EAAE,8BACpB0C,KAAK,SACLH,MAAOuL,EACPoF,SAvGW,SAACqH,GACpBkJ,EAAelJ,EAAMjT,OAAO/E,MAAMgiB,gBAuG1B1N,WAAY,CACV2N,eACE,kBAACzN,GAAA,EAAD,CAAgBtO,SAAS,SACvB,kBAAC,KAAD,CAAYkE,MAAO,CAAE3V,MAAO,cAKpC,kBAACmgB,GAAA,EAAD,CACEhK,QAAQ,YACRnW,MAAM,UACNyP,QAAS,SAAC2F,GAAD,OAAO6X,GAAe,KAE9BvlB,IAAKsB,EAAE,4BAEV,kBAACmX,GAAA,EAAD,CACEhK,QAAQ,YACRnW,MAAM,UACNyP,QAtHqB,WAC7Bkd,EAAqB,MACrBE,GAAoB,KAsHXnlB,IAAKsB,EAAE,2BAId,kBAAC2f,GAAA,EAAD,CACE1a,UAAWoG,EAAQ6U,UACnB/S,QAAQ,WACRsX,SAvEe,SAACrY,GACpB,GAAK+B,IAAW3N,EAAhB,CACA,MAAkD4L,EAAEoO,cAA5CkK,EAAR,EAAQA,UAAR,EAAmBC,cACCD,EAAY,KADhC,EAAiCE,cALjCpB,GAAc,SAACxS,GAAD,OAAeA,EAAY,QA4ErC,kBAAC8Q,GAAA,EAAD,CAAOzK,KAAK,SACV,kBAAC0K,GAAA,EAAD,KACE,kBAACxG,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAWvQ,QAAQ,aACnB,kBAACuQ,GAAA,EAAD,KAAY9c,IAAKsB,EAAE,wBACnB,kBAACwb,GAAA,EAAD,CAAWO,MAAM,UACdrd,IAAKsB,EAAE,4BAEV,kBAACwb,GAAA,EAAD,CAAWO,MAAM,UACdrd,IAAKsB,EAAE,yBAEV,kBAACwb,GAAA,EAAD,CAAWO,MAAM,UACdrd,IAAKsB,EAAE,6BAId,kBAACgiB,GAAA,EAAD,KACE,oCACGhsB,EAAS4c,KAAI,SAAChY,GAAD,OACZ,kBAAC2gB,GAAA,EAAD,CAAUrP,IAAKtR,EAAQiH,IACrB,kBAAC2Z,GAAA,EAAD,CAAW7O,MAAO,CAAE3C,aAAc,IAC/B,kBAAC6C,GAAA,EAAD,CAAQC,IAAKlS,EAAQmS,iBAExB,kBAACyO,GAAA,EAAD,KAAY5gB,EAAQxJ,MACpB,kBAACoqB,GAAA,EAAD,CAAWO,MAAM,UAAUnhB,EAAQnE,QACnC,kBAAC+kB,GAAA,EAAD,CAAWO,MAAM,UAAUnhB,EAAQ/H,OACnC,kBAAC2oB,GAAA,EAAD,CAAWO,MAAM,UACf,kBAACnO,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,kBAAM0d,EAAiBvpB,EAAQiH,MAExC,kBAAC,KAAD,OAEF,kBAAC+L,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,kBA1IHoc,EA0I0BjoB,EAAQiH,GAzI1D8hB,EAAqBd,QACrBgB,GAAoB,GAFG,IAAChB,IA4IN,kBAAC,KAAD,OAEF,kBAAC7e,GAAD,CACEC,KAAMzJ,EAAKxC,QACXkM,QAAQ,8BACRC,IAAK,kBACH,kBAACyJ,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,SAAC2F,GACR6X,GAAe,GACfF,EAAmBnpB,KAGrB,kBAAC,KAAD,eAOX4F,GAAW,kBAAC,GAAD,CAAkB6a,QAAM,EAACC,QAAS,U,yFCxU7CL,GARD,SAAApW,GACb,OACC,kBAACoI,EAAA,EAAD,CAAYvH,UAAU,KAAKyH,QAAQ,KAAKnW,MAAM,UAAUkkB,cAAY,GAClErW,EAAMxC,WCwFKwiB,GA5ED,WACb,IAAMtc,EAAQuc,eAER9W,EAAOvC,kBAAO,IAAI8B,MAAOwX,eACvBvsB,EAAYqV,GAAW,CAAEG,KAAMA,EAAKtC,UAApClT,QAER,EAAkC6H,mBAAS,CAC1C,CAAE2kB,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,KAZ1B,mBAAOC,EAAP,KAAkBC,EAAlB,KA8BA,OAfA1jB,qBAAU,WACT0jB,GAAa,SAAAnU,GACZ,IAAIoU,EAAG,YAAOpU,GASd,OAPAoU,EAAIld,SAAQ,SAAAD,GACXzP,EAAQ0P,SAAQ,SAAAM,GACfgF,aAAO6X,aAAY/X,aAAS9E,EAAO8c,YAAa,WAAard,EAAE+c,MAC9D/c,EAAEgd,eAIEG,OAEN,CAAC5sB,IAGH,kBAAC,IAAMyT,SAAP,KACC,kBAAC,GAAD,eAAWvN,IAAKsB,EAAE,kCAAlB,OACCxH,EAAQ6N,SAET,kBAACkf,GAAA,EAAD,KACC,kBAACC,GAAA,EAAD,CACC5lB,KAAMslB,EACNO,QAAS,GACT9a,MAAO,IACP7B,OAAQ,IACRC,OAAQ,CACPoB,IAAK,GACLU,MAAO,GACPC,OAAQ,EACRN,KAAM,KAGP,kBAACkb,GAAA,EAAD,CAAeC,gBAAgB,QAC/B,kBAACC,GAAA,EAAD,CAAOC,QAAQ,OAAOC,OAAQvd,EAAMwd,QAAQC,KAAKvY,YACjD,kBAACwY,GAAA,EAAD,CACCvjB,KAAK,SACLwjB,eAAe,EACfJ,OAAQvd,EAAMwd,QAAQC,KAAKvY,WAE3B,kBAAC0Y,GAAA,EAAD,CACCC,MAAO,IACP3d,SAAS,OACTkE,MAAO,CAAE0Z,WAAY,SAAUC,KAAM/d,EAAMwd,QAAQC,KAAKjhB,UAHzD,YAQD,kBAACwhB,GAAA,EAAD,CAAKV,QAAQ,SAASS,KAAM/d,EAAMwd,QAAQhhB,QAAQyhB,WCvEjDne,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCyQ,UAAW,CACVC,WAAY1Q,EAAM+G,QAAQ,GAC1B4J,cAAe3Q,EAAM+G,QAAQ,IAE9BmX,iBAAkB,CACjBxb,QAAS1C,EAAM+G,QAAQ,GACvBzG,QAAS,OACTkQ,SAAU,OACV/P,cAAe,SACfF,OAAQ,KAET4d,uBAAwB,CACvBzb,QAAS1C,EAAM+G,QAAQ,GACvBzG,QAAS,OACTkQ,SAAU,OACV/P,cAAe,SACfF,OAAQ,KAET6d,yBAA0B,CACzB1b,QAAS1C,EAAM+G,QAAQ,GACvBzG,QAAS,OACTkQ,SAAU,OACV/P,cAAe,SACfF,OAAQ,YA4EK8d,GAxEG,WACjB,IAAMvb,EAAUhD,KAER7N,EAASwL,qBAAW9D,GAApB1H,KACJ8a,EAAe,GAEf9a,EAAKP,QAAUO,EAAKP,OAAOoM,OAAS,IACvCiP,EAAe9a,EAAKP,OAAO2Y,KAAI,SAAAmB,GAAC,OAAIA,EAAElS,OAGvC,IAAMglB,EAAa,SAAChyB,EAAQgE,EAASqV,GAQpC,OANkBL,GAAW,CAC5BhZ,OAAQA,EACRgE,QAASA,EACTqV,mBAAoBA,EACpBD,SAAU/b,KAAKmP,UAAUiU,KAJlBhH,OAST,OACC,6BACC,kBAACuM,GAAA,EAAD,CAAWxL,SAAS,KAAKpK,UAAWoG,EAAQ2N,WAC3C,kBAAC+F,GAAA,EAAD,CAAM/F,WAAS,EAAC1J,QAAS,GACxB,kBAACyP,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACd,kBAACU,GAAA,EAAD,CAAO1a,UAAWoG,EAAQqb,uBAAwB/Z,MAAO,CAAEoM,SAAU,WACpE,kBAAC9L,EAAA,EAAD,CAAYvH,UAAU,KAAKyH,QAAQ,KAAKnW,MAAM,UAAU8vB,WAAS,GAC/DpoB,IAAKsB,EAAE,0CAET,kBAAC+e,GAAA,EAAD,CAAMC,MAAI,GACT,kBAAC/R,EAAA,EAAD,CAAYvH,UAAU,KAAKyH,QAAQ,MACjC0Z,EAAW,OAAQ,OAAQ,aAKhC,kBAAC9H,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACd,kBAACU,GAAA,EAAD,CAAO1a,UAAWoG,EAAQqb,uBAAwB/Z,MAAO,CAAEoM,SAAU,WACpE,kBAAC9L,EAAA,EAAD,CAAYvH,UAAU,KAAKyH,QAAQ,KAAKnW,MAAM,UAAU8vB,WAAS,GAC/DpoB,IAAKsB,EAAE,qCAET,kBAAC+e,GAAA,EAAD,CAAMC,MAAI,GACT,kBAAC/R,EAAA,EAAD,CAAYvH,UAAU,KAAKyH,QAAQ,MACjC0Z,EAAW,UAAW,OAAQ,aAKnC,kBAAC9H,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACd,kBAACU,GAAA,EAAD,CAAO1a,UAAWoG,EAAQqb,uBAAwB/Z,MAAO,CAAEoM,SAAU,WACpE,kBAAC9L,EAAA,EAAD,CAAYvH,UAAU,KAAKyH,QAAQ,KAAKnW,MAAM,UAAU8vB,WAAS,GAC/DpoB,IAAKsB,EAAE,oCAET,kBAAC+e,GAAA,EAAD,CAAMC,MAAI,GACT,kBAAC/R,EAAA,EAAD,CAAYvH,UAAU,KAAKyH,QAAQ,MACjC0Z,EAAW,SAAU,OAAQ,aAKlC,kBAAC9H,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACd,kBAACU,GAAA,EAAD,CAAO1a,UAAWoG,EAAQob,kBACzB,kBAAC,GAAD,Y,mDClFDM,GAAY,WAChB,OACE,kBAAC9Z,EAAA,EAAD,CAAYE,QAAQ,QAAQnW,MAAM,gBAAgB+kB,MAAM,UAAxD,SACK,IAAIxO,MAAOyZ,cACb,MACD,kBAACC,GAAA,EAAD,CAAMjwB,MAAM,UAAUkwB,KAAK,KACvBC,KADJ,QACwBC,MAEvB,MAKD/e,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCkK,MAAO,CACLW,UAAW7K,EAAM+G,QAAQ,GACzBzG,QAAS,OACTG,cAAe,SACfC,WAAY,UAEdrW,KAAM,CACJ+X,MAAO,OACPyI,UAAW7K,EAAM+G,QAAQ,IAE3Btc,OAAQ,CACN+V,OAAQR,EAAM+G,QAAQ,EAAG,EAAG,QAkFjB+X,GA9ED,WACZ,IAAMhc,EAAUhD,KAEhB,EAAwBhI,mBAAS,CAAExN,MAAO,GAAIC,SAAU,KAAxD,mBAAO0H,EAAP,KAAakG,EAAb,KACA,EAAwCL,oBAAS,GAAjD,mBAAO8U,EAAP,KAAqBC,EAArB,KAEQtT,EAAgBkE,qBAAW9D,GAA3BJ,YAEFwlB,EAAoB,SAAClb,GACzB1L,EAAQ,2BAAKlG,GAAN,kBAAa4R,EAAE9E,OAAOlW,KAAOgb,EAAE9E,OAAO/E,UAQ/C,OACE,kBAACsY,GAAA,EAAD,CAAWnV,UAAU,OAAO2J,SAAS,MACnC,kBAACkY,EAAA,EAAD,MACA,yBAAKtiB,UAAWoG,EAAQoH,OACtB,yBAAKwH,IAAI,OAAOnN,IAAK0a,OACrB,0BAAMviB,UAAWoG,EAAQzY,KAAM60B,YAAU,EAACxR,SAV5B,SAAC7J,GACnBA,EAAE0F,iBACFhQ,EAAYtH,KASN,kBAACic,GAAA,EAAD,CACEtJ,QAAQ,WACRpE,OAAO,SACP+L,UAAQ,EACRxB,WAAS,EACTzR,GAAG,QACHoS,MAAOvV,IAAKsB,EAAE,oBACd5O,KAAK,QACLmR,MAAO/H,EAAK3H,MACZqgB,SAAUoU,EACVI,aAAa,QACbhR,WAAS,IAEX,kBAACD,GAAA,EAAD,CACEtJ,QAAQ,WACRpE,OAAO,SACP+L,UAAQ,EACRxB,WAAS,EACTliB,KAAK,WACL6iB,MAAOvV,IAAKsB,EAAE,uBACd6B,GAAG,WACHU,MAAO/H,EAAK1H,SACZogB,SAAUoU,EACVI,aAAa,mBACbhlB,KAAMyS,EAAe,OAAS,WAC9B0B,WAAY,CACVC,aACE,kBAACC,GAAA,EAAD,CAAgBtO,SAAS,OACvB,kBAACmF,EAAA,EAAD,CACEsE,aAAW,6BACXzL,QAAS,kBAAM2O,GAAgB,SAAChJ,GAAD,OAAQA,OAEtC+I,EAAe,kBAAC6B,GAAA,EAAD,MAAoB,kBAAC,KAAD,WAM9C,kBAACG,GAAA,EAAD,CACEzU,KAAK,SACL4Q,WAAS,EACTnG,QAAQ,YACRnW,MAAM,UACNiO,UAAWoG,EAAQrY,QAElB0L,IAAKsB,EAAE,2BAKd,kBAAC2nB,GAAA,EAAD,CAAKC,GAAI,GAAG,kBAAC,GAAD,S,oDCzCHC,GAjFK,SAAC,GAAmD,IAAjD3U,EAAgD,EAAhDA,SAAU4U,EAAsC,EAAtCA,aAActS,EAAwB,EAAxBA,YAAa7c,EAAW,EAAXA,KAC1D,EAA0C0H,mBAASynB,GAAnD,mBAAOC,EAAP,KAAsBC,EAAtB,KA4DA,OACE,kBAACrS,GAAA,EAAD,CACEjD,QAAS8C,EACTuK,kBAAgB,sBAChBpnB,KAAMA,EACN0W,SAAS,KACT4Y,gBAAc,GAEd,kBAAC,KAAD,CACEtd,MAAO,OACPud,SAAS,OACTlxB,MAAO+wB,EACPI,OAvES,CACb,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAqBIjV,SAlBe,SAAClc,GACpBgxB,EAAiBhxB,EAAMoxB,KACvB5S,KAiBI6S,iBAAkB,SAACrxB,GAAD,OAAWkc,EAASlc,EAAMoxB,U,kDCtE9C/f,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtC2X,UAAU,aACTxV,KAAM,EACNO,QAAS1C,EAAM+G,QAAQ,GACvBL,UAAW,UACR1G,EAAM4G,iBAEVgM,gBAAiB,CAChBtS,QAAS,OACTI,WAAY,SACZC,eAAgB,UAEjBiX,QAAS,CACR9V,gBAAiB,UACjBrT,MAAO,sBACPqS,SAAUd,EAAM6X,WAAWC,QAAQ,IACnCrV,OAAQ,oBACRqE,SAAU,KAEXiR,cAAe,CACdlX,UAAW,UAEZkL,eAAgB,CACftd,MAAOsT,KAAM,UA6BAge,GAzBC,SAAC,GAAkC,IAAhC91B,EAA+B,EAA/BA,MAAOiC,EAAwB,EAAxBA,QAAS4N,EAAe,EAAfA,SAC5BgJ,EAAUhD,KAEhB,OACC,kBAACkE,GAAA,EAAD,CACCC,OAAK,EAELnB,QAAS,CACR8U,QAAS9U,EAAQ8U,QACjBK,OAAQnV,EAAQiV,eAEjB9tB,MACC,kBAAC,IAAMyZ,SAAP,KACC,kBAACgB,EAAA,EAAD,CAAYiO,cAAY,EAAClkB,MAAM,WAC7BxE,GAEDiC,GAAW,kBAACwY,EAAA,EAAD,KAAaxY,KAI1B4N,I,2yMCjCJ,IAAMkmB,GAAc7T,OAAaC,MAAM,CACrCtZ,QAASqZ,OACN8T,GACC9T,OAAaC,MAAM,CACjBvjB,KAAMsjB,OAAaE,IAAI,EAAG,aAAaE,SAAS,eAGnDA,SAAS,uBAGRzM,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCtR,gBAAiB,CACf0R,OAAQ,UACRE,QAAS,OACTI,WAAY,SACZ,yBAA0B,CACxBY,YAAatB,EAAM+G,QAAQ,KAG/BqY,IAAK,CACHhf,OAAQ,UACRM,WAAY,cAQD,SAASwf,GAAsB5jB,GAC5C,IAAMmQ,EAAe,CACnB5jB,KAAM,GACN6F,gBAAiB,GACjBoE,QAAS,IAGLgQ,EAAUhD,KAChB,EAAoClD,IAAM9E,UAAU,GAApD,mBAAOqoB,EAAP,KAAmBC,EAAnB,KACA,EAA0BxjB,IAAM9E,SAAS2U,GAAzC,mBAAO4T,EAAP,KAAcC,EAAd,KACA,EAA8B1jB,IAAM9E,UAAS,GAA7C,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAA0C0E,IAAM9E,UAAS,GAAzD,mBAAOyoB,EAAP,KAAsBC,EAAtB,KACA,EAAqC5jB,IAAM9E,SAAS,MAApD,mBAAO2oB,EAAP,KAAmBC,EAAnB,KACA,EAAwD9jB,IAAM9E,SAAS,MAAvE,mBAAO6oB,EAAP,KAA8BC,EAA9B,KACA,EAA0ChkB,IAAM9E,SAAS,MAAzD,mBAAO+oB,EAAP,KAAsBC,EAAtB,KACA,EAAgDlkB,IAAM9E,UAAS,GAA/D,mBAAO2gB,EAAP,KAAyBC,EAAzB,KAEMqI,EAAa,wCAAG,WAAO5T,GAAP,uFAEd7Q,EAAM0kB,UAFQ,gCAGVpqB,EAAIyM,IAAJ,mBAAoB/G,EAAM0kB,WAAa7T,GAH7B,6CAKVvW,EAAIgC,KAAK,WAAYuU,GALX,cAOlB3V,IAAMrN,QAAQ,0BAPI,UASKyM,EAAIqE,IAAJ,mBAAoBqB,EAAM0kB,YAT/B,iBASV3pB,EATU,EASVA,KAERipB,EAAS7T,GACT6T,EAASjpB,GACTqpB,EAAe,MACfE,EAAuB,MAEvBN,EAASjpB,GAhBS,kDAkBlBJ,EAAW,EAAD,IAlBQ,0DAAH,sDAsBnB2F,IAAM1D,WAAU,WACdhB,GAAW,GAEX,IAAM0F,EAAkBC,YAAW,YAClB,wCAAG,gHAESjH,EAAIqE,IAAJ,mBAAoBqB,EAAM0kB,YAFnC,gBAEN3pB,EAFM,EAENA,KACRipB,EAASjpB,GACTa,GAAW,GAJG,gDAMdoQ,QAAQC,IAAR,MANc,yDAAH,qDASf0Y,KACC,KACH,OAAO,kBAAMhjB,aAAaL,MACzB,CAACtB,EAAM0kB,YAEVpkB,IAAM1D,WAAU,WAEZsnB,EADEL,IAAeM,KAKlB,CAACA,EAAYN,IAEhB,IAKMe,EAAiB,wCAAG,WAAOC,GAAP,mGAEhBvqB,EAAI3C,OAAJ,mBAAuBktB,IAFP,uBAGCvqB,EAAIqE,IAAJ,mBAAoBqB,EAAM0kB,YAH3B,gBAGd3pB,EAHc,EAGdA,KACRipB,EAAS7T,GACT6T,EAASjpB,GACTqpB,EAAe,MACfE,EAAuB,MACvBN,EAASjpB,GACTG,IAAMrN,QAAQgM,IAAKsB,EAAE,gCATC,kDAWtBR,EAAW,EAAD,IAXY,QAaxB6pB,EAAiB,MAbO,0DAAH,sDAgBvB,OACE,yBAAKpkB,UAAWoG,EAAQ8I,MACtB,kBAAC,GAAD,CACE3hB,MACE42B,GAAa,UACV1qB,IAAKsB,EAAE,wCADG,YAEXopB,EAAch4B,KAFH,KAKfuH,KAAMqoB,EACNtO,QA/B+B,WACnCuO,GAAoB,GACpBoI,EAAiB,OA8BbvJ,UAAW,kBAAM2J,EAAkBL,EAAcvnB,MAEhDnD,IAAKsB,EAAE,iFAGRQ,GACA,6BACE,kBAAC,KAAD,CACEsV,cAAe8S,EACfe,kBAAkB,EAClB5T,oBAAoB,EACpBC,iBAAkBuS,GAClBqB,OAAQ,gBACNzT,EADM,EACNA,QACAC,EAFM,EAENA,OACAC,EAHM,EAGNA,aACAX,EAJM,EAINA,OAJM,EAKNmU,aALM,OAON,kBAAC,KAAD,CAAYz4B,KAAK,YACd,gBAAG4Q,EAAH,EAAGA,KAAMkhB,EAAT,EAASA,OAAT,OACC,oCACE,kBAAC4G,GAAA,EAAD,CACEC,WAAS,EACTrB,WAAYA,EACZsB,YAAY,YAEXtU,EAAOra,SACNqa,EAAOra,QAAQgL,OAAS,GACxBqP,EAAOra,QAAQuX,KAAI,SAACuQ,EAAMrH,GAAP,gBAlInBmO,EAkImB,OACjB,kBAACC,GAAA,EAAD,CACEhe,IAAG,UAAKiX,EAAKthB,GAAKshB,EAAKthB,GAAKia,EAAzB,YACHrV,QAAS,kBAAMkiB,EAAc7M,KAE7B,kBAACqO,GAAA,EAAD,CAAWje,IAAG,UAAKiX,EAAKthB,GAAV,aACXmnB,IAAelN,IAAf,UACD8M,EAAMvtB,QAAQygB,UADb,aACD,EAAsB1qB,MACpB,yBACE6T,UAAWoG,EAAQpU,gBACnBkW,QAAQ,SAEPuI,EAAOra,QAAQygB,GAAO1qB,KAEvB,kBAACwc,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,WACPwiB,EAAenN,GACfiN,GAAiB,KAGnB,kBAAC,KAAD,OAGF,kBAACnb,EAAA,EAAD,CACEnH,QAAS,WACP4iB,EAAiBlG,GACjBlC,GAAoB,IAEtB5J,KAAK,SAEL,kBAAC,KAAD,QAIJ,oCACE,kBAAC,KAAD,CACEb,GAAIC,KACJrlB,KAAI,kBAAa0qB,EAAb,UACJ3O,QAAQ,WACRnW,MAAM,UACNuE,SAAU8a,EACVK,WAAS,EACT7W,OACS,OAAPsW,QAAO,IAAPA,GAAA,UAAAA,EAAS9a,eAAT,mBAAmBygB,UAAnB,eAA2B1qB,OAC3BulB,QAAO,UAACP,EAAO/a,eAAR,iBAAC,EAAiBygB,UAAlB,aAAC,EAAyB1qB,MAEnC6T,UAAWoG,EAAQoT,YAGrB,kBAACC,GAAA,EAAD,CACEC,QACE,kBAAC,KAAD,CACEnI,GAAIoI,KACJ5nB,MAAM,UACN5F,KAAI,kBAAa0qB,EAAb,aACJwC,QACE5I,EAAOra,QAAQygB,GAAOsO,UAAW,IAIvCnW,MAAM,cAGR,kBAACrG,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,kBACPiP,EAAOra,QAAQygB,GAAO1qB,KAClBk4B,EAAc5T,GACd,MAENna,SAAU8a,GAEV,kBAAC,KAAD,OAGF,kBAACzI,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,kBAAMyc,EAAOpH,IACtBvgB,SAAU8a,GAEV,kBAAC,KAAD,SAMPyS,GAAiBF,EAAMvtB,QAAQygB,IAC9B,kBAACuO,GAAA,EAAD,KACE,oCACGnB,IAA0BpN,EACzB,yBAAK7W,UAAWoG,EAAQpU,iBACtB,kBAACgW,EAAA,EAAD,CACEjW,MAAM,gBACNmW,QAAQ,SAFV,YAOCuI,EAAOra,QAAQygB,GAAO7kB,kBAEtB,UAAC2xB,EAAMvtB,QAAQygB,UAAf,aAAC,EACE7kB,kBACF,kBAAC,GAAD,CACEzE,MAAM,oEACNiC,QAAQ,0EAER,kBAAC,KAAD,CACEuC,MAAM,YACN2V,MAAO,CAAE7C,WAAY,OACrBT,SAAS,WAKf,kBAACuE,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,kBACP0iB,EAAuBrN,KAGzB,kBAAC,KAAD,QAIJ,yBAAK7W,UAAWoG,EAAQpU,iBACtB,kBAAC,KAAD,CACEuf,GAAIC,KACJrlB,KAAI,kBAAa0qB,EAAb,qBACJ3O,QAAQ,WACRpE,OAAO,QACPuK,WAAS,EACTuL,WAAS,EACThf,MACEsW,EAAQlf,iBACR0f,QAAQP,EAAOnf,iBAEjB2f,WACET,EAAQlf,iBACRmf,EAAOnf,gBAETgO,UAAWoG,EAAQoT,YAGrB,kBAAC7Q,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,kBAAM6iB,EAAc5T,IAC7Bna,SAAU8a,GAET,IACD,kBAAC,KAAD,SAxRhB4T,EA6R0B9G,EAAKthB,GA5R9C,kBAAC4mB,GAAD,CAAuBc,UAAWU,WAmSrB,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACE1jB,QAAS,kBACPzE,EAAK,CACH5Q,UAAME,EACN2F,qBAAiB3F,MAJvB,oC,2yMC/SxB,IAAM+W,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC4L,KAAM,CACJtL,QAAS,OACTiK,SAAU,QAEZ2L,UAAW,CACT5U,YAAatB,EAAM+G,QAAQ,GAC3B5E,KAAM,GAGR2J,WAAY,CACV5L,SAAU,YAGZ6L,eAAgB,CACdtd,MAAOsT,KAAM,KACb7B,SAAU,WACV0B,IAAK,MACLK,KAAM,MACN4I,WAAY,GACZtJ,YAAa,IAEfyK,YAAa,CACXxL,OAAQR,EAAM+G,QAAQ,GACtBkF,SAAU,KAEZ8V,cAAe,CACb3f,MAAO,GACP7B,OAAQ,IAEV7R,gBAAiB,CACf0R,OAAQ,UACRE,QAAS,OACTI,WAAY,SACZ,yBAA0B,CACxBY,YAAatB,EAAM+G,QAAQ,KAG/Bib,OAAQ,CACN1hB,QAAS,OACTI,WAAY,SACZC,eAAgB,cAIdqf,GAAc7T,OAAaC,MAAM,CACrCvjB,KAAMsjB,OACHE,IAAI,EAAG,cACPC,IAAI,GAAI,aACRC,SAAS,YACZ9d,MAAO0d,OAAaE,IAAI,EAAG,cAAcC,IAAI,EAAG,aAAaC,WAC7D7d,gBAAiByd,OACjB8V,SAAU9V,OACP8T,GACC9T,OAAaC,MAAM,CACjBvjB,KAAMsjB,OAAaE,IAAI,EAAG,aAAaE,SAAS,eAGnDA,SAAS,uBAogBC2V,GAjgBI,SAAC,GAAwC,IAAtC9xB,EAAqC,EAArCA,KAAM+Z,EAA+B,EAA/BA,QAASgX,EAAsB,EAAtBA,QAASgB,EAAa,EAAbA,OACtCrf,EAAUhD,KAEV2M,EAAe,CACnB5jB,KAAM,GACN4F,MAAO,GACPC,gBAAiB,GACjBuzB,SAAU,IAGZ,EAAwDnqB,oBAAS,GAAjE,mBAAOsqB,EAAP,KAA6BC,EAA7B,KACA,EAA0BvqB,mBAAS2U,GAAnC,mBAAOtI,EAAP,KAAcme,EAAd,KACMC,EAAcrf,mBACpB,EAAoCtG,IAAM9E,SAAS,MAAnD,mBAAOqoB,EAAP,KAAmBC,EAAnB,KACA,EAA0CtoB,mBAAS,MAAnD,mBAAO+oB,EAAP,KAAsBC,EAAtB,KACA,EAAgDhpB,oBAAS,GAAzD,mBAAO2gB,EAAP,KAAyBC,EAAzB,KACA,EAA0C9b,IAAM9E,UAAS,GAAzD,mBAAOyoB,EAAP,KAAsBC,EAAtB,KACA,EAAqC5jB,IAAM9E,SAAS,MAApD,mBAAO2oB,EAAP,KAAmBC,EAAnB,KACA,EAAwD9jB,IAAM9E,SAAS,MAAvE,mBAAO6oB,EAAP,KAA8BC,EAA9B,KAEA1nB,qBAAU,WAaR,OAZA,uBAAC,0FACMioB,EADN,0EAG0BvqB,EAAIqE,IAAJ,iBAAkBkmB,IAH5C,gBAGW9pB,EAHX,EAGWA,KACRirB,GAAS,SAAC7Z,GACR,OAAO,2BAAKA,GAAcpR,MAL/B,kDAQGJ,EAAW,EAAD,IARb,yDAAD,GAYO,WACLqrB,EAAS,CACPz5B,KAAM,GACN4F,MAAO,GACPC,gBAAiB,GACjBuzB,SAAU,QAGb,CAACd,EAAS/wB,IAEb8I,qBAAU,WACRoP,QAAQC,IAAI4X,GACZ7X,QAAQC,IAAIkY,GAGVD,EADEL,IAAeM,KAKlB,CAACA,EAAYN,IAEhB,IAAMlT,EAAc,WAClB9C,IACAuW,EAAe,MACfN,EAAc,MACdQ,EAAuB,OAQnBM,EAAiB,wCAAG,WAAOsB,GAAP,mGAEhB5rB,EAAI3C,OAAJ,mBAAuBuuB,IAFP,uBAGC5rB,EAAIqE,IAAJ,iBAAkBkmB,IAHnB,gBAGd9pB,EAHc,EAGdA,KACRirB,EAAS7V,GACT6V,EAASjrB,GACTqpB,EAAe,MACfE,EAAuB,MACvBppB,IAAMrN,QAAQgM,IAAKsB,EAAE,gCARC,kDAUtBR,EAAW,EAAD,IAVY,0DAAH,sDAcjBwrB,EAAe,wCAAG,WAAOtV,GAAP,8EAEpB7E,QAAQC,IAAI4Y,IACRA,EAHgB,gCAIZvqB,EAAIyM,IAAJ,iBAAkB8d,GAAWhU,GAJjB,6CAMZvW,EAAIgC,KAAK,SAAUuU,GANP,OASpB3V,IAAMrN,QAAQ,4BACd8iB,IAVoB,kDAYpBhW,EAAW,EAAD,IAZU,0DAAH,sDA2Cd8pB,GAAa,wCAAG,WAAO5T,GAAP,2FAEfgU,EAFe,gCAGIvqB,EAAIyM,IAAJ,iBAAkB8d,GAAWhU,GAHjC,iBAGV9V,EAHU,EAGVA,MACF4qB,UAAY5qB,EAAK4qB,SAASnkB,SAC7BqkB,EAAO9qB,GACZirB,EAASjrB,IANW,wCASMT,EAAIgC,KAAK,SAAUuU,GATzB,kBAST9V,EATS,EASTA,MACC4qB,UAAY5qB,EAAK4qB,SAASnkB,SACtCwkB,EAASjrB,GACJ8qB,EAAO9qB,GACZ4V,KAboB,QAiBtByT,EAAe,MACfE,EAAuB,MACpBppB,IAAMrN,QAAQ,4BAnBK,kDAsBnB8M,EAAW,EAAD,IAtBS,0DAAH,sDA2BpB,OACE,yBAAKyF,UAAWoG,EAAQ8I,MACtB,kBAAC,GAAD,CACE3hB,MACE42B,GAAa,UACV1qB,IAAKsB,EAAE,wCADG,YAEXopB,EAAch4B,KAFH,KAKfuH,KAAMqoB,EACNtO,QAnG+B,WACnCuO,GAAoB,GACpBoI,EAAiB,OAkGbvJ,UAAW,kBAAM2J,EAAkBL,EAAcvnB,MAEhDnD,IAAKsB,EAAE,gFAEV,kBAAC2V,GAAA,EAAD,CACEtG,SAAS,KACTiE,WAAS,EACT3a,KAAMA,EACN+Z,QAAS8C,EACTI,OAAO,SAEP,kBAACC,GAAA,EAAD,KACU,UAAP6T,EACMhrB,IAAKsB,EAAE,yBACPtB,IAAKsB,EAAE,0BAEhB,kBAAC,KAAD,CACE8V,cAAepJ,EACfid,kBAAkB,EAClB5T,oBAAoB,EACpBC,iBAAkBuS,GAClBtS,SAAU,SAACP,EAAQ1gB,GACjBoR,YAAW,WACT4kB,EAAgBtV,GAChB1gB,EAAQkhB,eAAc,KACrB,QAGJ,cAAGmI,aAAH,IAAiBlI,EAAjB,EAAiBA,QAASC,EAA1B,EAA0BA,OAAQC,EAAlC,EAAkCA,aAAcX,EAAhD,EAAgDA,OAAhD,OACC,kBAAC,KAAD,KACE,kBAACY,GAAA,EAAD,CAAeC,UAAQ,GACrB,kBAAC,KAAD,CACEC,GAAIC,KACJxC,MAAOvV,IAAKsB,EAAE,wBACd0W,WAAS,EACTtlB,KAAK,OACLyO,MAAOsW,EAAQ/kB,MAAQulB,QAAQP,EAAOhlB,MACtCwlB,WAAYT,EAAQ/kB,MAAQglB,EAAOhlB,KACnC+b,QAAQ,WACRpE,OAAO,QACP9D,UAAWoG,EAAQoT,YAErB,kBAAC,KAAD,CACEjI,GAAIC,KACJxC,MAAOvV,IAAKsB,EAAE,yBACd5O,KAAK,QACLyQ,GAAG,QACHopB,QAAS,WACPL,GAAwB,GACxBE,EAAYpf,QAAQqG,SAEtBlS,MAAOsW,EAAQnf,OAAS2f,QAAQP,EAAOpf,OACvC4f,WAAYT,EAAQnf,OAASof,EAAOpf,MACpC6f,WAAY,CACV2N,eACE,kBAACzN,GAAA,EAAD,CAAgBtO,SAAS,SACvB,yBACEkE,MAAO,CAAEtC,gBAAiBqL,EAAO1e,OACjCiO,UAAWoG,EAAQif,iBAIzBxT,aACE,kBAAClJ,EAAA,EAAD,CACEyJ,KAAK,QACLrgB,MAAM,UACNyP,QAAS,kBAAMmkB,GAAwB,KAEvC,kBAACM,GAAA,EAAD,QAIN/d,QAAQ,WACRpE,OAAO,UAET,kBAAC,GAAD,CACEpQ,KAAMgyB,EACNnV,YAAa,kBAAMoV,GAAwB,IAC3C1X,SAAU,SAAClc,GACT0e,EAAO1e,MAAQA,EACf6zB,GAAS,WACP,OAAO,2BAAKnV,GAAZ,IAAoB1e,gBAI1B,6BACE,kBAAC,KAAD,CACEwf,GAAIC,KACJxC,MAAOvV,IAAKsB,EAAE,mCACd0C,KAAK,kBACLmc,WAAS,EACTsM,SAAUL,EACVM,QAAS,EACT9X,WAAS,EACTliB,KAAK,kBACLyO,MACEsW,EAAQlf,iBAAmB0f,QAAQP,EAAOnf,iBAE5C2f,WACET,EAAQlf,iBAAmBmf,EAAOnf,gBAEpCkW,QAAQ,WACRpE,OAAO,WAIX,kBAACkE,EAAA,EAAD,CAAYE,QAAQ,aAApB,eAEE,kBAAC,GAAD,CACE3a,MAAM,kDACNiC,QAAQ,wJAER,kBAAC,KAAD,CACEkY,MAAO,CAAE7C,WAAY,QACrBT,SAAS,YAKf,6BACE,kBAAC,KAAD,CAAYjY,KAAK,aACd,gBAAG4Q,EAAH,EAAGA,KAAMkhB,EAAT,EAASA,OAAT,OACC,oCACE,kBAAC4G,GAAA,EAAD,CACEC,WAAS,EACTrB,WAAYA,EACZsB,YAAY,YAEXtU,EAAO8U,UACN9U,EAAO8U,SAASnkB,OAAS,GACzBqP,EAAO8U,SAAS5X,KAAI,SAACuQ,EAAMrH,GAAP,uBAClB,kBAACoO,GAAA,EAAD,CACEhe,IAAG,UAAKiX,EAAKthB,GAAKshB,EAAKthB,GAAKia,EAAzB,aACHrV,QAAS,kBAAMkiB,EAAc7M,KAE7B,kBAACqO,GAAA,EAAD,CAAWje,IAAG,UAAKiX,EAAKthB,GAAV,cACXmnB,IAAelN,IAAf,UACDpP,EAAM8d,SAAS1O,UADd,aACD,EAAuB1qB,MACrB,yBACE6T,UAAWoG,EAAQpU,gBACnBkW,QAAQ,SAEPuI,EAAO8U,SAAS1O,GAAO1qB,KAExB,kBAACwc,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,WACPwiB,EAAenN,GACfiN,GAAiB,KAGnB,kBAAC,KAAD,OAGF,kBAACnb,EAAA,EAAD,CACEnH,QAAS,WACP4iB,EAAiBlG,GACjBlC,GAAoB,IAEtB5J,KAAK,SAEL,kBAAC,KAAD,QAIJ,oCACE,kBAAC,KAAD,CACEb,GAAIC,KACJrlB,KAAI,mBAAc0qB,EAAd,UACJ3O,QAAQ,WACRnW,MAAM,UACNuE,SAAU8a,EACVK,WAAS,EACT7W,OACS,OAAPsW,QAAO,IAAPA,GAAA,UAAAA,EAASqU,gBAAT,mBAAoB1O,UAApB,eAA4B1qB,OAC5BulB,QAAO,UACLP,EAAOoU,gBADF,iBACL,EAAkB1O,UADb,aACL,EAA0B1qB,MAG9B6T,UAAWoG,EAAQoT,YAGrB,kBAACC,GAAA,EAAD,CACEC,QACE,kBAAC,KAAD,CACEnI,GAAIoI,KACJ5nB,MAAM,UACN5F,KAAI,mBAAc0qB,EAAd,aACJwC,QACE5I,EAAO8U,SAAS1O,GAAOsO,UACvB,IAINnW,MAAM,cAGR,kBAACrG,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,kBACPiP,EAAO8U,SAAS1O,GAAO1qB,KACnBk4B,GAAc5T,GACd,MAENna,SAAU8a,GAEV,kBAAC,KAAD,OAGF,kBAACzI,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,kBAAMyc,EAAOpH,IACtBvgB,SAAU8a,GAEV,kBAAC,KAAD,SAMPyS,GAAiBpc,EAAM8d,SAAS1O,IAC/B,kBAACuO,GAAA,EAAD,KACE,oCACGnB,IAA0BpN,EACzB,yBACE7W,UAAWoG,EAAQpU,iBAEnB,kBAACgW,EAAA,EAAD,CACEjW,MAAM,gBACNmW,QAAQ,SAFV,YAQEuI,EAAO8U,SAAS1O,GACb7kB,kBAGJ,UAACyV,EAAM8d,SAAS1O,UAAhB,aAAC,EACE7kB,kBACF,kBAAC,GAAD,CACEzE,MAAM,oEACNiC,QAAQ,0EAER,kBAAC,KAAD,CACEuC,MAAM,YACN2V,MAAO,CAAE7C,WAAY,OACrBT,SAAS,WAKf,kBAACuE,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,kBACP0iB,EAAuBrN,KAGzB,kBAAC,KAAD,QAIJ,yBACE7W,UAAWoG,EAAQpU,iBAEnB,kBAAC,KAAD,CACEuf,GAAIC,KACJrlB,KAAI,mBAAc0qB,EAAd,qBACJ3O,QAAQ,WACRpE,OAAO,QACPuK,WAAS,EACTuL,WAAS,EACThf,MACEsW,EAAQlf,iBACR0f,QAAQP,EAAOnf,iBAEjB2f,WACET,EAAQlf,iBACRmf,EAAOnf,gBAETgO,UAAWoG,EAAQoT,YAGrB,kBAAC7Q,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,kBACP6iB,GAAc5T,IAEhBna,SAAU8a,GAET,IACD,kBAAC,KAAD,QAKN,kBAAC,GAAD,CAAgBkT,UAAWpG,EAAKthB,WAO5C,kBAACqoB,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACA1jB,QAAS,kBAAMzE,EAAK,CAAE5Q,KAAM,GAAImR,MAAO,OADvC,iCAYd,kBAAC2U,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACE1Q,QAAS+O,EAETja,SAAU8a,GAGT3X,IAAKsB,EAAE,8BAEV,kBAACmX,GAAA,EAAD,CACEzU,KAAK,SACL1L,MAAM,UACNuE,SAAU8a,EACVlJ,QAAQ,YACRlI,UAAWoG,EAAQgJ,YAEX,UAAPqV,EACMhrB,IAAKsB,EAAE,6BACPtB,IAAKsB,EAAE,6BACbqW,GACC,kBAACe,GAAA,EAAD,CACEC,KAAM,GACNpS,UAAWoG,EAAQiJ,0B,2yMC1jBzC,IAAMjM,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC2X,UAAW,CACTxV,KAAM,EACNO,QAAS1C,EAAM+G,QAAQ,GACvBL,UAAW,UAEbkM,gBAAiB,CACftS,QAAS,OACTI,WAAY,SACZC,eAAgB,cAId1G,GAAU,SAACC,EAAOb,GACtB,GAAoB,gBAAhBA,EAAOc,KAAwB,CACjC,IAAMzI,EAAS2H,EAAOgB,QAChByoB,EAAY,GAWlB,OATApxB,EAAOiO,SAAQ,SAACwE,GACd,IAAM4e,EAAa7oB,EAAMM,WAAU,SAACgR,GAAD,OAAOA,EAAElS,KAAO6K,EAAM7K,OACrC,IAAhBypB,EACF7oB,EAAM6oB,GAAc5e,EAEpB2e,EAAUrpB,KAAK0K,MAIb,GAAN,mBAAWjK,GAAU4oB,GAGvB,GAAoB,kBAAhBzpB,EAAOc,KAA0B,CACnC,IAAMgK,EAAQ9K,EAAOgB,QACf0oB,EAAa7oB,EAAMM,WAAU,SAACwoB,GAAD,OAAOA,EAAE1pB,KAAO6K,EAAM7K,MAEzD,OAAoB,IAAhBypB,GACF7oB,EAAM6oB,GAAc5e,EACb,YAAIjK,IAEL,CAAEiK,GAAR,mBAAkBjK,IAItB,GAAoB,iBAAhBb,EAAOc,KAAyB,CAClC,IAAMgnB,EAAU9nB,EAAOgB,QACjB0oB,EAAa7oB,EAAMM,WAAU,SAACgR,GAAD,OAAOA,EAAElS,KAAO6nB,KAInD,OAHoB,IAAhB4B,GACF7oB,EAAMW,OAAOkoB,EAAY,GAEpB,YAAI7oB,GAGb,GAAoB,UAAhBb,EAAOc,KACT,MAAO,IAyMI8oB,GArMA,WACb,IAAMngB,EAAUhD,KAEhB,EAA2B/E,qBAAWd,GAAS,IAA/C,mBAAOvI,EAAP,KAAesJ,EAAf,KACA,EAA8BlD,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KAEA,EAA4CJ,oBAAS,GAArD,mBAAOorB,EAAP,KAAuBC,EAAvB,KACA,EAA0CrrB,mBAAS,MAAnD,mBAAO+oB,EAAP,KAAsBC,EAAtB,KACA,EAAgDhpB,oBAAS,GAAzD,mBAAO2gB,EAAP,KAAyBC,EAAzB,KAEAxf,qBAAU,WACR,uBAAC,8FACChB,GAAW,GADZ,kBAG0BtB,EAAIqE,IAAI,UAHlC,gBAGW5D,EAHX,EAGWA,KACR2D,EAAS,CAAEb,KAAM,cAAeE,QAAShD,IAEzCa,GAAW,GANd,kDAQGjB,EAAW,EAAD,IACViB,GAAW,GATd,yDAAD,KAYC,IAEHgB,qBAAU,WACR,IAAM7P,EAAQM,KAAKC,MAAMN,aAAaC,QAAQ,UAExC4P,EAAS3P,IAAWN,8BAAmC,CAACO,MAAO,CAACJ,WAetE,OAdA8P,EAAOC,GAAG,WAAW,WACnBD,EAAOqP,KAAK,kBAGdrP,EAAOC,GAAG,SAAS,SAAC/B,GACE,WAAhBA,EAAKgC,QAAuC,WAAhBhC,EAAKgC,QACnC2B,EAAS,CAAEb,KAAM,gBAAiBE,QAAShD,EAAK8M,QAG9B,WAAhB9M,EAAKgC,QACP2B,EAAS,CAAEb,KAAM,eAAgBE,QAAShD,EAAK8pB,aAI5C,WACLhoB,EAAOxN,gBAER,IAEH,IAYMy3B,EAAkB,SAACjf,GACvB2c,EAAiB3c,GACjBgf,GAAkB,IAQdjC,EAAiB,wCAAG,WAAOC,GAAP,2FAEhBvqB,EAAI3C,OAAJ,iBAAqBktB,IAFL,OAGtB3pB,IAAMrN,QAAQgM,IAAKsB,EAAE,gCAHC,+CAKtBR,EAAW,EAAD,IALY,OAOxB6pB,EAAiB,MAPO,yDAAH,sDAUvB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE72B,MACE42B,GAAa,UACV1qB,IAAKsB,EAAE,wCADG,YAEXopB,EAAch4B,KAFH,KAKfuH,KAAMqoB,EACNtO,QAzB+B,WACnCuO,GAAoB,GACpBoI,EAAiB,OAwBbvJ,UAAW,kBAAM2J,EAAkBL,EAAcvnB,MAEhDnD,IAAKsB,EAAE,2CAEV,kBAAC,GAAD,CACErH,KAAM8yB,EACN/Y,QA3CwB,WAC5B7B,QAAQC,IAAI,gBACZ4a,GAAkB,GAClBrC,EAAiB,OAyCbK,QAAO,OAAEN,QAAF,IAAEA,OAAF,EAAEA,EAAevnB,GACxB6oB,OAAQ,SAACkB,GACJA,GACCxlB,YAAW,WAGTulB,EAAgBC,KAEf,QAIX,kBAAC,GAAD,KACE,kBAAC,GAAD,KAAQltB,IAAKsB,EAAE,iBACf,kBAAC,GAAD,KACE,kBAACmX,GAAA,EAAD,CACEhK,QAAQ,YACRnW,MAAM,UACNyP,QApEmB,WAC3BilB,GAAkB,GAClBrC,EAAiB,QAoER3qB,IAAKsB,EAAE,yBAId,kBAAC2f,GAAA,EAAD,CAAO1a,UAAWoG,EAAQ6U,UAAW/S,QAAQ,YAC3C,kBAAC2U,GAAA,EAAD,CAAOzK,KAAK,SACV,kBAAC0K,GAAA,EAAD,KACE,kBAACxG,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAWO,MAAM,UACdrd,IAAKsB,EAAE,sBAEV,kBAACwb,GAAA,EAAD,CAAWO,MAAM,UACdrd,IAAKsB,EAAE,uBAEV,kBAACwb,GAAA,EAAD,CAAWO,MAAM,UACdrd,IAAKsB,EAAE,0BAEV,kBAACwb,GAAA,EAAD,CAAWO,MAAM,UACdrd,IAAKsB,EAAE,2BAId,kBAACgiB,GAAA,EAAD,KACE,oCACG/nB,EAAO2Y,KAAI,SAAClG,GAAD,OACV,kBAAC6O,GAAA,EAAD,CAAUrP,IAAKQ,EAAM7K,IACnB,kBAAC2Z,GAAA,EAAD,CAAWO,MAAM,UAAUrP,EAAMtb,MACjC,kBAACoqB,GAAA,EAAD,CAAWO,MAAM,UACf,yBAAK9W,UAAWoG,EAAQ8P,iBACtB,0BACExO,MAAO,CACLtC,gBAAiBqC,EAAM1V,MACvB2T,MAAO,GACP7B,OAAQ,GACRc,UAAW,cAKnB,kBAAC4R,GAAA,EAAD,CAAWO,MAAM,UACf,yBAAK9W,UAAWoG,EAAQ8P,iBACtB,kBAAClO,EAAA,EAAD,CACEN,MAAO,CAAEhC,MAAO,IAAKoR,MAAO,UAC5B7O,QAAM,EACNC,QAAQ,SAEPT,EAAMzV,mBAIb,kBAACukB,GAAA,EAAD,CAAWO,MAAM,UACf,kBAACnO,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,kBAAMklB,EAAgBjf,KAE/B,kBAAC8V,GAAA,EAAD,OAGF,kBAAC5U,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,WACP4iB,EAAiB3c,GACjBuU,GAAoB,KAGtB,kBAACwB,GAAA,EAAD,YAKPjiB,GAAW,kBAAC,GAAD,CAAkB8a,QAAS,U,2yMC5PrD,IAAMjT,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC4L,KAAM,CACJrB,SAAU,QAEZ2L,UAAW,CACT5U,YAAatB,EAAM+G,QAAQ,GAC3B3E,MAAO,QAGT0J,WAAY,CACV5L,SAAU,YAGZ6L,eAAgB,CACdtd,MAAOsT,KAAM,KACb7B,SAAU,WACV0B,IAAK,MACLK,KAAM,MACN4I,WAAY,GACZtJ,YAAa,IAEf+hB,yBAA0B,CACxBlhB,MAAO,YAILmhB,GAAoBpX,OAAaC,MAAM,CAC3C7d,SAAU4d,OACPE,IAAI,EAAG,cACPC,IAAI,GAAI,aACRC,SAAS,YACZ/e,QAAS2e,OACNE,IAAI,EAAG,cACPC,IAAI,IAAO,aACXC,SAAS,cAqKCiX,GAlKW,SAAC,GAMpB,IALLpzB,EAKI,EALJA,KACA+Z,EAII,EAJJA,QACAsZ,EAGI,EAHJA,cACAlW,EAEI,EAFJA,cACAgN,EACI,EADJA,OAEMzX,EAAUhD,KACVmD,EAAYC,kBAAO,GAEnBuJ,EAAe,CACnBle,SAAU,GACVf,QAAS,IAGX,EAAsCsK,mBAAS2U,GAA/C,mBAAOiX,EAAP,KAAoBC,EAApB,KAEAzqB,qBAAU,WACR,OAAO,WACL+J,EAAUE,SAAU,KAErB,IAEHjK,qBAAU,YACc,wCAAG,0FACnBqU,GACFoW,GAAe,SAAClb,GACd,OAAO,2BAAKA,GAAc8E,MAIzBkW,EAPkB,0EAUE7sB,EAAIqE,IAAJ,wBAAyBwoB,IAV3B,gBAUbpsB,EAVa,EAUbA,KACJ4L,EAAUE,SACZwgB,EAAetsB,GAZI,kDAerBJ,EAAW,EAAD,IAfW,0DAAH,qDAmBtB2sB,KACC,CAACH,EAAerzB,EAAMmd,IAEzB,IAAMN,EAAc,WAClB9C,IACAwZ,EAAelX,IAGXoX,EAAqB,wCAAG,WAAO1W,GAAP,uFAEtBsW,EAFsB,gCAGlB7sB,EAAIyM,IAAJ,wBAAyBogB,GAAiBtW,GAHxB,OAIxBF,IAJwB,uCAMDrW,EAAIgC,KAAK,gBAAiBuU,GANzB,gBAMhB9V,EANgB,EAMhBA,KACJkjB,GACFA,EAAOljB,GAET4V,IAVwB,QAY1BzV,IAAMrN,QAAQgM,IAAKsB,EAAE,8BAZK,kDAc1BR,EAAW,EAAD,IAdgB,0DAAH,sDAkB3B,OACE,yBAAKyF,UAAWoG,EAAQ8I,MACtB,kBAACwB,GAAA,EAAD,CACEhd,KAAMA,EACN+Z,QAAS8C,EACTnG,SAAS,KACTiE,WAAS,EACTsC,OAAO,SAEP,kBAACC,GAAA,EAAD,CAAahU,GAAG,qBACA,UAAbmqB,EACMttB,IAAKsB,EAAE,gCACPtB,IAAKsB,EAAE,iCAEhB,kBAAC,KAAD,CACE8V,cAAemW,EACflW,oBAAoB,EACpBC,iBAAkB8V,GAClB7V,SAAU,SAACP,EAAQ1gB,GACjBoR,YAAW,WACTgmB,EAAsB1W,GACtB1gB,EAAQkhB,eAAc,KACrB,QAGJ,cAAGR,OAAH,IAAWU,EAAX,EAAWA,OAAQD,EAAnB,EAAmBA,QAASE,EAA5B,EAA4BA,aAA5B,OACC,kBAAC,KAAD,KACE,kBAACC,GAAA,EAAD,CAAeC,UAAQ,GACrB,yBAAKtR,UAAWoG,EAAQwgB,0BACtB,kBAAC,KAAD,CACErV,GAAIC,KACJxC,MAAOvV,IAAKsB,EAAE,mCACd5O,KAAK,WACLslB,WAAS,EACT7W,MAAOsW,EAAQrf,UAAY6f,QAAQP,EAAOtf,UAC1C8f,WAAYT,EAAQrf,UAAYsf,EAAOtf,SACvCqW,QAAQ,WACRpE,OAAO,QACP9D,UAAWoG,EAAQoT,UACnBnL,WAAS,KAGb,yBAAKrO,UAAWoG,EAAQwgB,0BACtB,kBAAC,KAAD,CACErV,GAAIC,KACJxC,MAAOvV,IAAKsB,EAAE,kCACd5O,KAAK,UACLyO,MAAOsW,EAAQpgB,SAAW4gB,QAAQP,EAAOrgB,SACzC6gB,WAAYT,EAAQpgB,SAAWqgB,EAAOrgB,QACtCoX,QAAQ,WACRpE,OAAO,QACP9D,UAAWoG,EAAQoT,UACnBI,WAAS,EACTC,KAAM,EACNxL,WAAS,MAIf,kBAAC4D,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACE1Q,QAAS+O,EACTxe,MAAM,YACNuE,SAAU8a,EACVlJ,QAAQ,YAEPzO,IAAKsB,EAAE,qCAEV,kBAACmX,GAAA,EAAD,CACEzU,KAAK,SACL1L,MAAM,UACNuE,SAAU8a,EACVlJ,QAAQ,YACRlI,UAAWoG,EAAQgJ,YAEL,UAAb2X,EACMttB,IAAKsB,EAAE,oCACPtB,IAAKsB,EAAE,oCACbqW,GACC,kBAACe,GAAA,EAAD,CACEC,KAAM,GACNpS,UAAWoG,EAAQiJ,0B,2yMChLzC,IAAM9R,GAAU,SAACC,EAAOb,GACtB,GAAoB,uBAAhBA,EAAOc,KAA+B,CACxC,IAAM1I,EAAe4H,EAAOgB,QACtBypB,EAAkB,GAWxB,OATAryB,EAAakO,SAAQ,SAAC+jB,GACpB,IAAMK,EAAmB7pB,EAAMM,WAAU,SAACgR,GAAD,OAAOA,EAAElS,KAAOoqB,EAAYpqB,OAC3C,IAAtByqB,EACF7pB,EAAM6pB,GAAoBL,EAE1BI,EAAgBrqB,KAAKiqB,MAInB,GAAN,mBAAWxpB,GAAU4pB,GAGvB,GAAoB,yBAAhBzqB,EAAOc,KAAiC,CAC1C,IAAMupB,EAAcrqB,EAAOgB,QACrB0pB,EAAmB7pB,EAAMM,WAAU,SAACgR,GAAD,OAAOA,EAAElS,KAAOoqB,EAAYpqB,MAErE,OAA0B,IAAtByqB,GACF7pB,EAAM6pB,GAAoBL,EACnB,YAAIxpB,IAEL,CAAEwpB,GAAR,mBAAwBxpB,IAI5B,GAAoB,yBAAhBb,EAAOc,KAAiC,CAC1C,IAAMspB,EAAgBpqB,EAAOgB,QAEvB0pB,EAAmB7pB,EAAMM,WAAU,SAACgR,GAAD,OAAOA,EAAElS,KAAOmqB,KAIzD,OAH0B,IAAtBM,GACF7pB,EAAMW,OAAOkpB,EAAkB,GAE1B,YAAI7pB,GAGb,GAAoB,UAAhBb,EAAOc,KACT,MAAO,IAIL2F,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC2X,UAAU,aACRxV,KAAM,EACNO,QAAS1C,EAAM+G,QAAQ,GACvBL,UAAW,UACR1G,EAAM4G,qBA8MEod,GA1MM,WACnB,IAAMlhB,EAAUhD,KAEhB,EAA8BhI,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAoCJ,mBAAS,GAA7C,mBAAO0N,EAAP,KAAmByV,EAAnB,KACA,EAAsCnjB,mBAAS,IAA/C,mBAAOyN,EAAP,KAAoB2V,EAApB,KACA,EAAiCngB,qBAAWd,GAAS,IAArD,mBAAOxI,EAAP,KAAqBuJ,EAArB,KACA,EAAwDlD,mBAAS,MAAjE,mBAAOmsB,EAAP,KAA6BC,EAA7B,KACA,EAA0DpsB,oBAAS,GAAnE,mBAAOqsB,EAAP,KAA8BC,EAA9B,KACA,EAAwDtsB,mBAAS,MAAjE,mBAAOusB,EAAP,KAA6BC,EAA7B,KACA,EAAgDxsB,oBAAS,GAAzD,mBAAO2gB,EAAP,KAAyBC,EAAzB,KACA,EAA8B5gB,oBAAS,GAAvC,mBAAO8N,EAAP,KAAgBC,EAAhB,KAEA3M,qBAAU,WACR8B,EAAS,CAAEb,KAAM,UACjB8gB,EAAc,KACb,CAAC1V,IAEJrM,qBAAU,WACRhB,GAAW,GACX,IAAM0F,EAAkBC,YAAW,YACV,wCAAG,gHAECjH,EAAIqE,IAAI,iBAAkB,CAC/CiL,OAAQ,CAAEX,cAAaC,gBAHH,gBAEdnO,EAFc,EAEdA,KAGR2D,EAAS,CAAEb,KAAM,qBAAsBE,QAAShD,EAAK5F,eACrDoU,EAAWxO,EAAKuO,SAChB1N,GAAW,GAPW,kDAStBjB,EAAW,EAAD,IATY,0DAAH,qDAYvBstB,KACC,KACH,OAAO,kBAAMtmB,aAAaL,MACzB,CAAC2H,EAAaC,IAEjBtM,qBAAU,WACR,IAAMC,EAAS3P,IAef,OAbA2P,EAAOC,GAAG,eAAe,SAAC/B,GACJ,WAAhBA,EAAKgC,QAAuC,WAAhBhC,EAAKgC,QACnC2B,EAAS,CAAEb,KAAM,uBAAwBE,QAAShD,EAAKqsB,cAGrC,WAAhBrsB,EAAKgC,QACP2B,EAAS,CACPb,KAAM,uBACNE,SAAUhD,EAAKosB,mBAKd,WACLtqB,EAAOxN,gBAER,IAEH,IAmBM64B,EAAwB,wCAAG,WAAOf,GAAP,2FAEvB7sB,EAAI3C,OAAJ,wBAA4BwvB,IAFL,OAG7BjsB,IAAMrN,QAAQgM,IAAKsB,EAAE,gCAHQ,+CAK7BR,EAAW,EAAD,IALmB,OAO/BqtB,EAAwB,MACxBpJ,EAAe,IACfD,EAAc,GATiB,yDAAH,sDAwB9B,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEhxB,MACEo6B,GAAoB,UACjBluB,IAAKsB,EAAE,8CADU,YAElB4sB,EAAqB91B,SAFH,KAKtB6B,KAAMqoB,EACNtO,QAASuO,EACTnB,UAAW,kBAAMiN,EAAyBH,EAAqB/qB,MAE9DnD,IAAKsB,EAAE,iDAEV,kBAAC,GAAD,CACErH,KAAM+zB,EACNha,QAnD+B,WACnC+Z,EAAwB,MACxBE,GAAyB,IAkDrB5M,kBAAgB,oBAChBiM,cAAeQ,GAAwBA,EAAqB3qB,KAE9D,kBAAC,GAAD,KACE,kBAAC,GAAD,KAAQnD,IAAKsB,EAAE,uBACf,kBAAC,GAAD,KACE,kBAACyW,GAAA,EAAD,CACEle,YAAamG,IAAKsB,EAAE,kCACpB0C,KAAK,SACLH,MAAOuL,EACPoF,SAvEW,SAACqH,GACpBkJ,EAAelJ,EAAMjT,OAAO/E,MAAMgiB,gBAuE1B1N,WAAY,CACV2N,eACE,kBAACzN,GAAA,EAAD,CAAgBtO,SAAS,SACvB,kBAAC,KAAD,CAAYkE,MAAO,CAAE3V,MAAO,cAKpC,kBAACmgB,GAAA,EAAD,CACEhK,QAAQ,YACRnW,MAAM,UACNyP,QA/E0B,WAClCgmB,EAAwB,MACxBE,GAAyB,KA+EhBjuB,IAAKsB,EAAE,+BAId,kBAAC2f,GAAA,EAAD,CACE1a,UAAWoG,EAAQ6U,UACnB/S,QAAQ,WACRsX,SAzDe,SAACrY,GACpB,GAAK+B,IAAW3N,EAAhB,CACA,MAAkD4L,EAAEoO,cAA5CkK,EAAR,EAAQA,UAAR,EAAmBC,cACCD,EAAY,KADhC,EAAiCE,cALjCpB,GAAc,SAACxS,GAAD,OAAeA,EAAY,QA8DrC,kBAAC8Q,GAAA,EAAD,CAAOzK,KAAK,SACV,kBAAC0K,GAAA,EAAD,KACE,kBAACxG,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAWO,MAAM,UACdrd,IAAKsB,EAAE,gCAEV,kBAACwb,GAAA,EAAD,CAAWO,MAAM,UACdrd,IAAKsB,EAAE,+BAEV,kBAACwb,GAAA,EAAD,CAAWO,MAAM,UACdrd,IAAKsB,EAAE,iCAId,kBAACgiB,GAAA,EAAD,KACE,oCACGhoB,EAAa4Y,KAAI,SAACqZ,GAAD,OAChB,kBAAC1Q,GAAA,EAAD,CAAUrP,IAAK+f,EAAYpqB,IACzB,kBAAC2Z,GAAA,EAAD,CAAWO,MAAM,UAAUkQ,EAAYn1B,UACvC,kBAAC0kB,GAAA,EAAD,CAAWO,MAAM,UAAUkQ,EAAYl2B,SACvC,kBAACylB,GAAA,EAAD,CAAWO,MAAM,UACf,kBAACnO,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,kBAvGE,SAACwlB,GAC9BQ,EAAwBR,GACxBU,GAAyB,GAqGQK,CAAuBf,KAEtC,kBAACzJ,GAAA,EAAD,OAGF,kBAAC5U,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,SAAC2F,GACR6U,GAAoB,GACpB4L,EAAwBZ,KAG1B,kBAACxJ,GAAA,EAAD,YAKPjiB,GAAW,kBAAC,GAAD,CAAkB8a,QAAS,U,o1MC3PrD,IAAMjT,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtC4L,KAAM,CACLtL,QAAS,OACTiK,SAAU,QAEXsB,cAAe,CACdvL,QAAS,OACT,yBAA0B,CACzBgB,YAAatB,EAAM+G,QAAQ,KAI7B+E,WAAY,CACX5L,SAAU,YAGX6L,eAAgB,CACftd,MAAOsT,KAAM,KACb7B,SAAU,WACV0B,IAAK,MACLK,KAAM,MACN4I,WAAY,GACZtJ,YAAa,IAEdyK,YAAa,CACZxL,OAAQR,EAAM+G,QAAQ,GACtBkF,SAAU,SAINyY,GAAiBvY,OAAaC,MAAM,CACzC9Z,KAAM6Z,OACJE,IAAI,EAAG,wBACPE,SAAS,kBACX+N,UAAWnO,OAAaI,SAAS,kBACjCha,OAAQ4Z,OAAaI,SAAS,oBA4MhBoY,GAzMO,SAAC,GAAkF,IAAhFv0B,EAA+E,EAA/EA,KAAM+Z,EAAyE,EAAzEA,QAASya,EAAgE,EAAhEA,WAAYtK,EAAoD,EAApDA,UAAyBuK,GAA2B,EAAzCC,aAAyC,EAA3BD,QACtE/hB,GADiG,EAAnBiiB,aACpEjlB,MACVlI,EAAUC,cACR5F,EAASwL,qBAAW9D,GAApB1H,KAEFwa,EAAe,CACpBna,KAAM,GACNgoB,UAAW,GACX/nB,OAAQyyB,OAASt5B,IAAI,EAAG,QAAQuZ,OAAO,oBACvCzS,OAAQ,IAGHyyB,EAAiB,CACtB3rB,GAAI,GACJzQ,KAAM,IAGP,EAAgCiP,mBAAS2U,GAAzC,mBAAOyY,EAAP,KAAiBC,EAAjB,KACA,EAA4CrtB,mBAASmtB,GAArD,mBAAOG,EAAP,KAAuBC,EAAvB,KACA,EAAgCvtB,mBAAS,CAACmtB,IAA1C,mBAAOx3B,EAAP,KAAiB63B,EAAjB,KAEApsB,qBAAU,WACT,GAAIohB,GAAa7sB,EAASqQ,OAAQ,CACjC,IAAMzL,EAAU5E,EAAS8d,MAAK,SAAAwP,GAAC,OAAIA,EAAEzhB,KAAOghB,KACxCjoB,GACHgzB,EAAkBhzB,MAGlB,CAACioB,EAAW7sB,IAEfyL,qBAAU,WACT,IACC,uBAAC,6GACoCtC,EAAIqE,IAAI,kBAD5C,mBACcsqB,EADd,EACQluB,KACJmuB,EAAaD,EAAYlb,KAAI,SAAC0Q,GAAD,MAAQ,CAACzhB,GAAIyhB,EAAEzhB,GAAIzQ,KAAMkyB,EAAElyB,SACxD48B,mBAAQD,IACXF,EAAY,CAAC,CAAChsB,GAAI,GAAIzQ,KAAM,KAAjB,mBAAyB28B,KAEjClL,GACH6K,GAAY,SAAA1c,GACX,OAAO,2BAAKA,GAAZ,IAAuB6R,iBAIpBsK,EAZL,kEAcuBhuB,EAAIqE,IAAJ,qBAAsB2pB,IAd7C,iBAcQvtB,EAdR,EAcQA,KACR8tB,GAAY,SAAA1c,GACX,OAAO,uCAAKA,GAAcpR,GAA1B,IAAgC9E,OAAQyyB,KAAO3tB,EAAK9E,QAAQ0S,OAAO,yBAEpEogB,EAAkBhuB,EAAKhF,SAlBvB,2CAAD,GAoBC,MAAO6E,GACRD,EAAWC,MAEV,CAAC0tB,EAAYtK,EAAWlqB,IAE3B,IAAM6c,EAAc,WACnB9C,IACAgb,EAAY1Y,IAGPiZ,EAAkB,wCAAG,WAAMvY,GAAN,2EACpBwY,EADoB,2BACAxY,GADA,IACQ7J,OAAQrR,EAAKqH,KADrB,UAGrBsrB,EAHqB,gCAIlBhuB,EAAIyM,IAAJ,qBAAsBuhB,GAAce,GAJlB,6CAMlB/uB,EAAIgC,KAAK,aAAc+sB,GANL,OAQzBnuB,IAAMrN,QAAQgM,IAAKsB,EAAE,0BACA,mBAAVotB,GACVA,IAEDQ,EAAkBJ,GAClBE,EAAY1Y,GACZ7U,EAAQ6B,KAAK,cAdY,kDAiBzBxC,EAAW,EAAD,IAjBe,QAmB1BgW,IAnB0B,0DAAH,sDAsBxB,OACC,yBAAKvQ,UAAWoG,EAAQ8I,MACvB,kBAACwB,GAAA,EAAD,CACChd,KAAMA,EACN+Z,QAAS8C,EACTnG,SAAS,KACTiE,WAAS,EACTsC,OAAO,SAEP,kBAACC,GAAA,EAAD,CAAahU,GAAG,qBACM,SAApB4rB,EAAS54B,OAAoB,gBAA7B,mBAA2Ds5B,sBAAWV,EAAS54B,UAEjF,kBAAC,KAAD,CACCihB,cAAe2X,EACf1X,oBAAoB,EACpBC,iBAAkBiX,GAClBhX,SAAU,SAACP,EAAQ1gB,GAClBoR,YAAW,WACV6nB,EAAmBvY,GACnB1gB,EAAQkhB,eAAc,KACpB,QAGH,gBAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,OAAQC,EAApB,EAAoBA,aAApB,EAAkCX,OAAlC,OACA,kBAAC,KAAD,KACC,kBAACY,GAAA,EAAD,CAAeC,UAAQ,GACtB,yBAAKtR,UAAWoG,EAAQ+I,eACvB,kBAACf,GAAA,EAAD,CACClG,QAAQ,WACRmG,WAAS,GAET,kBAAC8a,GAAA,EAAD,CACC9a,WAAS,EACT/Q,MAAOorB,EACPtyB,QAASrF,EACTkd,SAAU,SAAC9G,EAAGxR,GACb,IAAMioB,EAAYjoB,EAAUA,EAAQiH,GAAK,GACzC6rB,EAAY,2BAAKD,GAAN,IAAgB5K,eAC3B+K,EAAkBhzB,GAAoB4yB,IAEvCa,eAAgB,SAACC,GAAD,OAAYA,EAAOl9B,MACnCm9B,kBAAmB,SAACD,EAAQ/rB,GAC3B,OAAOA,EAAMV,KAAOysB,EAAOzsB,IAE5B2sB,YAAa,SAAC/f,GAAD,OAAY,kBAACgI,GAAA,EAAD,iBAAehI,EAAf,CAAuBtB,QAAQ,WAAW5U,YAAY,kBAIlF,6BACA,yBAAK0M,UAAWoG,EAAQ+I,eACvB,kBAAC,KAAD,CACCoC,GAAIC,KACJqI,KAAM,EACND,WAAW,EACX5K,MAAOvV,IAAKsB,EAAE,2BACd5O,KAAK,OACLyO,MAAOsW,EAAQtb,MAAQ8b,QAAQP,EAAOvb,MACtC+b,WAAYT,EAAQtb,MAAQub,EAAOvb,KACnCsS,QAAQ,WACRpE,OAAO,QACPuK,WAAS,KAGX,6BACA,yBAAKrO,UAAWoG,EAAQ+I,eACvB,kBAAC,KAAD,CACCoC,GAAIC,KACJxC,MAAOvV,IAAKsB,EAAE,6BACd0C,KAAK,iBACLtR,KAAK,SACLq9B,gBAAiB,CACfC,QAAQ,GAEV7uB,MAAOsW,EAAQrb,QAAU6b,QAAQP,EAAOtb,QACxC8b,WAAYT,EAAQrb,QAAUsb,EAAOtb,OACrCqS,QAAQ,WACRmG,WAAS,MAIZ,kBAAC4D,GAAA,EAAD,KACC,kBAACC,GAAA,EAAD,CACC1Q,QAAS+O,EACTxe,MAAM,YACNuE,SAAU8a,EACVlJ,QAAQ,YAEPzO,IAAKsB,EAAE,kCAEc,OAApBytB,EAAS1yB,QAAuC,KAApB0yB,EAAS1yB,SACvC,kBAACoc,GAAA,EAAD,CACCzU,KAAK,SACL1L,MAAM,UACNuE,SAAU8a,EACVlJ,QAAQ,YACRlI,UAAWoG,EAAQgJ,YAER,UAAV8Y,EACKzuB,IAAKsB,EAAE,gCACPtB,IAAKsB,EAAE,gCACZqW,GACA,kBAACe,GAAA,EAAD,CACCC,KAAM,GACNpS,UAAWoG,EAAQiJ,0B,2yMCxN/B,IAIM9R,GAAU,SAACC,EAAOb,GACtB,GAAoB,mBAAhBA,EAAOc,KAA2B,CACpC,IAAMxI,EAAY0H,EAAOgB,QACnB+rB,EAAe,GAWrB,OATAz0B,EAAUgO,SAAQ,SAACulB,GACjB,IAAMmB,EAAgBnsB,EAAMM,WAAU,SAACC,GAAD,OAAOA,EAAEnB,KAAO4rB,EAAS5rB,OACxC,IAAnB+sB,EACFnsB,EAAMmsB,GAAiBnB,EAEvBkB,EAAa3sB,KAAKyrB,MAIhB,GAAN,mBAAWhrB,GAAUksB,GAGvB,GAAoB,qBAAhB/sB,EAAOc,KAA6B,CACtC,IAAM+qB,EAAW7rB,EAAOgB,QAClBgsB,EAAgBnsB,EAAMM,WAAU,SAACC,GAAD,OAAOA,EAAEnB,KAAO4rB,EAAS5rB,MAE/D,OAAuB,IAAnB+sB,GACFnsB,EAAMmsB,GAAiBnB,EAChB,YAAIhrB,IAEL,CAAEgrB,GAAR,mBAAqBhrB,IAIzB,GAAoB,oBAAhBb,EAAOc,KAA4B,CACrC,IAAMyqB,EAAavrB,EAAOgB,QAEpBgsB,EAAgBnsB,EAAMM,WAAU,SAACC,GAAD,OAAOA,EAAEnB,KAAOsrB,KAItD,OAHuB,IAAnByB,GACFnsB,EAAMW,OAAOwrB,EAAe,GAEvB,YAAInsB,GAGb,GAAoB,UAAhBb,EAAOc,KACT,MAAO,IAIL2F,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC2X,UAAU,aACRxV,KAAM,EACNO,QAAS1C,EAAM+G,QAAQ,GACvBL,UAAW,UACR1G,EAAM4G,qBAoOE0f,GAhOG,WAChB,IA1DmBC,EA0DbzjB,EAAUhD,KAEhB,EAA8BhI,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAoCJ,mBAAS,GAA7C,mBAAO0N,EAAP,KAAmByV,EAAnB,KACA,EAA8BnjB,oBAAS,GAAvC,mBAAO8N,EAAP,KAAgBC,EAAhB,KACA,EAAgD/N,mBAAS,MAAzD,mBAAO0uB,EAAP,KAAyBC,EAAzB,KACA,EAAgD3uB,mBAAS,MAAzD,mBAAO4uB,EAAP,KAAyBC,EAAzB,KACA,EAAgD7uB,oBAAS,GAAzD,mBAAO2gB,EAAP,KAAyBC,EAAzB,KACA,EAAsC5gB,mBAAS,IAA/C,mBAAOyN,EAAP,KAAoB2V,EAApB,KACA,EAA8BngB,qBAAWd,GAAS,IAAlD,mBAAOtI,EAAP,KAAkBqJ,EAAlB,KACA,EAAkDlD,oBAAS,GAA3D,mBAAO8uB,EAAP,KAA0BC,EAA1B,KACA,EAAkC/uB,oBArEfyuB,EAqEqC,aApEhD,IAAIO,gBAAgB99B,OAAOse,SAASjX,QAAS4K,IAAIsrB,KAoEzD,mBAAOjM,EAAP,KAAkByK,EAAlB,KAEMgC,EAAiB9N,sBAAW,uBAAC,gHAERriB,EAAIqE,IAAI,cAAe,CAC5CiL,OAAQ,CAAEX,cAAaC,gBAHM,gBAEvBnO,EAFuB,EAEvBA,KAGR2D,EAAS,CAAEb,KAAM,iBAAkBE,QAAShD,EAAK1F,YACjDkU,EAAWxO,EAAKuO,SAChBmf,EAAa,MACb7sB,GAAW,GARoB,kDAU/BjB,EAAW,EAAD,IAVqB,0DAYhC,CAACsO,EAAaC,IAEXwhB,EAAuC/N,uBAAY,WACnDqB,GACF2M,OAED,CAAC3M,IAEJphB,qBAAU,WACR8B,EAAS,CAAEb,KAAM,UACjB8gB,EAAc,KACb,CAAC1V,IAEJrM,qBAAU,WACRhB,GAAW,GACX,IAAM0F,EAAkBC,YAAW,WACjCkpB,MACC,KACH,OAAO,kBAAM9oB,aAAaL,MACzB,CAAC2H,EAAaC,EAAY8U,EAAWyM,EAAgBC,IAExD9tB,qBAAU,WACR8tB,IACA,IAAM7tB,EAAS3P,IAAWN,+BAY1B,OAVAiQ,EAAOC,GAAG,QAAQ,SAAC/B,GACG,WAAhBA,EAAKgC,QAAuC,WAAhBhC,EAAKgC,QACnC2B,EAAS,CAAEb,KAAM,mBAAoBE,QAAShD,EAAK1F,YAGjC,WAAhB0F,EAAKgC,QACP2B,EAAS,CAAEb,KAAM,cAAeE,SAAUhD,EAAKutB,gBAI5C,WACLzrB,EAAOxN,gBAER,CAACq7B,IAEJ,IAIMC,GAA0B,WAC9BR,EAAoB,MACpBI,GAAqB,IAiBjBK,GAAoB,wCAAG,WAAOtC,GAAP,2FAEnBhuB,EAAI3C,OAAJ,qBAAyB2wB,IAFN,OAGzBptB,IAAMrN,QAAQgM,IAAKsB,EAAE,6BAHI,+CAKzBR,EAAW,EAAD,IALe,cAO3B0vB,EAAoB,MACpBzL,EAAe,IACfD,EAAc,GAEdjgB,EAAS,CAAEb,KAAM,UACjB8gB,EAAc,GAZa,UAarB8L,IAbqB,yDAAH,sDAmC1B,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE98B,MACEy8B,GAAgB,UACbvwB,IAAKsB,EAAE,4CAEZrH,KAAMqoB,EACNtO,QAASuO,EACTnB,UAAW,kBAAM2P,GAAqBR,EAAiBptB,MAEtDnD,IAAKsB,EAAE,8CAEV,kBAAC,GAAD,CACErH,KAAMw2B,EACNzc,QAhE2B,WAC/Bsc,EAAoB,MACpBI,GAAqB,IA+DjBhC,OAAQkC,EACRvP,kBAAgB,oBAChBoN,WAAY4B,GAAoBA,EAAiBltB,GACjDghB,UAAWA,EACXwK,aA9Ee,WACnBC,EAAa,OA8ETA,aAAcA,IAEhB,kBAAC,GAAD,KACE,kBAAC,GAAD,KAAQ5uB,IAAKsB,EAAE,oBACf,kBAAC,GAAD,KACE,kBAACyW,GAAA,EAAD,CACEle,YAAamG,IAAKsB,EAAE,8BACpB0C,KAAK,SACLH,MAAOuL,EACPoF,SA1EW,SAACqH,GACpBkJ,EAAelJ,EAAMjT,OAAO/E,MAAMgiB,gBA0E1B1N,WAAY,CACV2N,eACE,kBAACzN,GAAA,EAAD,CAAgBtO,SAAS,SACvB,kBAAC,KAAD,CAAYkE,MAAO,CAAE3V,MAAO,cAKpC,kBAACmgB,GAAA,EAAD,CACEhK,QAAQ,YACRnW,MAAM,UACNyP,QAAS+oB,IAER9wB,IAAKsB,EAAE,4BAId,kBAAC2f,GAAA,EAAD,CACE1a,UAAWoG,EAAQ6U,UACnB/S,QAAQ,WACRsX,SAlEe,SAACrY,GACpB,GAAK+B,IAAW3N,EAAhB,CACA,MAAkD4L,EAAEoO,cAA5CkK,EAAR,EAAQA,UAAR,EAAmBC,cACCD,EAAY,KADhC,EAAiCE,cALjCpB,GAAc,SAACxS,GAAD,OAAeA,EAAY,QAuErC,kBAAC8Q,GAAA,EAAD,CAAOzK,KAAK,SACV,kBAAC0K,GAAA,EAAD,KACE,kBAACxG,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAWO,MAAM,UAAUrd,IAAKsB,EAAE,4BAClC,kBAACwb,GAAA,EAAD,CAAWO,MAAM,UAAUrd,IAAKsB,EAAE,yBAClC,kBAACwb,GAAA,EAAD,CAAWO,MAAM,UAAUrd,IAAKsB,EAAE,2BAClC,kBAACwb,GAAA,EAAD,CAAWO,MAAM,UAAUrd,IAAKsB,EAAE,2BAClC,kBAACwb,GAAA,EAAD,CAAWO,MAAM,UAAUrd,IAAKsB,EAAE,8BAGtC,kBAACgiB,GAAA,EAAD,KACE,oCACG9nB,EAAU0Y,KAAI,SAAC6a,GAAD,OACb,kBAAClS,GAAA,EAAD,CAAUrP,IAAKuhB,EAAS5rB,IACtB,kBAAC2Z,GAAA,EAAD,CAAWO,MAAM,UAAU0R,EAAS7yB,QAAQxJ,MAC5C,kBAACoqB,GAAA,EAAD,CAAWO,MAAM,SAASvpB,MAAOi7B,EAAS5yB,OA3ExC60B,EA2EwDjC,EAAS5yB,KA3E5D80B,EA2EkE,GA1EnFD,EAAIrpB,OAASspB,EACRD,EAAIE,UAAU,EAAGD,GAAO,MAE1BD,IAwEO,kBAAClU,GAAA,EAAD,CAAWO,MAAM,UAAUwR,KAAOE,EAAS3yB,QAAQ0S,OAAO,wBAC1D,kBAACgO,GAAA,EAAD,CAAWO,MAAM,UAAUoS,sBAAWV,EAAS54B,SAC/C,kBAAC2mB,GAAA,EAAD,CAAWO,MAAM,UACf,kBAACnO,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,kBAlHF,SAACgnB,GAC1BuB,EAAoBvB,GACpB2B,GAAqB,GAgHYS,CAAmBpC,KAElC,kBAAC,KAAD,OAGF,kBAAC7f,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,SAAC2F,GACR6U,GAAoB,GACpBiO,EAAoBzB,KAGtB,kBAAC,KAAD,SA7FH,IAACiC,EAAKC,KAkGVnvB,GAAW,kBAAC,GAAD,CAAkB8a,QAAS,U,UChT/CjT,GAAYC,YAAW,CAC3B6L,KAAM,CACJxJ,MAAO,OACPyI,UAAW,UAIA,SAAS0c,GAAT,GAA+C,IAAnBC,EAAkB,EAAlBA,gBACnC1kB,EAAUhD,KAChB,EAAgClD,IAAM9E,SAAS,GAA/C,mBAAO2vB,EAAP,KAAiBC,EAAjB,KAMA,OAJA9qB,IAAM1D,WAAU,WACdwuB,EAAYF,KACX,CAACA,IAGF,yBAAK9qB,UAAWoG,EAAQ8I,MACtB,kBAAC+b,GAAA,EAAD,CAAgB/iB,QAAQ,cAAc5K,MAAOytB,KCfnD,IAAM3nB,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC4L,KAAM,CACJqE,SAAU,GAEZ/F,MAAO,CACL3J,OAAQ,IACR6B,MAAO,KAETgU,QAAS,CACP1T,QAAS1C,EAAM+G,QAAQ,QAIZ,SAAS6gB,GAAT,GAAmC,IAAZp6B,EAAW,EAAXA,QAC9BsV,EAAUhD,KAEhB,OACE,kBAAC0W,GAAA,EAAD,CAAM/F,WAAS,EAAC/T,UAAWoG,EAAQ8I,KAAM7E,QAAS,EAAI3C,MAAO,CAC3DyG,UAAW,SAEX,kBAAC2L,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACb,kBAACF,GAAA,EAAD,CAAM/F,WAAS,EAAC9P,eAAe,SAASoG,QAAS,GAC9CvZ,EAAQ6c,KAAI,SAACrQ,GAAD,OACX,kBAACwc,GAAA,EAAD,CAAM7S,IAAK3J,EAAM6tB,MAAOpR,MAAI,GAC1B,kBAACW,GAAA,EAAD,CAAO1a,UAAWoG,EAAQoH,OAExB,kBAACxF,EAAA,EAAD,CAAYE,QAAQ,QAAQzH,UAAU,KACnCnD,EAAM6tB,OAGT,kBAACnjB,EAAA,EAAD,CAAYE,QAAQ,QAAQzH,UAAU,KACnCnD,EAAMxM,iB,2yMCZzB,IAAMsS,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCsK,MAAO,CACNhK,QAAS,OACTiK,SAAU,QAEXC,KAAM,CACLhK,OAAQ,OAIJwX,GAAgB,SAAC,GAAkC,IAAhC/tB,EAA+B,EAA/BA,MAAOiC,EAAwB,EAAxBA,QAAS4N,EAAe,EAAfA,SAClCgJ,EAAUhD,KAEhB,OACC,kBAACkE,GAAA,EAAD,CACCC,OAAK,EACLnB,QAAS,CACR8U,QAAS9U,EAAQ8U,QACjBK,OAAQnV,EAAQiV,eAEjB9tB,MACC,kBAAC,IAAMyZ,SAAP,KACC,kBAACgB,EAAA,EAAD,CAAYiO,cAAY,EAAClkB,MAAM,WAC7BxE,GAEDiC,GAAW,kBAACwY,EAAA,EAAD,KAAaxY,KAI1B4N,IAuHW2Q,GAlHK,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,iBAAkBC,EAAe,EAAfA,SAClC7H,EAAUhD,KAChB,EAA4BhI,mBAAS,IAArC,mBAAOpG,EAAP,KAAekZ,EAAf,KAEA1R,qBAAU,WACT,uBAAC,kHAEwBtC,EAAIqE,IAAI,aAFhC,gBAES5D,EAFT,EAESA,KACFywB,EAAsBzwB,EAAK0G,QAChC,SAAAgqB,GAAS,OAA4B,IAAxBA,EAAU3T,aAExBxJ,EAAUkd,GANX,gDAQC7wB,EAAW,EAAD,IARX,wDAAD,KAWE,IAEH,IAIM6iB,EAAuB,SAAAxf,GAC5B,OACC,yBAAKoC,UAAWoG,EAAQ8P,iBACF,iBAApBtY,EAAShO,QACT,kBAAC,GAAD,CACCrC,MAAOkM,IAAKsB,EAAE,2CACdvL,QAASiK,IAAKsB,EAAE,8CAEhB,kBAACiiB,GAAA,EAAD,CAAuCjrB,MAAM,eAG1B,YAApB6L,EAAShO,QACT,kBAACuiB,GAAA,EAAD,CAAkBC,KAAM,GAAIpS,UAAWoG,EAAQiJ,iBAE3B,WAApBzR,EAAShO,QACT,kBAAC,GAAD,CACCrC,MAAOkM,IAAKsB,EAAE,qCACdvL,QAASiK,IAAKsB,EAAE,wCAEhB,kBAACkiB,GAAA,EAAD,OAGmB,cAApBrf,EAAShO,QACT,kBAAC,GAAD,CAAerC,MAAOkM,IAAKsB,EAAE,yCAC5B,kBAACmiB,GAAA,EAAD,CAAoBxV,MAAO,CAAE3V,MAAOsT,KAAM,UAGtB,YAApBzH,EAAShO,QAA4C,YAApBgO,EAAShO,SAC3C,kBAAC,GAAD,CACCrC,MAAOkM,IAAKsB,EAAE,sCACdvL,QAASiK,IAAKsB,EAAE,yCAEhB,kBAACoiB,GAAA,EAAD,CAAuCprB,MAAM,iBAsBlD,OACC,yBAAK2V,MAAO,CAAEyG,UAAW,IACxB,kBAACC,GAAA,EAAD,CAAaC,WAAS,EAACvK,OAAO,QAAQoE,QAAQ,YAC7C,kBAACoG,GAAA,EAAD,kCACA,kBAACC,GAAA,EAAD,CAECE,WAAY,IACZnR,MAAO0Q,EACPC,SAlEiB,SAAA9G,GACpB8G,EAAS9G,EAAE9E,OAAO/E,QAkEfoR,UAAW,CACVtB,aAAc,CACbC,SAAU,SACVC,WAAY,QAEbC,gBAAiB,CAChBF,SAAU,MACVC,WAAY,QAEbqB,mBAAoB,MAErBC,YAAa,SAAAxH,GAAQ,OAnCJ,SAAAxJ,GACpB,IAAM6J,EAAQzS,EAAO6Z,MAAK,SAAAC,GAAC,OAAIA,EAAElS,KAAOgB,KAExC,OAAO6J,EACN,yBAAKC,MAAO,CACX9D,QAAS,OACTI,WAAY,SACZC,eAAgB,kBAEfwD,EAAMtb,KACNixB,EAAqB3V,IAEpB,KAuBwB6jB,CAAalkB,KAErCpS,EAAO2Y,KAAI,SAAAlG,GAAK,OAChB,kBAACwH,EAAA,EAAD,CAAUhI,IAAKQ,EAAM7K,GAAIU,MAAOmK,EAAM7K,GAAI8K,MAAO,CAChD9D,QAAS,OACTI,WAAY,SACZC,eAAgB,kBAEfwD,EAAMtb,KACNixB,EAAqB3V,W,2yMC5I7B,IAAMrE,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC2X,UAAU,aACRxV,KAAM,EACNO,QAAS1C,EAAM+G,QAAQ,GACvBL,UAAW,UACR1G,EAAM4G,iBAGXsP,UAAW,CACT5U,YAAatB,EAAM+G,QAAQ,GAC3B5E,KAAM,GAGRgY,UAAW,CACT7Z,QAAS,OACTK,eAAgB,SAChBD,WAAY,UAGdoL,WAAY,CACV5L,SAAU,WACV2K,UAAW7K,EAAM+G,QAAQ,GACzBzF,YAAatB,EAAM+G,QAAQ,IAG7BgF,eAAgB,CACdtd,MAAOsT,KAAM,KACb7B,SAAU,WACV0B,IAAK,MACLK,KAAM,MACN4I,WAAY,GACZtJ,YAAa,QAIX6Y,GAAgBjO,OAAaC,MAAM,CACvC6b,IAAK9b,OAAaI,SAAS,YAC3B2b,MAAO/b,OAAaI,SAAS,cAGlB4b,GAAa,SAAC,GAQpB,IAPLrlB,EAOI,EAPJA,QACAzQ,EAMI,EANJA,QACAqoB,EAKI,EALJA,kBACAhQ,EAII,EAJJA,iBACAiC,EAGI,EAHJA,oBACA6a,EAEI,EAFJA,gBACAY,EACI,EADJA,cAEA,OACE,yBAAK1rB,UAAWoG,EAAQ8I,MACtB,kBAAC,KAAD,CACE2B,cAAelb,EACfmb,oBAAoB,EACpBC,iBAAkB2M,GAClB1M,SAAU,SAACP,EAAQ1gB,GACjBoR,YAAW,WACT6c,EAAkBvN,EAAQ1gB,KACzB,QAGJ,gBAAG0gB,EAAH,EAAGA,OAAQU,EAAX,EAAWA,OAAQD,EAAnB,EAAmBA,QAASE,EAA5B,EAA4BA,aAA5B,EAA0CnD,SAA1C,OACC,kBAAC,KAAD,KACE,6BACE,kBAAC0d,GAAD,CACE3d,iBAAkBA,EAClBC,SAAU,SAAC0M,GAAD,OAAiB1K,EAAoB0K,MAEjD,kBAAC,KAAD,CACEpJ,GAAIC,KACJxC,MAAM,SACNvR,KAAK,QACLmc,WAAS,EACTuM,QAAS,GACT9X,WAAS,EACTliB,KAAK,QACLyO,MAAOsW,EAAQsa,OAAS9Z,QAAQP,EAAOqa,OACvC7Z,WAAYT,EAAQsa,OAASra,EAAOqa,MACpCtjB,QAAQ,WACRpE,OAAO,UAGT,kBAAC,KAAD,CACEyN,GAAIC,KACJxC,MAAM,QACNvR,KAAK,MACLmc,WAAS,EACTuM,QAAS,EACT9X,WAAS,EACTliB,KAAK,MACLyO,MAAOsW,EAAQqa,KAAO7Z,QAAQP,EAAOoa,KACrC5Z,WAAYT,EAAQqa,KAAOpa,EAAOoa,IAClCrjB,QAAQ,WACRpE,OAAO,UAKT,kBAAC,GAAD,CAAcgnB,gBAAiBA,KAEjC,6BACE,kBAAC5Y,GAAA,EAAD,CACEhK,QAAQ,YACRnW,MAAM,YACNuE,SAAU8a,EACV5P,QAAS,kBAAMkqB,EAAcjb,IAC7BzQ,UAAWoG,EAAQgJ,YALrB,mBAUA,kBAAC8C,GAAA,EAAD,CACEzU,KAAK,SACL1L,MAAM,UACNuE,SAAU8a,EACVlJ,QAAQ,YACRlI,UAAWoG,EAAQgJ,YALrB,kBAQGgC,GACC,kBAACe,GAAA,EAAD,CACEC,KAAM,GACNpS,UAAWoG,EAAQiJ,yBAmMxBiP,GAvLE,WACf,IAAMlY,EAAUhD,KACVmD,EAAYC,kBAAO,GACzB,EAAgDpL,qBAAhD,mBAAO4S,EAAP,KAAyBiC,EAAzB,KACA,EAA8C7U,mBAAS,GAAvD,mBAAO0vB,EAAP,KAAwBc,EAAxB,KACA,EAA6BxwB,oBAAS,GAA/BywB,EAAP,oBACA,EAA8BzwB,mBAAS,IAAvC,mBAAOtK,EAAP,KAAgBg7B,EAAhB,KACM/b,EAAe,CACnBwb,IAAK,GACLC,MAAO,IAGT,EAA8BpwB,mBAAS2U,GAAvC,mBAAOpa,EAAP,KAAgBmoB,EAAhB,KAEAthB,qBAAU,WACR,OAAO,WACL+J,EAAUE,SAAU,KAErB,IAEH,IAKMslB,EAAe,SAACv6B,GAEpB,OADIA,GAAQ+I,EAAW,yBACnB/I,EAAO4P,OAAS,IAAM5P,EAAOw6B,WAAW,MACpC,GAAN,OAAUx6B,GAEJ,KAAN,OAAYA,IAIVwsB,EAAiB,wCAAG,WAAOvN,EAAQ1gB,GAAf,gGAGlB0gB,EAAO8a,KAAQ9a,EAAO+a,MAHJ,uBAIpB1wB,IAAMF,MAAM,4BACZ7K,EAAQkhB,eAAc,GALF,6BASlBjD,EATkB,uBAUpBlT,IAAMF,MAAM,4BACZ7K,EAAQkhB,eAAc,GAXF,iCAehBsa,EAAe9a,EAAf8a,IAAKC,EAAU/a,EAAV+a,MACLS,EAAYV,EAAIW,MAAM,EAAGX,EAAIY,QAAQ,OAAOrhB,MAAM,KAClDshB,EAAUb,EAAIW,MAAMX,EAAIY,QAAQ,MAAQ,GAAGrhB,MAAM,MAEjDuhB,EAAQD,EAAQze,KAAI,SAAC2e,GACzB,IAAM7b,EAAS6b,EAAExhB,MAAM,KAKvB,OAJYmhB,EAAUM,QAAO,SAACC,EAAQ51B,EAAQigB,GAE5C,OADA2V,EAAO51B,GAAU6Z,EAAOoG,GACjB2V,IACN,OAIDC,EAAS,GACTC,EAAc,GAElBL,EAAMppB,SAAQ,SAAC3F,EAAOuZ,GACpB4V,EAAO1vB,KAAKyuB,EAAM7oB,QAAQ,gBAAgB,SAACgqB,EAAO1lB,GAAR,OAAgB3J,EAAM2J,UAGlEolB,EAAMppB,QAAN,wCAAc,WAAO3F,EAAOuZ,GAAd,wEACN+V,EAAiBC,OAAOpc,OAAOnT,GACrCovB,EAAY3vB,KAAK,CACfjM,QAAS27B,EAAO5V,GAChBsU,MAAOY,EAAaa,EAAe,IACnCnuB,WAAYuP,IALF,2CAAd,yDAnCsB,UA4CrBpC,QAAQC,IAAI6gB,GA5CS,UA8CfxyB,EAAIgC,KAAK,eAAgBwwB,GA9CV,QAbxB5O,EAAW/N,GACX6b,EAAmB,GA4Df77B,EAAQkhB,eAAc,GAEtBnW,IAAMrN,QAAN,UAAiBi/B,EAAYtrB,OAA7B,kDAlDoB,mDAoDpB7G,EAAW,EAAD,IApDU,0DAuDtBA,EAAW,EAAD,IAvDY,kEAAH,wDA2DjBmxB,EAAa,wCAAG,WAAOjb,GAAP,oFACpB,IACQ8a,EAAe9a,EAAf8a,IAAKC,EAAU/a,EAAV+a,MACLS,EAAYV,EAAIW,MAAM,EAAGX,EAAIY,QAAQ,OAAOrhB,MAAM,KAClDshB,EAAUb,EAAIW,MAAMX,EAAIY,QAAQ,MAAQ,GAAGrhB,MAAM,MAEjDuhB,EAAQD,EAAQze,KAAI,SAAC2e,GACzB,IAAM7b,EAAS6b,EAAExhB,MAAM,KAKvB,OAJYmhB,EAAUM,QAAO,SAACC,EAAQ51B,EAAQigB,GAE5C,OADA2V,EAAO51B,GAAU6Z,EAAOoG,GACjB2V,IACN,OAIDC,EAAS,GACTC,EAAc,GAElBL,EAAMppB,SAAQ,SAAC3F,EAAOuZ,GACpB4V,EAAO1vB,KAAKyuB,EAAM7oB,QAAQ,gBAAgB,SAACgqB,EAAO1lB,GAAR,OAAgB3J,EAAM2J,UAIlEolB,EAAMppB,QAAN,wCAAc,WAAO3F,EAAOuZ,GAAd,wEACN+V,EAAiBC,OAAOpc,OAAOnT,GACrCovB,EAAY3vB,KAAK,CACfjM,QAAS27B,EAAO5V,GAChBsU,MAAOY,EAAaa,EAAe,IACnCnuB,WAAYuP,IALF,2CAAd,yDASA8d,EAAWY,GACX,MAAOlyB,GACPD,EAAWC,GAlCO,2CAAH,sDA0DnB,OACE,kBAAC,GAAD,CAAewF,UAAWoG,EAAQqP,eAChC,kBAAC,GAAD,KACE,kBAAC,GAAD,2BAEF,kBAACiF,GAAA,EAAD,CAAO1a,UAAWoG,EAAQ6U,UAAW/S,QAAQ,YAC3C,kBAAC,GAAD,CACE9B,QAASA,EACTzQ,QAASA,EACTmoB,WAAYA,EACZ9P,iBAAkBA,EAClBiC,oBAAqBA,EACrB6a,gBAAiBA,EACjBc,mBAAoBA,EACpBC,iBAAkBA,EAClB7N,kBAAmBA,EACnB0N,cAAeA,IAGjB,6BACG56B,EAAQsQ,OAAS,GAChB,kBAAC,GAAD,CACEtQ,QAASA,Q,+zMC7SvB,IAAMsS,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC4L,KAAM,CACJ,uBAAwB,CACtBpL,OAAQR,EAAM+G,QAAQ,KAG1B4Q,UAAU,aACRxV,KAAM,EACNO,QAAS1C,EAAM+G,QAAQ,GACvBL,UAAW,UACR1G,EAAM4G,iBAEXpG,OAAQ,CACNqK,UAAW7K,EAAM+G,QAAQ,GAGzBzF,YAAatB,EAAM+G,QAAQ,IAE7ByiB,aAAc,CACZ3e,UAAW7K,EAAM+G,QAAQ,IAE3BmP,UAAW,CACT9T,MAAO,YAqNIqnB,GAjNO,WACpB,IAAM3mB,EAAUhD,KACVmD,EAAYC,kBAAO,GACzB,EAAgDpL,mBAAS,IAAzD,mBAAO4S,EAAP,KAAyBiC,EAAzB,KAEA,EAA4B/P,IAAM9E,SAAS,IAA3C,mBAAOqV,EAAP,KAAeuc,EAAf,KAEA,EAA0B9sB,IAAM9E,SAAS,CACvCzF,SAAS,EACTs3B,OAAO,EACPC,QAAQ,IAHV,mBAAO1vB,EAAP,KAAc2vB,EAAd,KAQA3wB,qBAAU,WACRoP,QAAQC,IAAI,QAASmC,GAErBgf,EAAU,CACRI,MAAO,GACP78B,QAAS,GACT88B,QAAS,KAIPrf,GACJ9T,EAAIqE,IAAJ,2BAA4ByP,IAAoBsf,MAAK,SAAC5yB,GACpDkR,QAAQC,IAAI,WAAYnR,EAASC,MACjCqyB,EAAU,CACRI,MAAO1yB,EAASC,KAAKyyB,MACrB78B,QAASmK,EAASC,KAAKpK,QACvB88B,QAAS3yB,EAASC,KAAK0yB,UAEzBF,EAAS,CACPx3B,QAAS+E,EAASC,KAAK5J,SACvBk8B,MAAOvyB,EAASC,KAAKsyB,MACrBC,OAAQxyB,EAASC,KAAKuyB,YAIxBK,OAAM,SAAC3yB,GACPL,EAAWK,QAMZ,CAACoT,IAEJ,IAAMoL,EAAe,SAACoU,GAAD,OAAU,SAAClY,GAC9B0X,EAAU,2BAAKvc,GAAN,kBAAe+c,EAAOlY,EAAMjT,OAAO/E,WAGxCmwB,EAAsB,SAACnY,GAC3B6X,EAAS,2BAAK3vB,GAAN,kBAAc8X,EAAMjT,OAAOlW,KAAOmpB,EAAMjT,OAAOgX,YAGnDqU,EAAkB,wCAAG,4FACnB/yB,EADmB,uCAEpB8V,GACAjT,GAHoB,IAIvBiB,WAAYuP,IAJW,kBASjB9T,EAAIgC,KAAJ,mBAA6BvB,GATZ,OAUvBG,IAAMrN,QAAQgM,IAAKsB,EAAE,qBAVE,gDAYvBR,EAAW,EAAD,IAZa,QAezBqR,QAAQC,IAAIlR,GAfa,yDAAH,qDAwBxB,OANA6B,qBAAU,WACR,OAAO,WACL+J,EAAUE,SAAU,KAErB,IAGD,kBAAC,GAAD,CAAezG,UAAWoG,EAAQqP,eAChC,kBAAC,GAAD,KACE,kBAAC,GAAD,kDAEF,kBAACiF,GAAA,EAAD,CAAO1a,UAAWoG,EAAQ6U,UAAW/S,QAAQ,YAC3C,kBAACyjB,GAAD,CACE3d,iBAAkBA,EAClBC,SAAU,SAAC0M,GAAD,OAAiB1K,EAAoB0K,MAGjD,6BACE,kBAACnJ,GAAA,EAAD,CACExC,MAAM,6BACNpS,GAAG,QACHqR,SAAUmL,EAAa,SACvBpZ,UAAWqH,YAAKjB,EAAQtC,OAAQsC,EAAQoT,WACxClc,MAAOmT,EAAO2c,MACd3vB,KAAK,SACLmU,WAAY,CACV2N,eACE,kBAACzN,GAAA,EAAD,CAAgBtO,SAAS,SAAzB,aAKN,kBAACgO,GAAA,EAAD,CACExC,MAAM,iBACNpS,GAAG,UACHU,MAAOmT,EAAOlgB,QACd0d,SAAUmL,EAAa,WACvBpZ,UAAWqH,YAAKjB,EAAQtC,OAAQsC,EAAQoT,WACxC/b,KAAK,SACLmU,WAAY,CACV2N,eACE,kBAACzN,GAAA,EAAD,CAAgBtO,SAAS,SAAzB,cAKN,kBAACgO,GAAA,EAAD,CACExC,MAAM,wBACNpS,GAAG,UACHU,MAAOmT,EAAO4c,QACdpf,SAAUmL,EAAa,WACvBpZ,UAAWqH,YAAKjB,EAAQtC,OAAQsC,EAAQoT,WACxC/b,KAAK,SACLmU,WAAY,CACV2N,eACE,kBAACzN,GAAA,EAAD,CAAgBtO,SAAS,SAAzB,gBAKR,6BACE,kBAAC4K,GAAA,EAAD,CACE3N,UAAU,WACV4N,WAAS,EACTrO,UAAWoG,EAAQtC,QAEnB,kBAAC6pB,GAAA,EAAD,CAAWltB,UAAU,UAArB,kCACA,kBAACyZ,GAAA,EAAD,KACE,kBAACT,GAAA,EAAD,CACEC,QACE,kBAACC,GAAA,EAAD,CACEN,QAAS7b,EAAM7H,QACfsY,SAAUwf,EACVthC,KAAK,YAGT6iB,MAAM,uCAER,kBAACyK,GAAA,EAAD,CACEC,QACE,kBAACC,GAAA,EAAD,CACEN,QAAS7b,EAAMyvB,MACfhf,SAAUwf,EACVthC,KAAK,UAGT6iB,MAAM,uDAER,kBAACyK,GAAA,EAAD,CACEC,QACE,kBAACC,GAAA,EAAD,CACEN,QAAS7b,EAAM0vB,OACfjf,SAAUwf,EACVthC,KAAK,WAGT6iB,MAAM,mCAKZ,kBAACZ,GAAA,EAAD,CAAaC,WAAS,EAACrO,UAAWoG,EAAQtC,QACxC,kBAACwK,GAAA,EAAD,CAAYsf,QAAQ,6BAApB,8EAGA,kBAACC,GAAA,EAAD,CACEjxB,GAAG,4BACHqR,SAAUmL,EAAa,UACvBQ,WAAS,EACTC,KAAM,EACN/V,OAAO,QACPoE,QAAQ,eAKd,6BACE,kBAACgK,GAAA,EAAD,CACEhK,QAAQ,YACRnW,MAAM,UACNiO,UAAWoG,EAAQtC,OACnBtC,QAAS,WAEPksB,MANJ,kC,2yMCvOV,IAAMtqB,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtC4L,KAAM,CACLtL,QAAS,OACTI,WAAY,SACZgC,QAAS1C,EAAM+G,QAAQ,EAAG,EAAG,IAG9BmD,MAAO,CACNxH,QAAS1C,EAAM+G,QAAQ,GACvBzG,QAAS,OACTI,WAAY,SACZiT,aAAc,IAIf6W,cAAe,CACdjpB,WAAY,QAEbf,OAAQ,CACPA,OAAQR,EAAM+G,QAAQ,QAoPT0jB,GA/OE,WAChB,IAAM3nB,EAAUhD,KAEhB,EAAgChI,mBAAS,IAAzC,mBAAO/F,EAAP,KAAiB24B,EAAjB,KAEAxxB,qBAAU,YACS,wCAAG,gHAEItC,EAAIqE,IAAI,aAFZ,gBAEX5D,EAFW,EAEXA,KACRqzB,EAAYrzB,GAHO,gDAKnBJ,EAAW,EAAD,IALS,yDAAH,qDAQlBiE,KACE,IAEHhC,qBAAU,WACT,IAAMC,EAAS3P,IAAWN,+BAa1B,OAXAiQ,EAAOC,GAAG,YAAY,SAAA/B,GACD,WAAhBA,EAAKgC,QACRqxB,GAAY,SAAAjiB,GACX,IAAMoU,EAAG,YAAOpU,GACVkiB,EAAe9N,EAAIriB,WAAU,SAAAC,GAAC,OAAIA,EAAEkJ,MAAQtM,EAAKuzB,QAAQjnB,OAE/D,OADAkZ,EAAI8N,GAAc3wB,MAAQ3C,EAAKuzB,QAAQ5wB,MAChC6iB,QAKH,WACN1jB,EAAOxN,gBAEN,IAEH,IAAMk/B,EAAmB,wCAAG,WAAMhnB,GAAN,iFACrBinB,EAAgBjnB,EAAE9E,OAAO/E,MACzB+wB,EAAalnB,EAAE9E,OAAOlW,KAFD,kBAKpB+N,EAAIyM,IAAJ,oBAAqB0nB,GAAc,CACxC/wB,MAAO8wB,IANkB,OAQ1BtzB,IAAMrN,QAAQgM,IAAKsB,EAAE,qBARK,gDAU1BR,EAAW,EAAD,IAVgB,yDAAH,sDAcnB+zB,EAAkB,SAAArnB,GAEvB,OADkB5R,EAASwZ,MAAK,SAAA9Q,GAAC,OAAIA,EAAEkJ,MAAQA,KAAvC3J,OAIT,OACC,yBAAK0C,UAAWoG,EAAQ8I,MACvB,kBAAC0G,GAAA,EAAD,CAAW5V,UAAWoG,EAAQ2N,WAC7B,kBAAC/L,EAAA,EAAD,CAAYE,QAAQ,QAAQ+N,cAAY,GACtCxc,IAAKsB,EAAE,mBAET,kBAAC2f,GAAA,EAAD,CAAO1a,UAAWoG,EAAQoH,OACzB,kBAACxF,EAAA,EAAD,CAAYE,QAAQ,SAClBzO,IAAKsB,EAAE,wCAET,kBAACwT,GAAA,EAAD,CACCzK,OAAO,QACPoE,QAAQ,WACRqmB,QAAM,EACN3xB,GAAG,uBACHzQ,KAAK,eACLmR,MACCjI,GAAYA,EAAS+L,OAAS,GAAKktB,EAAgB,gBAEpDtuB,UAAWoG,EAAQ0nB,cACnB7f,SAAUkgB,GAEV,4BAAQ7wB,MAAM,WACZ7D,IAAKsB,EAAE,mDAET,4BAAQuC,MAAM,YACZ7D,IAAKsB,EAAE,sDAKX,kBAACiN,EAAA,EAAD,CAAYE,QAAQ,QAAQ+N,cAAY,IACxC,kBAAC3O,GAAA,EAAD,CAAS/Z,MAAOkM,IAAKsB,EAAE,+CACtB,kBAAC2f,GAAA,EAAD,CAAO1a,UAAWoG,EAAQoH,MAAOwN,UAAW,GAC3C,kBAAChT,EAAA,EAAD,CAAYE,QAAQ,SAClBzO,IAAKsB,EAAE,+CAET,kBAACwT,GAAA,EAAD,CACCzK,OAAO,QACPoE,QAAQ,WACRqmB,QAAM,EACN3xB,GAAG,8BACHzQ,KAAK,sBACLmR,MACCjI,GAAYA,EAAS+L,OAAS,GAAKktB,EAAgB,uBAEpDtuB,UAAWoG,EAAQ0nB,cACnB7f,SAAUkgB,GAEV,4BAAQ7wB,MAAM,MACZ7D,IAAKsB,EAAE,qDAET,4BAAQuC,MAAM,MACZ7D,IAAKsB,EAAE,qDAET,4BAAQuC,MAAM,MACZ7D,IAAKsB,EAAE,qDAET,4BAAQuC,MAAM,OACZ7D,IAAKsB,EAAE,sDAET,4BAAQuC,MAAM,QACZ7D,IAAKsB,EAAE,uDAET,4BAAQuC,MAAM,QACZ7D,IAAKsB,EAAE,uDAET,4BAAQuC,MAAM,QACZ7D,IAAKsB,EAAE,uDAET,4BAAQuC,MAAM,SACZ7D,IAAKsB,EAAE,wDAET,4BAAQuC,MAAM,SACZ7D,IAAKsB,EAAE,wDAET,4BAAQuC,MAAM,SACZ7D,IAAKsB,EAAE,wDAET,4BAAQuC,MAAM,UACZ7D,IAAKsB,EAAE,4DAMZ,kBAACiN,EAAA,EAAD,CAAYE,QAAQ,QAAQ+N,cAAY,IACxC,kBAACyE,GAAA,EAAD,CAAO1a,UAAWoG,EAAQoH,OAEzB,kBAACxF,EAAA,EAAD,CAAYE,QAAQ,SAClBzO,IAAKsB,EAAE,gCAET,kBAACwT,GAAA,EAAD,CACCzK,OAAO,QACPoE,QAAQ,WACRqmB,QAAM,EACN3xB,GAAG,eACHzQ,KAAK,OACLmR,MACCjI,GAAYA,EAAS+L,OAAS,GAAKktB,EAAgB,QAEpDtuB,UAAWoG,EAAQ0nB,cACnB7f,SAAUkgB,GAEV,4BAAQ7wB,MAAM,WACZ7D,IAAKsB,EAAE,2CAET,4BAAQuC,MAAM,YACZ7D,IAAKsB,EAAE,8CAKX,kBAAC2f,GAAA,EAAD,CAAO1a,UAAWoG,EAAQoH,OACzB,kBAACxF,EAAA,EAAD,CAAYE,QAAQ,SAClBzO,IAAKsB,EAAE,2CAET,kBAACwT,GAAA,EAAD,CACCzK,OAAO,QACPoE,QAAQ,WACRqmB,QAAM,EACN3xB,GAAG,0BACHzQ,KAAK,kBACLmR,MACCjI,GAAYA,EAAS+L,OAAS,GAAKktB,EAAgB,mBAEpDtuB,UAAWoG,EAAQ0nB,cACnB7f,SAAUkgB,GAEV,4BAAQ7wB,MAAM,WACZ7D,IAAKsB,EAAE,sDAET,4BAAQuC,MAAM,YACZ7D,IAAKsB,EAAE,yDAKX,kBAAC2f,GAAA,EAAD,CAAO1a,UAAWoG,EAAQoH,OACzB,kBAACgE,GAAA,EAAD,CACC5U,GAAG,oBACH4xB,UAAQ,EACRxf,MAAM,YACNlL,OAAO,QACPoE,QAAQ,WACRmG,WAAS,EACT/Q,MAAOjI,GAAYA,EAAS+L,OAAS,GAAKktB,EAAgB,mBAIxD,kBAAC5T,GAAA,EAAD,CAAO1a,UAAWoG,EAAQoH,OACxB,kBAACxF,EAAA,EAAD,CAAYE,QAAQ,SAApB,mBAGA,kBAACqG,GAAA,EAAD,CACEzK,OAAO,QACPoE,QAAQ,WACRqmB,QAAM,EACN3xB,GAAG,sBACHzQ,KAAK,cACLmR,MAAOjI,GAAYA,EAAS+L,OAAS,GAAKktB,EAAgB,eAC1DtuB,UAAWoG,EAAQ0nB,cACnB7f,SAAUkgB,GAEV,4BAAQ7wB,MAAM,QAAd,SAIA,4BAAQA,MAAM,UAAd,YAIN,4BAAQA,MAAM,QAAd,c,2yMC7ON,IAAMC,GAAU,SAACC,EAAOb,GACtB,GAAoB,uBAAhBA,EAAOc,KAA+B,CACxC,IAAM1I,EAAe4H,EAAOgB,QACtBypB,EAAkB,GAWxB,OATAryB,EAAakO,SAAQ,SAAC+jB,GACpB,IAAMK,EAAmB7pB,EAAMM,WAAU,SAACgR,GAAD,OAAOA,EAAElS,KAAOoqB,EAAYpqB,OAC3C,IAAtByqB,EACF7pB,EAAM6pB,GAAoBL,EAE1BI,EAAgBrqB,KAAKiqB,MAInB,GAAN,mBAAWxpB,GAAU4pB,GAGvB,GAAoB,yBAAhBzqB,EAAOc,KAAiC,CAC1C,IAAMupB,EAAcrqB,EAAOgB,QACrB0pB,EAAmB7pB,EAAMM,WAAU,SAACgR,GAAD,OAAOA,EAAElS,KAAOoqB,EAAYpqB,MAErE,OAA0B,IAAtByqB,GACF7pB,EAAM6pB,GAAoBL,EACnB,YAAIxpB,IAEL,CAAEwpB,GAAR,mBAAwBxpB,IAI5B,GAAoB,wBAAhBb,EAAOc,KAAgC,CACzC,IAAMgxB,EAAgB9xB,EAAOgB,QAC7BiO,QAAQC,IAAI4iB,GACZ,IAAMpH,EAAmB7pB,EAAMM,WAAU,SAACgR,GAAD,OAAOA,EAAElS,KAAO6xB,KAIzD,OAH0B,IAAtBpH,GACF7pB,EAAMW,OAAOkpB,EAAkB,GAE1B,YAAI7pB,GAGb,GAAoB,UAAhBb,EAAOc,KACT,MAAO,IAIL2F,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC2X,UAAU,aACRxV,KAAM,EACNO,QAAS1C,EAAM+G,QAAQ,GACvBL,UAAW,UACR1G,EAAM4G,qBAmMEod,GA/LM,WACnB,IAAMlhB,EAAUhD,KAEhB,EAA8BhI,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAoCJ,mBAAS,GAA7C,mBAAO0N,EAAP,KAAmByV,EAAnB,KACA,EAAsCnjB,mBAAS,IAA/C,mBAAOyN,EAAP,KAAoB2V,EAApB,KACA,EAAiCngB,qBAAWd,GAAS,IAArD,mBAAOxI,EAAP,KAAqBuJ,EAArB,KACA,EAAwDlD,mBAAS,MAAjE,mBAAOusB,EAAP,KAA6BC,EAA7B,KACA,EAAgDxsB,oBAAS,GAAzD,mBAAO2gB,EAAP,KAAyBC,EAAzB,KACA,EAA8B5gB,oBAAS,GAAvC,mBAAO8N,EAAP,KAAgBC,EAAhB,KAEA3M,qBAAU,WACR8B,EAAS,CAAEb,KAAM,UACjB8gB,EAAc,KACb,CAAC1V,IAEJrM,qBAAU,WACRhB,GAAW,GACX,IAAM0F,EAAkBC,YAAW,YACV,wCAAG,gHAECjH,EAAIqE,IAAI,sBAAuB,CACpDiL,OAAQ,CAAEX,cAAaC,gBAHH,gBAEdnO,EAFc,EAEdA,KAGR2D,EAAS,CAAEb,KAAM,qBAAsBE,QAAShD,EAAKxN,WACrDgc,EAAWxO,EAAKuO,SAChB1N,GAAW,GAPW,kDAStBjB,EAAW,EAAD,IATY,0DAAH,qDAYvBstB,KACC,KACH,OAAO,kBAAMtmB,aAAaL,MACzB,CAAC2H,EAAaC,IAEjBtM,qBAAU,WACR,IAAMC,EAAS3P,IAmBf,OAjBA2P,EAAOC,GAAG,eAAe,SAAC/B,GACJ,WAAhBA,EAAKgC,QAAuC,WAAhBhC,EAAKgC,QACnC2B,EAAS,CACPb,KAAM,uBACNE,QAAShD,EAAK+zB,iBAIE,WAAhB/zB,EAAKgC,SACPiP,QAAQC,IAAI,UACZvN,EAAS,CACPb,KAAM,sBACNE,SAAUhD,EAAK+zB,qBAKd,WACLjyB,EAAOxN,gBAER,IAEH,IAIM64B,EAAwB,wCAAG,WAAO2G,GAAP,2FAEvBv0B,EAAI3C,OAAJ,yBAA6Bk3B,IAFN,OAG7B3zB,IAAMrN,QAAQgM,IAAKsB,EAAE,gCAHQ,+CAK7BR,EAAW,EAAD,IALmB,OAO/BqtB,EAAwB,MACxBpJ,EAAe,IACfD,EAAc,GATiB,yDAAH,sDAYxBoQ,EAAe,wCAAG,wGAEdz0B,EAAI3C,OAAJ,sBAFc,OAGpBuD,IAAMrN,QAAQgM,IAAKsB,EAAE,gCAHD,+CAKpBR,EAAW,EAAD,IALU,OAOtBxF,EAAawI,GAAS,IACtBqqB,EAAwB,MACxBpJ,EAAe,IACfD,EAAc,GAVQ,yDAAH,qDAyBrB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEhxB,MACEo6B,GAAoB,kEACiCA,EAAqBwD,MADtD,KAGtBz3B,KAAMqoB,EACNtO,QAASuO,EACTnB,UAAW,kBAAMiN,EAAyBH,EAAqB/qB,MAE9DnD,IAAKsB,EAAE,iDAEV,kBAAC,GAAD,KACE,kBAAC,GAAD,2CACA,kBAAC,GAAD,KACE,kBAACyW,GAAA,EAAD,CACEle,YAAamG,IAAKsB,EAAE,kCACpB0C,KAAK,SACLH,MAAOuL,EACPoF,SA7DW,SAACqH,GACpBkJ,EAAelJ,EAAMjT,OAAO/E,MAAMgiB,gBA6D1B1N,WAAY,CACV2N,eACE,kBAACzN,GAAA,EAAD,CAAgBtO,SAAS,SACvB,kBAAC,KAAD,CAAYkE,MAAO,CAAE3V,MAAO,cAMpC,kBAACmgB,GAAA,EAAD,CACEhK,QAAQ,YACRnW,MAAM,UACNyP,QAASmtB,GAHX,iBASJ,kBAACjU,GAAA,EAAD,CACE1a,UAAWoG,EAAQ6U,UACnB/S,QAAQ,WACRsX,SAlDe,SAACrY,GACpB,GAAK+B,IAAW3N,EAAhB,CACA,MAAkD4L,EAAEoO,cAA5CkK,EAAR,EAAQA,UAAR,EAAmBC,cACCD,EAAY,KADhC,EAAiCE,cALjCpB,GAAc,SAACxS,GAAD,OAAeA,EAAY,QAuDrC,kBAAC8Q,GAAA,EAAD,CAAOzK,KAAK,SACV,kBAAC0K,GAAA,EAAD,KACE,kBAACxG,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAWO,MAAM,UAAjB,cACA,kBAACP,GAAA,EAAD,CAAWO,MAAM,UAAjB,UACA,kBAACP,GAAA,EAAD,CAAWO,MAAM,UAAjB,YACA,kBAACP,GAAA,EAAD,CAAWO,MAAM,UAAjB,UACA,kBAACP,GAAA,EAAD,CAAWO,MAAM,UACdrd,IAAKsB,EAAE,iCAId,kBAACgiB,GAAA,EAAD,KACE,oCACGhoB,EAAa4Y,KAAI,SAACqZ,GAAD,eAChB,kBAAC1Q,GAAA,EAAD,CAAUrP,IAAK+f,EAAYpqB,IACzB,kBAAC2Z,GAAA,EAAD,CAAWO,MAAM,UAAjB,OACGkQ,QADH,IACGA,GADH,UACGA,EAAa51B,gBADhB,aACG,EAAuBjF,KAD1B,KACkC,IADlC,OAEG66B,QAFH,IAEGA,GAFH,UAEGA,EAAa51B,gBAFhB,aAEG,EAAuBI,QAE1B,kBAAC+kB,GAAA,EAAD,CAAWO,MAAM,UAAUkQ,EAAYmE,OACvC,kBAAC5U,GAAA,EAAD,CAAWO,MAAM,UAAUkQ,EAAYl2B,SACvC,kBAACylB,GAAA,EAAD,CAAWO,MAAM,UAAUkQ,EAAYp3B,QACvC,kBAAC2mB,GAAA,EAAD,CAAWO,MAAM,UACf,kBAACnO,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,SAAC2F,GACR6U,GAAoB,GACpB4L,EAAwBZ,KAG1B,kBAACxJ,GAAA,EAAD,YAKPjiB,GAAW,kBAAC,GAAD,CAAkB8a,QAAS,U,qzMC9NrD,IAAMjT,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCkK,MAAO,CACNW,UAAW7K,EAAM+G,QAAQ,GACzBzG,QAAS,OACTG,cAAe,SACfC,WAAY,UAEboS,OAAQ,CACPtS,OAAQR,EAAM+G,QAAQ,GACtBjF,gBAAiB9B,EAAMwd,QAAQtY,UAAU+Y,MAE1C5zB,KAAM,CACL+X,MAAO,OACPyI,UAAW7K,EAAM+G,QAAQ,IAE1Btc,OAAQ,CACP+V,OAAQR,EAAM+G,QAAQ,EAAG,EAAG,QAIxBmF,GAAaC,OAAaC,MAAM,CACrCvjB,KAAMsjB,OACJE,IAAI,EAAG,cACPC,IAAI,GAAI,aACRC,SAAS,YACXhiB,SAAU4hB,OAAaE,IAAI,EAAG,cAAcC,IAAI,GAAI,aACpDhiB,MAAO6hB,OAAa7hB,MAAM,iBAAiBiiB,SAAS,cAmItC+e,GAhIA,WACd,IAAMxoB,EAAUhD,KACVlI,EAAUC,cAGhB,EAAwCC,oBAAS,GAAjD,mBAAO8U,EAAP,KAAqBC,EAArB,KACA,EAAe/U,mBAFM,CAAEjP,KAAM,GAAIyB,MAAO,GAAIC,SAAU,KAE/C0H,EAAP,oBAEMs5B,EAAY,wCAAG,WAAMpe,GAAN,2FAEbvW,EAAIgC,KAAK,eAAgBuU,GAFZ,OAGnB3V,IAAMrN,QAAQgM,IAAKsB,EAAE,0BACrBG,EAAQ6B,KAAK,UAJM,gDAMnBxC,EAAW,EAAD,IANS,yDAAH,sDAUlB,OACC,kBAACqb,GAAA,EAAD,CAAWnV,UAAU,OAAO2J,SAAS,MACpC,kBAACkY,EAAA,EAAD,MACA,yBAAKtiB,UAAWoG,EAAQoH,OACvB,kBAAC5F,GAAA,EAAD,CAAQ5H,UAAWoG,EAAQgQ,QAC1B,kBAAC0Y,GAAA,EAAD,OAED,kBAAC9mB,EAAA,EAAD,CAAYvH,UAAU,KAAKyH,QAAQ,MACjCzO,IAAKsB,EAAE,iBAGT,kBAAC,KAAD,CACC8V,cAAetb,EACfub,oBAAoB,EACpBC,iBAAkBvB,GAClBwB,SAAU,SAACP,EAAQ1gB,GAClBoR,YAAW,WACV0tB,EAAape,GACb1gB,EAAQkhB,eAAc,KACpB,QAGH,gBAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,OAAZ,EAAoBC,aAApB,OACA,kBAAC,KAAD,CAAMpR,UAAWoG,EAAQzY,MACxB,kBAACmsB,GAAA,EAAD,CAAM/F,WAAS,EAAC1J,QAAS,GACxB,kBAACyP,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACd,kBAAC,KAAD,CACCzI,GAAIC,KACJiR,aAAa,OACbt2B,KAAK,OACLyO,MAAOsW,EAAQ/kB,MAAQulB,QAAQP,EAAOhlB,MACtCwlB,WAAYT,EAAQ/kB,MAAQglB,EAAOhlB,KACnC+b,QAAQ,WACRmG,WAAS,EACTzR,GAAG,OACHoS,MAAOvV,IAAKsB,EAAE,oBACd0W,WAAS,KAIX,kBAACqI,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACd,kBAAC,KAAD,CACCzI,GAAIC,KACJtJ,QAAQ,WACRmG,WAAS,EACTzR,GAAG,QACHoS,MAAOvV,IAAKsB,EAAE,qBACd5O,KAAK,QACLyO,MAAOsW,EAAQtjB,OAAS8jB,QAAQP,EAAOvjB,OACvC+jB,WAAYT,EAAQtjB,OAASujB,EAAOvjB,MACpC60B,aAAa,WAGf,kBAAC3I,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACd,kBAAC,KAAD,CACCzI,GAAIC,KACJtJ,QAAQ,WACRmG,WAAS,EACTliB,KAAK,WACLyQ,GAAG,WACH6lB,aAAa,mBACb7nB,MAAOsW,EAAQrjB,UAAY6jB,QAAQP,EAAOtjB,UAC1C8jB,WAAYT,EAAQrjB,UAAYsjB,EAAOtjB,SACvCmhB,MAAOvV,IAAKsB,EAAE,wBACd0C,KAAMyS,EAAe,OAAS,WAC9B0B,WAAY,CACXC,aACC,kBAACC,GAAA,EAAD,CAAgBtO,SAAS,OACxB,kBAACmF,EAAA,EAAD,CACCsE,aAAW,6BACXzL,QAAS,kBAAM2O,GAAgB,SAAChJ,GAAD,OAAQA,OAEtC+I,EAAe,kBAAC6B,GAAA,EAAD,MAAoB,kBAAC,KAAD,aAQ3C,kBAACG,GAAA,EAAD,CACCzU,KAAK,SACL4Q,WAAS,EACTnG,QAAQ,YACRnW,MAAM,UACNiO,UAAWoG,EAAQrY,QAElB0L,IAAKsB,EAAE,0BAET,kBAAC+e,GAAA,EAAD,CAAM/F,WAAS,EAAC9P,eAAe,YAC9B,kBAAC6V,GAAA,EAAD,CAAMC,MAAI,GACT,kBAACiI,GAAA,EAAD,CACCC,KAAK,IACL/Z,QAAQ,QACRzH,UAAWsuB,IACXhvB,GAAG,UAEFtG,IAAKsB,EAAE,gCAQf,kBAAC2nB,GAAA,EAAD,CAAKC,GAAI,M,qzMC3KZ,IAAMvf,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtC4L,KAAM,CACLtL,QAAS,OACTiK,SAAU,QAEXsB,cAAe,CACdvL,QAAS,OACT,yBAA0B,CACzBgB,YAAatB,EAAM+G,QAAQ,KAI7B+E,WAAY,CACX5L,SAAU,YAGX6L,eAAgB,CACftd,MAAOsT,KAAM,KACb7B,SAAU,WACV0B,IAAK,MACLK,KAAM,MACN4I,WAAY,GACZtJ,YAAa,IAEdyK,YAAa,CACZxL,OAAQR,EAAM+G,QAAQ,GACtBkF,SAAU,KAEX8V,cAAe,CACd3f,MAAO,GACP7B,OAAQ,QAIJmrB,GAAYvf,OAAaC,MAAM,CACpCvjB,KAAMsjB,OACJE,IAAI,EAAG,wBACPE,SAAS,oBAgLGof,GA7KE,SAAC,GAAsC,IAApCv7B,EAAmC,EAAnCA,KAAM+Z,EAA6B,EAA7BA,QAASyhB,EAAoB,EAApBA,MAAO/G,EAAa,EAAbA,OACnC/hB,EAAUhD,KACR7N,EAASwL,qBAAW9D,GAApB1H,KACR,EAAwD6F,oBAAS,GAAjE,mBAAOsqB,EAAP,KAA6BC,EAA7B,KAEM5V,EAAe,CACpB5jB,KAAM,GACN4F,MAAO,IAGR,EAAsBqJ,mBAAS2U,GAA/B,mBAAO5D,EAAP,KAAYgjB,EAAZ,KAEA3yB,qBAAU,WACT,IACC,uBAAC,0FACK0yB,EADL,iEAGuBh1B,EAAIqE,IAAJ,gBAAiB2wB,IAHxC,gBAGQv0B,EAHR,EAGQA,KACRw0B,GAAO,SAAApjB,GACN,OAAO,2BAAKA,GAAcpR,MAL3B,0CAAD,GAQC,MAAOH,GACRD,EAAWC,MAEV,CAAC00B,EAAOx7B,IAEX,IAAM6c,EAAc,WACnB4e,EAAOpf,GACP4V,GAAwB,GACxBlY,KAGK2hB,EAAa,wCAAG,WAAM3e,GAAN,2EACf4e,EADe,2BACA5e,GADA,IACQ7J,OAAQrR,EAAKqH,KADrB,UAGhBsyB,EAHgB,gCAIbh1B,EAAIyM,IAAJ,gBAAiBuoB,GAASG,GAJb,6CAMbn1B,EAAIgC,KAAK,QAASmzB,GANL,OAQpBv0B,IAAMrN,QAAQgM,IAAKsB,EAAE,qBACA,mBAAVotB,GACVA,IAVmB,kDAapB5tB,EAAW,EAAD,IAbU,QAerBgW,IAfqB,0DAAH,sDAkBnB,OACC,yBAAKvQ,UAAWoG,EAAQ8I,MACvB,kBAACwB,GAAA,EAAD,CACChd,KAAMA,EACN+Z,QAAS8C,EACTnG,SAAS,KACTiE,WAAS,EACTsC,OAAO,SAEP,kBAACC,GAAA,EAAD,CAAahU,GAAG,qBACP,UAALsyB,EAAWz1B,IAAKsB,EAAE,uBAA8BtB,IAAKsB,EAAE,wBAE3D,kBAAC,KAAD,CACC8V,cAAe1E,EACf2E,oBAAoB,EACpBC,iBAAkBie,GAClBhe,SAAU,SAACP,EAAQ1gB,GAClBoR,YAAW,WACViuB,EAAc3e,GACd1gB,EAAQkhB,eAAc,KACpB,QAGH,gBAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,OAAQC,EAApB,EAAoBA,aAAcX,EAAlC,EAAkCA,OAAlC,OACA,kBAAC,KAAD,KACC,kBAACY,GAAA,EAAD,CAAeC,UAAQ,GACtB,yBAAKtR,UAAWoG,EAAQ+I,eACvB,kBAAC,KAAD,CACCoC,GAAIC,KACJxC,MAAOvV,IAAKsB,EAAE,sBACd5O,KAAK,OACLyO,MAAOsW,EAAQ/kB,MAAQulB,QAAQP,EAAOhlB,MACtCwlB,WAAYT,EAAQ/kB,MAAQglB,EAAOhlB,KACnC+b,QAAQ,WACRpE,OAAO,QACPmK,SAAU,SAAC9G,GAAD,OAAOgoB,GAAO,SAAAG,GAAI,kCAAUA,GAAV,IAAgBnjC,KAAMgb,EAAE9E,OAAO/E,YAC3D+Q,WAAS,KAGX,6BACA,yBAAKrO,UAAWoG,EAAQ+I,eACvB,kBAAC,KAAD,CACCoC,GAAIC,KACJnD,WAAS,EACTW,MAAOvV,IAAKsB,EAAE,uBACd5O,KAAK,QACLyQ,GAAG,QACHhC,MAAOsW,EAAQnf,OAAS2f,QAAQP,EAAOpf,OACvC4f,WAAYT,EAAQnf,OAASof,EAAOpf,MACpC6f,WAAY,CACX2N,eACC,kBAACzN,GAAA,EAAD,CAAgBtO,SAAS,SACxB,yBACCkE,MAAO,CAAEtC,gBAAiBqL,EAAO1e,OACjCiO,UAAWoG,EAAQif,iBAItBxT,aACC,kBAAClJ,EAAA,EAAD,CACCyJ,KAAK,QACLrgB,MAAM,UACNyP,QAAS,kBAAMmkB,GAAyBD,KAExC,kBAACO,GAAA,EAAD,QAIH/d,QAAQ,WACRpE,OAAO,WAIP4hB,GACD,6BACC,kBAAC,KAAD,CACC6J,cAAc,EACdC,aAAa,EACb9nB,MAAO,CAAC5D,OAAQ,eAChBxG,MAAO6O,EAAIpa,MACXkc,SAAU,SAAAwhB,GACTN,GAAO,SAAAG,GAAI,kCAAUA,GAAV,IAAgBv9B,MAAM,IAAD,OAAM09B,EAAItM,eAM/C,kBAAClR,GAAA,EAAD,KACC,kBAACC,GAAA,EAAD,CACC1Q,QAAS+O,EACTxe,MAAM,YACNuE,SAAU8a,EACVlJ,QAAQ,YAEPzO,IAAKsB,EAAE,4BAET,kBAACmX,GAAA,EAAD,CACCzU,KAAK,SACL1L,MAAM,UACNuE,SAAU8a,EACVlJ,QAAQ,YACRlI,UAAWoG,EAAQgJ,YAEb,UAAL8f,EACKz1B,IAAKsB,EAAE,2BACPtB,IAAKsB,EAAE,2BACZqW,GACA,kBAACe,GAAA,EAAD,CACCC,KAAM,GACNpS,UAAWoG,EAAQiJ,0B,2yMChM9B,IAAM9R,GAAU,SAACC,EAAOb,GACtB,GAAoB,cAAhBA,EAAOc,KAAsB,CAC/B,IAAMvI,EAAOyH,EAAOgB,QACd+xB,EAAU,GAWhB,OATAx6B,EAAK+N,SAAQ,SAACkJ,GACZ,IAAMwjB,EAAWnyB,EAAMM,WAAU,SAACC,GAAD,OAAOA,EAAEnB,KAAOuP,EAAIvP,OACnC,IAAd+yB,EACFnyB,EAAMmyB,GAAYxjB,EAElBujB,EAAQ3yB,KAAKoP,MAIX,GAAN,mBAAW3O,GAAUkyB,GAGvB,GAAoB,gBAAhB/yB,EAAOc,KAAwB,CACjC,IAAM0O,EAAMxP,EAAOgB,QACbgyB,EAAWnyB,EAAMM,WAAU,SAACC,GAAD,OAAOA,EAAEnB,KAAOuP,EAAIvP,MAErD,OAAkB,IAAd+yB,GACFnyB,EAAMmyB,GAAYxjB,EACX,YAAI3O,IAEL,CAAE2O,GAAR,mBAAgB3O,IAIpB,GAAoB,eAAhBb,EAAOc,KAAuB,CAChC,IAAMyxB,EAAQvyB,EAAOgB,QAEfgyB,EAAWnyB,EAAMM,WAAU,SAACC,GAAD,OAAOA,EAAEnB,KAAOsyB,KAIjD,OAHkB,IAAdS,GACFnyB,EAAMW,OAAOwxB,EAAU,GAElB,YAAInyB,GAGb,GAAoB,UAAhBb,EAAOc,KACT,MAAO,IAIL2F,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC2X,UAAU,aACRxV,KAAM,EACNO,QAAS1C,EAAM+G,QAAQ,GACvBL,UAAW,UACR1G,EAAM4G,qBAgNE0lB,GA5MF,WACX,IAAMxpB,EAAUhD,KAEhB,EAA8BhI,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAoCJ,mBAAS,GAA7C,mBAAO0N,EAAP,KAAmByV,EAAnB,KACA,EAA8BnjB,oBAAS,GAAvC,mBAAO8N,EAAP,KAAgBC,EAAhB,KACA,EAAsC/N,mBAAS,MAA/C,mBAAOy0B,EAAP,KAAoBC,EAApB,KACA,EAAsC10B,mBAAS,MAA/C,mBAAO20B,EAAP,KAAoBC,EAApB,KACA,EAAgD50B,oBAAS,GAAzD,mBAAO2gB,EAAP,KAAyBC,EAAzB,KACA,EAAsC5gB,mBAAS,IAA/C,mBAAOyN,EAAP,KAAoB2V,EAApB,KACA,EAAyBngB,qBAAWd,GAAS,IAA7C,mBAAOrI,EAAP,KAAaoJ,EAAb,KACA,EAAwClD,oBAAS,GAAjD,mBAAO60B,EAAP,KAAqBC,EAArB,KAEMC,EAAY5T,sBAAW,uBAAC,gHAEHriB,EAAIqE,IAAI,SAAU,CACvCiL,OAAQ,CAAEX,cAAaC,gBAHC,gBAElBnO,EAFkB,EAElBA,KAGR2D,EAAS,CAAEb,KAAM,YAAaE,QAAShD,EAAKzF,OAC5CiU,EAAWxO,EAAKuO,SAChB1N,GAAW,GAPe,kDAS1BjB,EAAW,EAAD,IATgB,0DAW3B,CAACsO,EAAaC,IAEjBtM,qBAAU,WACR8B,EAAS,CAAEb,KAAM,UACjB8gB,EAAc,KACb,CAAC1V,IAEJrM,qBAAU,WACRhB,GAAW,GACX,IAAM0F,EAAkBC,YAAW,WACjCgvB,MACC,KACH,OAAO,kBAAM5uB,aAAaL,MACzB,CAAC2H,EAAaC,EAAYqnB,IAE7B3zB,qBAAU,WACR,IAAMC,EAAS3P,IAAWN,+BAY1B,OAVAiQ,EAAOC,GAAG,QAAQ,SAAC/B,GACG,WAAhBA,EAAKgC,QAAuC,WAAhBhC,EAAKgC,QACnC2B,EAAS,CAAEb,KAAM,cAAeE,QAAShD,EAAKzF,OAG5B,WAAhByF,EAAKgC,QACP2B,EAAS,CAAEb,KAAM,cAAeE,SAAUhD,EAAKu0B,WAI5C,WACLzyB,EAAOxN,gBAER,IAEH,IAmBMmhC,EAAe,wCAAG,WAAOlB,GAAP,2FAEdh1B,EAAI3C,OAAJ,gBAAoB23B,IAFN,OAGpBp0B,IAAMrN,QAAQgM,IAAKsB,EAAE,wBAHD,+CAKpBR,EAAW,EAAD,IALU,cAOtBy1B,EAAe,MACfxR,EAAe,IACfD,EAAc,GAEdjgB,EAAS,CAAEb,KAAM,UACjB8gB,EAAc,GAZQ,UAahB4R,IAbgB,yDAAH,sDA4BrB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE5iC,MACEwiC,GAAW,UACRt2B,IAAKsB,EAAE,uCAEZrH,KAAMqoB,EACNtO,QAASuO,EACTnB,UAAW,kBAAMuV,EAAgBL,EAAYnzB,MAE5CnD,IAAKsB,EAAE,yCAEV,kBAAC,GAAD,CACErH,KAAMu8B,EACNxiB,QAzDsB,WAC1BqiB,EAAe,MACfI,GAAgB,IAwDZ/H,OAAQgI,EACRrV,kBAAgB,oBAChBoU,MAAOW,GAAeA,EAAYjzB,KAEpC,kBAAC,GAAD,KACA,kBAAC,GAAD,KAAQnD,IAAKsB,EAAE,eACf,kBAAC,GAAD,KACE,kBAACyW,GAAA,EAAD,CACEle,YAAamG,IAAKsB,EAAE,8BACpB0C,KAAK,SACLH,MAAOuL,EACPoF,SAhEa,SAACqH,GACpBkJ,EAAelJ,EAAMjT,OAAO/E,MAAMgiB,gBAgE5B1N,WAAY,CACV2N,eACA,kBAACzN,GAAA,EAAD,CAAgBtO,SAAS,SACrB,kBAAC,KAAD,CAAYkE,MAAO,CAAE3V,MAAO,cAKpC,kBAACmgB,GAAA,EAAD,CACEhK,QAAQ,YACRnW,MAAM,UACNyP,QAtFmB,WACzBsuB,EAAe,MACfI,GAAgB,KAsFTz2B,IAAKsB,EAAE,uBAIZ,kBAAC2f,GAAA,EAAD,CACE1a,UAAWoG,EAAQ6U,UACnB/S,QAAQ,WACRsX,SAxDe,SAACrY,GACpB,GAAK+B,IAAW3N,EAAhB,CACA,MAAkD4L,EAAEoO,cAA5CkK,EAAR,EAAQA,UAAR,EAAmBC,cACCD,EAAY,KADhC,EAAiCE,cALjCpB,GAAc,SAACxS,GAAD,OAAeA,EAAY,QA6DrC,kBAAC8Q,GAAA,EAAD,CAAOzK,KAAK,SACV,kBAAC0K,GAAA,EAAD,KACE,kBAACxG,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAWO,MAAM,UAAUrd,IAAKsB,EAAE,oBAClC,kBAACwb,GAAA,EAAD,CAAWO,MAAM,UAAUrd,IAAKsB,EAAE,uBAClC,kBAACwb,GAAA,EAAD,CAAWO,MAAM,UAAUrd,IAAKsB,EAAE,yBAGtC,kBAACgiB,GAAA,EAAD,KACI,oCACG7nB,EAAKyY,KAAI,SAACxB,GAAD,OACR,kBAACmK,GAAA,EAAD,CAAUrP,IAAKkF,EAAIvP,IACjB,kBAAC2Z,GAAA,EAAD,CAAWO,MAAM,UACf,kBAAC/H,GAAA,EAAD,CACE7G,QAAQ,WACRR,MAAO,CAACtC,gBAAiB+G,EAAIpa,MAAOs+B,WAAY,mBAAoBt+B,MAAO,SAC3Eid,MAAO7C,EAAIhgB,KACXimB,KAAK,WAGT,kBAACmE,GAAA,EAAD,CAAWO,MAAM,UAAU3K,EAAImkB,cAC/B,kBAAC/Z,GAAA,EAAD,CAAWO,MAAM,UACf,kBAACnO,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,kBA3GT,SAAC2K,GACrB2jB,EAAe3jB,GACf+jB,GAAgB,GAyGmBK,CAAcpkB,KAE7B,kBAAC,KAAD,OAGF,kBAACxD,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,SAAC2F,GACR6U,GAAoB,GACpBgU,EAAe7jB,KAGjB,kBAAC,KAAD,YAKP5Q,GAAW,kBAAC,GAAD,CAAkB8a,QAAS,U,m3MCnRhD,SAASma,GAAT,GAAsC,IAAfC,EAAc,EAAdA,WAE1B,EAAwBr1B,mBAAS,IAAjC,mBAAOlG,EAAP,KAAaw7B,EAAb,KACA,EAAkCt1B,mBAAS,IAA3C,mBAAOu1B,EAAP,KAAkBC,EAAlB,KAEAp0B,qBAAU,WAAM,6CACZ,+FACUq0B,IADV,4CADY,uBAAC,WAAD,wBAIZC,KACD,IAEH,IAAMD,EAAQ,wCAAG,gHAEc32B,EAAIqE,IAAJ,cAFd,gBAED5D,EAFC,EAEDA,KACR+1B,EAAQ/1B,GAHC,gDAKTJ,EAAW,EAAD,IALD,yDAAH,qDASR0T,EAAQ,wCAAG,WAAO3Q,GAAP,kEACbszB,EAAatzB,GACbmzB,EAAWnzB,GAFE,2CAAH,sDAKd,OACI,kBAACod,GAAA,EAAD,CAAOhT,MAAO,CAAC1B,QAAS,KACpB,kBAACmjB,GAAA,EAAD,CACI3a,UAAQ,EACR4D,KAAK,QACLhc,QAASlB,EACToI,MAAOqzB,EACP1iB,SAAU,SAAC9G,EAAG4pB,EAAGC,GAAP,OAAa/iB,EAAS8iB,IAChC3H,eAAgB,SAACC,GAAD,OAAYA,EAAOl9B,MACnC8kC,WAAY,SAAC3zB,EAAO4zB,GAAR,OACR5zB,EAAMqQ,KAAI,SAAC0b,EAAQxS,GAAT,OACN,kBAAC9H,GAAA,EAAD,eACI7G,QAAQ,WACRR,MAAO,CAACtC,gBAAiBikB,EAAOt3B,OAAS,OAAQs+B,WAAY,mBAAoBt+B,MAAO,SACxFid,MAAOqa,EAAOl9B,MACV+kC,EAAY,CAAEra,UAJtB,CAKIzE,KAAK,eAIjBmX,YAAa,SAAC/f,GAAD,OACT,kBAACgI,GAAA,EAAD,iBAAehI,EAAf,CAAuBtB,QAAQ,WAAW5U,YAAY,yB,wCC/CpE8P,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtC9C,OAAQ,CACPgD,SAAU,YAGX6L,eAAgB,CACftd,MAAOsT,KAAM,KACb7B,SAAU,WACV0B,IAAK,MACLK,KAAM,MACN4I,WAAY,GACZtJ,YAAa,QAiBAssB,GAbW,SAAC,GAAoC,IAAlC51B,EAAiC,EAAjCA,QAAS6B,EAAwB,EAAxBA,SAAag0B,EAAW,mBACvDhrB,EAAUhD,KAEhB,OACC,kBAAC8O,GAAA,EAAD,eAAQlS,UAAWoG,EAAQ5F,OAAQlK,SAAUiF,GAAa61B,GACxDh0B,EACA7B,GACA,kBAAC4W,GAAA,EAAD,CAAkBC,KAAM,GAAIpS,UAAWoG,EAAQiJ,mB,2yMCNnD,IAAMhO,GAASgwB,aAAoB,CAClCC,MAAM,IAyLQC,GAtLQ,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,UAAW/jB,EAAc,EAAdA,QAC9BvS,EAAUC,cAEhB,EAA8BC,mBAAS,IAAvC,mBAAOhF,EAAP,KAAgBq7B,EAAhB,KACA,EAA8Br2B,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAsCJ,mBAAS,IAA/C,mBAAOyN,EAAP,KAAoB2V,EAApB,KACA,EAA8CpjB,mBAAS,MAAvD,mBAAOs2B,EAAP,KAAwBC,EAAxB,KACA,EAAoCv2B,mBAAS,IAA7C,mBAAOw2B,EAAP,KAAmBC,EAAnB,KACA,EAAgDz2B,oBAAS,GAAzD,mBAAOujB,EAAP,KAAyBC,EAAzB,KACQrpB,EAASwL,qBAAW9D,GAApB1H,KAERiH,qBAAU,WACT,GAAKg1B,KAAa3oB,EAAYzH,OAAS,GAAvC,CAIA5F,GAAW,GACX,IAAM0F,EAAkBC,YAAW,YACf,wCAAG,gHAEGjH,EAAIqE,IAAI,WAAY,CAC1CiL,OAAQ,CAAEX,iBAHS,gBAEZlO,EAFY,EAEZA,KAGR82B,EAAW92B,EAAK5J,UAChByK,GAAW,GANS,gDAQpBA,GAAW,GACXjB,EAAW,EAAD,IATU,yDAAH,qDAanB0kB,KACE,KACH,OAAO,kBAAM1d,aAAaL,IApBzB1F,GAAW,KAqBV,CAACqN,EAAa2oB,IAEjB,IAAMjhB,EAAc,WACnB9C,IACA+Q,EAAe,IACfmT,EAAmB,OAGdzS,EAAgB,wCAAG,WAAMtB,GAAN,6EACnBA,EADmB,wDAExBpiB,GAAW,GAFa,kBAIQtB,EAAIgC,KAAK,WAAY,CACnD0hB,UAAWA,EACXhX,OAAQrR,EAAKqH,GACbhN,OAAQ,SAPc,gBAIT2T,EAJS,EAIf5I,KAKRO,EAAQ6B,KAAR,mBAAyBwG,EAAO3G,KATT,kDAWvBrC,EAAW,EAAD,IAXa,QAaxBiB,GAAW,GACX+U,IAdwB,0DAAH,sDA8DtB,OACC,oCACC,kBAAC,GAAD,CACC7c,KAAMirB,EACN9N,cAAe+gB,EACfnkB,QAzC6B,WAC/BmR,GAAoB,IAyClBf,OAtC+B,SAAAloB,GACjCupB,EAAiBvpB,EAAQiH,OAuCxB,kBAAC8T,GAAA,EAAD,CAAQhd,KAAM89B,EAAW/jB,QAAS8C,GACjC,kBAACK,GAAA,EAAD,CAAahU,GAAG,qBACdnD,IAAKsB,EAAE,yBAET,kBAACsW,GAAA,EAAD,CAAeC,UAAQ,GACtB,kBAAC6X,GAAA,EAAD,CACC/yB,QAASA,EACTmF,QAASA,EACTmM,MAAO,CAAEhC,MAAO,KAChBosB,aAAW,EACXC,eAAa,EACbC,UAAQ,EACRC,eAAa,EACb7I,eA7BqB,SAAAC,GACzB,OAAIA,EAAO73B,OACJ,GAAN,OAAU63B,EAAOl9B,KAAjB,cAA2Bk9B,EAAO73B,QAE5B,GAAN,OAAU63B,EAAOl9B,OA0Bd+lC,aAtCgB,SAAA7I,GACpB,OAAIA,EAAO73B,OACJ,GAAN,OAAU63B,EAAOl9B,KAAjB,cAA2Bk9B,EAAO73B,QAE5B,GAAN,OAAUiI,IAAKsB,EAAE,sBAAjB,YAA0CsuB,EAAOl9B,OAmC9CgmC,cAnD0B,SAACA,EAAe3oB,GAC9C,IAAM4oB,EAAW/wB,GAAO8wB,EAAe3oB,GAQvC,MAN0B,KAAtBA,EAAO6oB,aAAsB92B,GAAWsN,EAAYzH,QAAU,GACjEgxB,EAASr1B,KAAK,CACb5Q,KAAK,GAAD,OAAKqd,EAAO6oB,cAIXD,GA2CHnkB,SAAU,SAAC9G,EAAGmrB,GAAJ,OArEY,SAACnrB,EAAGmrB,IAC9B,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAU9gC,QACbmgC,EAAmBW,IACb,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAUnmC,QACpB0lC,EAAc,CAAE1lC,KAAMmmC,EAASnmC,OAC/ByyB,GAAoB,IAgEU2T,CAAmBprB,EAAGmrB,IACjD/I,YAAa,SAAA/f,GAAM,OAClB,kBAACgI,GAAA,EAAD,iBACKhI,EADL,CAECwF,MAAOvV,IAAKsB,EAAE,6BACdmN,QAAQ,WACRuJ,WAAS,EACTxD,SAAU,SAAA9G,GAAC,OAAIqX,EAAerX,EAAE9E,OAAO/E,QACvCk1B,WAAY,SAAArrB,IACP5L,GAAYm2B,GACG,UAAVvqB,EAAEF,KACViY,EAAiBwS,EAAgB90B,KAGnCgV,WAAU,2BACNpI,EAAOoI,YADD,IAETC,aACC,kBAAC,IAAM7K,SAAP,KACEzL,EACA,kBAAC4W,GAAA,EAAD,CAAkBpgB,MAAM,UAAUqgB,KAAM,KACrC,KACH5I,EAAOoI,WAAWC,uBAQ1B,kBAACI,GAAA,EAAD,KACC,kBAACC,GAAA,EAAD,CACC1Q,QAAS+O,EACTxe,MAAM,YACNuE,SAAUiF,EACV2M,QAAQ,YAEPzO,IAAKsB,EAAE,kCAET,kBAAC,GAAD,CACCmN,QAAQ,YACRzK,KAAK,SACLnH,UAAWo7B,EACXlwB,QAAS,kBAAM0d,EAAiBwS,EAAgB90B,KAChD7K,MAAM,UACNwJ,QAASA,GAER9B,IAAKsB,EAAE,kCC3JC03B,GArCS,WACvB,OACC,oCACC,kBAAClyB,GAAA,EAAD,CAAU2G,OAAK,GACd,kBAACS,GAAA,EAAD,KACC,kBAAC6O,GAAA,EAAD,CAAUC,UAAU,OAAOvO,QAAQ,SAASxC,MAAO,GAAI7B,OAAQ,MAEhE,kBAAClD,GAAA,EAAD,CACCb,QAAS,kBAAC0W,GAAA,EAAD,CAAUC,UAAU,OAAO5S,OAAQ,GAAI6B,MAAO,KACvD8C,UAAW,kBAACgO,GAAA,EAAD,CAAUC,UAAU,OAAO5S,OAAQ,GAAI6B,MAAO,QAG3D,kBAAC9D,EAAA,EAAD,CAASsG,QAAQ,UACjB,kBAAC3H,GAAA,EAAD,CAAU2G,OAAK,GACd,kBAACS,GAAA,EAAD,KACC,kBAAC6O,GAAA,EAAD,CAAUC,UAAU,OAAOvO,QAAQ,SAASxC,MAAO,GAAI7B,OAAQ,MAEhE,kBAAClD,GAAA,EAAD,CACCb,QAAS,kBAAC0W,GAAA,EAAD,CAAUC,UAAU,OAAO5S,OAAQ,GAAI6B,MAAO,KACvD8C,UAAW,kBAACgO,GAAA,EAAD,CAAUC,UAAU,OAAO5S,OAAQ,GAAI6B,MAAO,SAG3D,kBAAC9D,EAAA,EAAD,CAASsG,QAAQ,UACjB,kBAAC3H,GAAA,EAAD,CAAU2G,OAAK,GACd,kBAACS,GAAA,EAAD,KACC,kBAAC6O,GAAA,EAAD,CAAUC,UAAU,OAAOvO,QAAQ,SAASxC,MAAO,GAAI7B,OAAQ,MAEhE,kBAAClD,GAAA,EAAD,CACCb,QAAS,kBAAC0W,GAAA,EAAD,CAAUC,UAAU,OAAO5S,OAAQ,GAAI6B,MAAO,KACvD8C,UAAW,kBAACgO,GAAA,EAAD,CAAUC,UAAU,OAAO5S,OAAQ,GAAI6B,MAAO,QAG3D,kBAAC9D,EAAA,EAAD,CAASsG,QAAQ,YC1Bd9E,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCovB,mBAAoB,CAClBlvB,SAAU,WACVI,QAAS,OACTC,OAAQ,OACRE,cAAe,SACf+P,SAAU,SACV6e,qBAAsB,EACtBC,wBAAyB,GAG3Bv+B,YAAY,yBACVoR,KAAM,EACNuE,UAAW,UACR1G,EAAM4G,iBAHA,IAIT2oB,UAAW,kCAGbC,kBAAmB,CACjB/gC,MAAO,mBACPugB,OAAQ,EACRlN,gBAAiB,QACjB2tB,aAAc,gCACdnvB,QAAS,OACTI,WAAY,SACZC,eAAgB,iBAGlBqsB,aAAc,CACZhsB,WAAY,SACZvS,MAAO,qBACP8S,WAAY,MACZT,SAAU,QAGZF,cAAe,CACbC,UAAW,SACXpS,MAAO,qBACPqS,SAAU,OACVC,WAAY,OAGd7P,eAAgB,CACd2P,UAAW,SACXC,SAAU,OACVE,WAAY,MACZR,OAAQ,OAGVH,aAAc,CACZC,QAAS,OACTC,OAAQ,QACRC,OAAQ,GACRC,cAAe,SACfC,WAAY,SACZC,eAAgB,cAId1G,GAAU,SAACC,EAAOb,GACtB,GAAoB,iBAAhBA,EAAOc,KAeT,OAdmBd,EAAOgB,QAEfsF,SAAQ,SAACM,GAClB,IAAMyI,EAAcxO,EAAMM,WAAU,SAAC/C,GAAD,OAAOA,EAAE6B,KAAO2G,EAAO3G,OACtC,IAAjBoP,GACFxO,EAAMwO,GAAezI,EACjBA,EAAOkF,eAAiB,GAC1BjL,EAAMw1B,QAAQx1B,EAAMW,OAAO6N,EAAa,GAAG,KAG7CxO,EAAMT,KAAKwG,MAIR,YAAI/F,GAGb,GAAoB,iBAAhBb,EAAOc,KAAyB,CAClC,IAAM4I,EAAW1J,EAAOgB,QAElBqO,EAAcxO,EAAMM,WAAU,SAAC/C,GAAD,OAAOA,EAAE6B,KAAOyJ,KAKpD,OAJqB,IAAjB2F,IACFxO,EAAMwO,GAAavD,eAAiB,GAG/B,YAAIjL,GAGb,GAAoB,kBAAhBb,EAAOc,KAA0B,CACnC,IAAM8F,EAAS5G,EAAOgB,QAEhBqO,EAAcxO,EAAMM,WAAU,SAAC/C,GAAD,OAAOA,EAAE6B,KAAO2G,EAAO3G,MAO3D,OANqB,IAAjBoP,EACFxO,EAAMwO,GAAezI,EAErB/F,EAAMw1B,QAAQzvB,GAGT,YAAI/F,GAGb,GAAoB,kCAAhBb,EAAOc,KAA0C,CACnD,IAAM8F,EAAS5G,EAAOgB,QAEhBqO,EAAcxO,EAAMM,WAAU,SAAC/C,GAAD,OAAOA,EAAE6B,KAAO2G,EAAO3G,MAQ3D,OAPqB,IAAjBoP,GACFxO,EAAMwO,GAAezI,EACrB/F,EAAMw1B,QAAQx1B,EAAMW,OAAO6N,EAAa,GAAG,KAE3CxO,EAAMw1B,QAAQzvB,GAGT,YAAI/F,GAGb,GAAoB,0BAAhBb,EAAOc,KAAkC,CAC3C,IAAM9H,EAAUgH,EAAOgB,QACjBqO,EAAcxO,EAAMM,WAAU,SAAC/C,GAAD,OAAOA,EAAE6iB,YAAcjoB,EAAQiH,MAInE,OAHqB,IAAjBoP,IACFxO,EAAMwO,GAAarW,QAAUA,GAExB,YAAI6H,GAGb,GAAoB,kBAAhBb,EAAOc,KAA0B,CACnC,IAAM4I,EAAW1J,EAAOgB,QAClBqO,EAAcxO,EAAMM,WAAU,SAAC/C,GAAD,OAAOA,EAAE6B,KAAOyJ,KAKpD,OAJqB,IAAjB2F,GACFxO,EAAMW,OAAO6N,EAAa,GAGrB,YAAIxO,GAGb,MAAoB,UAAhBb,EAAOc,KACF,QADT,GAqKaw1B,GAhKK,SAACrzB,GACnB,IACEhQ,EAOEgQ,EAPFhQ,OACAiZ,EAMEjJ,EANFiJ,YACAjV,EAKEgM,EALFhM,QACAoa,EAIEpO,EAJFoO,iBACAklB,EAGEtzB,EAHFszB,YACAxrB,EAEE9H,EAFF8H,MACAxS,EACE0K,EADF1K,KAEIkR,EAAUhD,KAChB,EAAoChI,mBAAS,GAA7C,mBAAO0N,EAAP,KAAmByV,EAAnB,KACA,EAAgClgB,qBAAWd,GAAS,IAApD,mBAAOlJ,EAAP,KAAoBiK,EAApB,KACQ/I,EAASwL,qBAAW9D,GAApB1H,KACDxC,EAAoBwC,EAApBxC,QAASiC,EAAWO,EAAXP,OAEhBwH,qBAAU,WACR8B,EAAS,CAAEb,KAAM,UACjB8gB,EAAc,KACb,CAAC3uB,EAAQiZ,EAAavK,EAAU1K,EAASoa,EAAkB9Y,IAE9D,MAAsC0T,GAAW,CAC/CE,aACAD,cACAjZ,SACAgE,UACAsB,KAAMjI,KAAKmP,UAAUlH,GACrB8T,SAAU/b,KAAKmP,UAAU4R,KANnBza,EAAR,EAAQA,QAAS2V,EAAjB,EAAiBA,QAAS3N,EAA1B,EAA0BA,QAS3BiB,qBAAU,WACT,IAAMwM,EAAWhU,EAAO2Y,KAAI,SAACmB,GAAD,OAAOA,EAAElS,MAC/Bu2B,EAAkB5/B,EAAQ8N,QAAO,SAACtG,GAAD,OAAOiO,EAASmjB,QAAQpxB,EAAE0pB,UAAY,KAG5EnmB,EADe,SAAZvL,EACM,CAAE0K,KAAM,eAAgBE,QAASw1B,GAEjC,CAAE11B,KAAM,eAAgBE,QAASpK,MAEzC,CAACA,EAAS3D,EAAQiZ,EAAa7T,EAAQjC,IAEzCyJ,qBAAU,WACR,IAAMC,EAAS3P,IAETsmC,EAAqB,SAAC7vB,GAAD,QACvBA,EAAOqD,QAAUrD,EAAOqD,UAAP,OAAkBrR,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAMqH,KAAMhJ,MAC/C2P,EAAOkhB,SAAWzW,EAAiBme,QAAQ5oB,EAAOkhB,UAAY,IAuDlE,OAlDAhoB,EAAOC,GAAG,WAAW,WACf9M,EACF6M,EAAOqP,KAAK,cAAelc,GAE3B6M,EAAOqP,KAAK,uBAIhBrP,EAAOC,GAAG,UAAU,SAAC/B,GAXU,IAAC4I,EAYV,iBAAhB5I,EAAKgC,QACP2B,EAAS,CACPb,KAAM,eACNE,QAAShD,EAAK0L,WAIE,WAAhB1L,EAAKgC,QAAuBy2B,EAAmBz4B,EAAK4I,SACtDjF,EAAS,CACPb,KAAM,gBACNE,QAAShD,EAAK4I,SAIE,WAAhB5I,EAAKgC,UA1BqB4G,EA0ByB5I,EAAK4I,QAzBrDkhB,UAAyD,IAA9CzW,EAAiBme,QAAQ5oB,EAAOkhB,WA0BhDnmB,EAAS,CAAEb,KAAM,gBAAiBE,QAAShD,EAAK4I,OAAO3G,KAGrC,WAAhBjC,EAAKgC,QACP2B,EAAS,CAAEb,KAAM,gBAAiBE,QAAShD,EAAK0L,cAIpD5J,EAAOC,GAAG,cAAc,SAAC/B,GACH,WAAhBA,EAAKgC,QAAuBy2B,EAAmBz4B,EAAK4I,SACtDjF,EAAS,CACPb,KAAM,gCACNE,QAAShD,EAAK4I,YAKpB9G,EAAOC,GAAG,WAAW,SAAC/B,GACA,WAAhBA,EAAKgC,QACP2B,EAAS,CACPb,KAAM,wBACNE,QAAShD,EAAKhF,aAKb,WACL8G,EAAOxN,gBAER,CAACW,EAAQgE,EAAS2B,EAAMyY,IAE3BxR,qBAAU,WACmB,oBAAhB02B,GACTA,EAAY7+B,EAAY+M,UAGzB,CAAC/M,IAgBJ,OACE,kBAACqmB,GAAA,EAAD,CAAO1a,UAAWoG,EAAQssB,mBAAoBhrB,MAAOA,GACnD,kBAACgT,GAAA,EAAD,CACE2Y,QAAM,EACNlnC,KAAK,SACL6uB,UAAW,EACXhb,UAAWoG,EAAQ/R,YACnBmrB,SAjBe,SAACrY,GACpB,GAAK+B,IAAW3N,EAAhB,CAEA,MAAkD4L,EAAEoO,cAA5CkK,EAAR,EAAQA,UAAR,EAAmBC,cAECD,EAAY,KAFhC,EAAiCE,cANjCpB,GAAc,SAACxS,GAAD,OAAeA,EAAY,QAsBrC,kBAAC2B,EAAA,EAAD,CAAMhG,MAAO,CAAEsM,WAAY,IACD,IAAvB3f,EAAY+M,QAAiB7F,EAU5B,oCACGlH,EAAYsZ,KAAI,SAACpK,GAAD,OACf,kBAAC,GAAD,CAAgBA,OAAQA,EAAQ0D,IAAK1D,EAAO3G,SAXhD,yBAAKoD,UAAWoG,EAAQzC,cACtB,0BAAM3D,UAAWoG,EAAQ5R,gBACtBiF,IAAKsB,EAAE,+BAEV,uBAAGiF,UAAWoG,EAAQlC,eACnBzK,IAAKsB,EAAE,kCAUbQ,GAAW,kBAAC+3B,GAAD,U,+BClSPC,GAfE,SAAC,GAAwC,IAAtCn2B,EAAqC,EAArCA,SAAUE,EAA2B,EAA3BA,MAAOnR,EAAoB,EAApBA,KAASilC,EAAW,mBACxD,OAAI9zB,IAAUnR,EAEZ,uCACC6S,KAAK,WACLpC,GAAE,0BAAqBzQ,GACvB2uB,kBAAA,qBAA+B3uB,IAC3BilC,GAEJ,oCAAGh0B,IAGQ,MC6CAo2B,GAnDY,SAAC,GAIrB,IAHNC,EAGK,EAHLA,WAGK,IAFLzlB,wBAEK,MAFc,GAEd,EADLC,EACK,EADLA,SAMA,OACC,yBAAKvG,MAAO,CAAEhC,MAAO,IAAKyI,WAAY,IACrC,kBAACC,GAAA,EAAD,CAAaC,WAAS,EAACvK,OAAO,SAC7B,kBAACyK,GAAA,EAAD,CACCC,UAAQ,EACRklB,cAAY,EACZxrB,QAAQ,WACR5K,MAAO0Q,EACPC,SAZiB,SAAA9G,GACpB8G,EAAS9G,EAAE9E,OAAO/E,QAYfoR,UAAW,CACVtB,aAAc,CACbC,SAAU,SACVC,WAAY,QAEbC,gBAAiB,CAChBF,SAAU,MACVC,WAAY,QAEbqB,mBAAoB,MAErBC,YAAa,kBAAMnV,IAAKsB,EAAE,qCAEf,OAAV04B,QAAU,IAAVA,OAAA,EAAAA,EAAYryB,QAAS,GACrBqyB,EAAW9lB,KAAI,SAAAlG,GAAK,OACnB,kBAACwH,EAAA,EAAD,CAAU/H,OAAK,EAACD,IAAKQ,EAAM7K,GAAIU,MAAOmK,EAAM7K,IAC3C,kBAAC4d,GAAA,EAAD,CACC9S,MAAO,CACN3V,MAAO0V,EAAM1V,OAEdqgB,KAAK,QACLrgB,MAAM,UACNsnB,QAASrL,EAAiBme,QAAQ1kB,EAAM7K,KAAO,IAEhD,kBAAC+D,GAAA,EAAD,CAAcb,QAAS2H,EAAMtb,eCxB/BiX,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCqwB,eAAgB,CACdnwB,SAAU,WACVI,QAAS,OACTC,OAAQ,OACRE,cAAe,SACf+P,SAAU,SACV6e,qBAAsB,EACtBC,wBAAyB,GAG3BgB,WAAY,CACVnuB,KAAM,OACNL,gBAAiB,QAGnByuB,aAAc,CACZlvB,UAAW,SACXE,WAAY,OACZmB,QAAS,GAGX8tB,IAAK,CACHvkB,SAAU,IACV7J,MAAO,KAGTquB,iBAAkB,CAChBnwB,QAAS,OACTK,eAAgB,gBAChBD,WAAY,SACZ8B,WAAY,UACZE,QAAS1C,EAAM+G,QAAQ,IAGzB2pB,mBAAoB,CAClBvuB,KAAM,EACNK,WAAY,OACZlC,QAAS,OACTsC,aAAc,GACdF,QAAS,EACTpB,YAAatB,EAAM+G,QAAQ,IAG7B4pB,WAAY,CACVliC,MAAO,OACP8S,WAAY,EACZD,YAAa,EACbD,UAAW,UAGbuvB,YAAa,CACXzuB,KAAM,EACNM,OAAQ,OACRG,aAAc,IAGhBwC,MAAO,CACL9C,MAAO,SAETuuB,KAAM,CACJvwB,QAAS,SAEXwwB,KAAM,CACJxwB,QAAS,uBAmOEywB,GA/NQ,WACrB,IA8BIC,EA9BEluB,EAAUhD,KAEhB,EAAsChI,mBAAS,IAA/C,mBAAOyN,EAAP,KAAoB2V,EAApB,KACA,EAAsBpjB,mBAAS,QAA/B,mBAAO04B,EAAP,KAAYS,EAAZ,KACA,EAA8Bn5B,mBAAS,QAAvC,mBAAOo5B,EAAP,KAAgBC,EAAhB,KACA,EAAoDr5B,oBAAS,GAA7D,mBAAOs5B,EAAP,KAA2BC,EAA3B,KACA,EAA4Cv5B,oBAAS,GAArD,mBAAOw5B,EAAP,KAAuBC,EAAvB,KACMC,EAAiBtuB,mBACfjR,EAASwL,qBAAW9D,GAApB1H,KAER,EAAkC6F,mBAAS,GAA3C,mBAAO25B,EAAP,KAAkBC,EAAlB,KACA,EAAwC55B,mBAAS,GAAjD,mBAAO65B,EAAP,KAAqBC,EAArB,KACA,EAAwC95B,mBAAS,IAAjD,mBAAO+5B,EAAP,KAAqBC,EAArB,KAEM/kB,EAAe9a,EAAKP,OAAO2Y,KAAI,SAACmB,GAAD,OAAOA,EAAElS,MAC9C,EAAgDxB,mBAASiV,GAAgB,IAAzE,mBAAOrC,EAAP,KAAyBiC,EAAzB,KAEAzT,qBAAU,WAC2B,UAA/BjH,EAAKxC,QAAQsiC,eACfR,GAAkB,KAGnB,IAEHr4B,qBAAU,WACI,WAARs3B,GACFgB,EAAeruB,QAAQqG,UAExB,CAACgnB,IAIJ,IA6BMwB,EAAkB,SAAC1lC,GACvB,GAAI4kC,IAAY5kC,EACd,MAAO,CAAE8V,MAAO,EAAG7B,OAAQ,IAI/B,OACE,kBAAC6W,GAAA,EAAD,CAAOM,UAAW,EAAG9S,QAAQ,WAAWlI,UAAWoG,EAAQutB,gBACzD,kBAAC,GAAD,CACEnC,UAAWkD,EACXjnB,QAAS,SAACtG,GAAD,OAAOwtB,GAAsB,MAExC,kBAACja,GAAA,EAAD,CAAOM,UAAW,EAAGqY,QAAM,EAACrzB,UAAWoG,EAAQwtB,YAC7C,kBAAC2B,GAAA,EAAD,CACEj4B,MAAOw2B,EACP7lB,SAvBgB,SAAC9G,EAAGmrB,GAC1BiC,EAAOjC,IAuBDpqB,QAAQ,YACRstB,eAAe,UACfC,UAAU,UACVxoB,aAAW,2BAEX,kBAACyoB,GAAA,EAAD,CACEp4B,MAAO,OACPuC,KAAM,kBAAC,KAAD,MACNmP,MAAOvV,IAAKsB,EAAE,2BACdqL,QAAS,CAAE8I,KAAM9I,EAAQ0tB,OAE3B,kBAAC4B,GAAA,EAAD,CACEp4B,MAAO,SACPuC,KAAM,kBAAC,KAAD,MACNmP,MAAOvV,IAAKsB,EAAE,6BACdqL,QAAS,CAAE8I,KAAM9I,EAAQ0tB,OAE3B,kBAAC4B,GAAA,EAAD,CACEp4B,MAAO,SACPuC,KAAM,kBAAC,KAAD,MACNmP,MAAOvV,IAAKsB,EAAE,6BACdqL,QAAS,CAAE8I,KAAM9I,EAAQ0tB,SAI/B,kBAACpZ,GAAA,EAAD,CAAO2Y,QAAM,EAACrY,UAAW,EAAGhb,UAAWoG,EAAQ2tB,kBACpC,WAARD,EACC,yBAAK9zB,UAAWoG,EAAQ4tB,oBACtB,kBAAC,KAAD,CAAYh0B,UAAWoG,EAAQ6tB,aAC/B,kBAAC0B,GAAA,EAAD,CACE31B,UAAWoG,EAAQ8tB,YACnBhO,SAAU4O,EACVxhC,YAAamG,IAAKsB,EAAE,8BACpB0C,KAAK,SACLwQ,SA/ES,SAAC9G,GACpB,IAAMyuB,EAAezuB,EAAE9E,OAAO/E,MAAMgiB,cAIpC,GAFA/d,aAAa+yB,GAEQ,KAAjBsB,EAGF,OAFApX,EAAeoX,QACfrB,EAAO,QAITD,EAAgBnzB,YAAW,WACzBqd,EAAeoX,KACd,SAsEG,oCACE,kBAAC1jB,GAAA,EAAD,CACEhK,QAAQ,WACRnW,MAAM,UACNyP,QAAS,kBAAMmzB,GAAsB,KAEpCl7B,IAAKsB,EAAE,qCAEV,kBAACgE,GAAD,CACEC,KAAMzJ,EAAKxC,QACXkM,QAAQ,0BACRC,IAAK,kBACH,kBAACua,GAAA,EAAD,CACEzK,MAAOvV,IAAKsB,EAAE,2BACd0f,eAAe,QACff,QACE,kBAACC,GAAA,EAAD,CACEvH,KAAK,QACLiH,QAASub,EACT3mB,SAAU,kBACR4mB,GAAkB,SAAC9oB,GAAD,OAAgBA,MAEpC5f,KAAK,iBACL4F,MAAM,kBAQpB,kBAAC,GAAD,CACE2V,MAAO,CAAE7C,WAAY,GACrBmJ,iBAAkBA,EAClBylB,WAAU,OAAEl+B,QAAF,IAAEA,OAAF,EAAEA,EAAMP,OAClBiZ,SAAU,SAACwC,GAAD,OAAYR,EAAoBQ,OAG9C,kBAAC,GAAD,CAAUnT,MAAOw2B,EAAK3nC,KAAK,OAAO6T,UAAWoG,EAAQutB,gBACnD,kBAAC4B,GAAA,EAAD,CACEj4B,MAAOk3B,EACPvmB,SAnGoB,SAAC9G,EAAGmrB,GAC9BmC,EAAWnC,IAmGLkD,eAAe,UACfC,UAAU,UACVvtB,QAAQ,aAER,kBAACwtB,GAAA,EAAD,CACE1mB,MACE,kBAACvN,GAAA,EAAD,CACEzB,UAAWoG,EAAQsC,MACnB/G,aAAcozB,EACdhjC,MAAM,WAEL0H,IAAKsB,EAAE,+BAGZuC,MAAO,SAET,kBAACo4B,GAAA,EAAD,CACE1mB,MACE,kBAACvN,GAAA,EAAD,CACEzB,UAAWoG,EAAQsC,MACnB/G,aAAcszB,EACdljC,MAAM,aAEL0H,IAAKsB,EAAE,8BAGZuC,MAAO,aAGX,kBAACod,GAAA,EAAD,CAAO1a,UAAWoG,EAAQutB,gBACxB,kBAAC,GAAD,CACE/jC,OAAO,OACPgE,QAASghC,EACT5mB,iBAAkBA,EAClBklB,YAAa,SAACzD,GAAD,OAASuF,EAAavF,IACnC/nB,MAAO4tB,EAAgB,UAEzB,kBAAC,GAAD,CACE1lC,OAAO,UACPoe,iBAAkBA,EAClBklB,YAAa,SAACzD,GAAD,OAASyF,EAAgBzF,IACtC/nB,MAAO4tB,EAAgB,eAI7B,kBAAC,GAAD,CAAUh4B,MAAOw2B,EAAK3nC,KAAK,SAAS6T,UAAWoG,EAAQutB,gBACrD,kBAAC,GAAD,CACE/jC,OAAO,SACPgE,SAAS,EACToa,iBAAkBA,KAGtB,kBAAC,GAAD,CAAU1Q,MAAOw2B,EAAK3nC,KAAK,SAAS6T,UAAWoG,EAAQutB,gBACvD,kBAACnD,GAAD,CAAYC,WAlKW,SAACE,GAC1B,IAAMz7B,EAAOy7B,EAAUhjB,KAAI,SAAA5S,GAAC,OAAIA,EAAE6B,MAClCw4B,EAAgBlgC,MAiKZ,kBAAC,GAAD,CACE2T,YAAaA,EACb3T,KAAMigC,EACNvhC,SAAS,EACToa,iBAAkBA,O,ozMC/SrB,SAAS6nB,GAAT,GAAqC,IAAXtyB,EAAU,EAAVA,OAE7B,EAAwBnI,mBAAS,IAAjC,mBAAOlG,EAAP,KAAaw7B,EAAb,KACA,EAAkCt1B,mBAAS,IAA3C,mBAAOu1B,EAAP,KAAkBC,EAAlB,KAEAp0B,qBAAU,WACF+G,GAAQ,wCACR,+FACUstB,IADV,OAEQna,MAAMqS,QAAQxlB,EAAOrO,OACrB07B,EAAartB,EAAOrO,MAH5B,2CADQ,oDAOR47B,KAEL,CAACvtB,IAEJ,IAAMuyB,EAAS,wCAAG,WAAOn7B,GAAP,mGAE2BT,EAAIgC,KAAJ,QAAkBvB,GAF7C,uBAEIo7B,EAFJ,EAEFp7B,KAFE,kBAGHo7B,GAHG,gCAKVx7B,EAAW,EAAD,IALA,yDAAH,sDASTs2B,EAAQ,wCAAG,gHAEc32B,EAAIqE,IAAJ,cAFd,gBAED5D,EAFC,EAEDA,KACR+1B,EAAQ/1B,GAHC,gDAKTJ,EAAW,EAAD,IALD,yDAAH,qDASRy7B,EAAQ,wCAAG,WAAOr7B,GAAP,mGAE4BT,EAAIgC,KAAJ,aAAuBvB,GAFnD,uBAEKo7B,EAFL,EAEDp7B,KAFC,kBAGFo7B,GAHE,gCAKTx7B,EAAW,EAAD,IALD,yDAAH,sDASR0T,EAAQ,wCAAG,WAAO3Q,EAAO24B,GAAd,mFACTC,EAAiB,GACN,kBAAXD,EAFS,qBAGLlN,mBAAQzrB,GAHH,gCAIYA,GAJZ,4DAIIyc,EAJJ,SAKGoc,oBAASpc,GALZ,kCAMwB+b,EAAU,CAAE3pC,KAAM4tB,IAN1C,QAMSqc,EANT,OAOGF,EAAen5B,KAAKq5B,GAPvB,wBASGF,EAAen5B,KAAKgd,GATvB,gKAaH8W,IAbG,gCAeTqF,EAAiB54B,EAfR,eAiBbszB,EAAasF,GAjBA,UAkBPF,EAAS,CAAE3vB,SAAU9C,EAAO3G,GAAI1H,KAAMghC,IAlB/B,gEAAH,wDAqBd,OACI,kBAACxb,GAAA,EAAD,CAAOhT,MAAO,CAAC1B,QAAS,KACpB,kBAACmjB,GAAA,EAAD,CACI3a,UAAQ,EACR4D,KAAK,QACLhc,QAASlB,EACToI,MAAOqzB,EACPqB,UAAQ,EACR/jB,SAAU,SAAC9G,EAAG4pB,EAAGC,GAAP,OAAa/iB,EAAS8iB,EAAGC,IACnC5H,eAAgB,SAACC,GAAD,OAAYA,EAAOl9B,MACnC8kC,WAAY,SAAC3zB,EAAO4zB,GAAR,OACR5zB,EAAMqQ,KAAI,SAAC0b,EAAQxS,GAAT,OACN,kBAAC9H,GAAA,EAAD,eACI7G,QAAQ,WACRR,MAAO,CAACtC,gBAAiBikB,EAAOt3B,OAAS,OAAQs+B,WAAY,mBAAoBt+B,MAAO,SACxFid,MAAOqa,EAAOl9B,MACV+kC,EAAY,CAAEra,UAJtB,CAKIzE,KAAK,eAIjBmX,YAAa,SAAC/f,GAAD,OACT,kBAACgI,GAAA,EAAD,iBAAehI,EAAf,CAAuBtB,QAAQ,WAAW5U,YAAY,WAE1D+iC,eAAgB,gBAAGj5B,EAAH,EAAGA,SAAH,OACZ,kBAACsd,GAAA,EAAD,CAAOhT,MAAO,CAAChC,MAAO,IAAKb,WAAY,KAClCzH,O,yBCxDVk5B,GApCe,SAAC,GAAiB,IAAflwB,EAAc,EAAdA,QAChC,OACC,yBAAKpG,UAAWoG,EAAQ5W,SACvB,kBAACkrB,GAAA,EAAD,CAAO2Y,QAAM,EAACnrB,QAAQ,WAAWlI,UAAWoG,EAAQmwB,eACnD,kBAAC/f,GAAA,EAAD,CACCC,UAAU,OACVvO,QAAQ,SACRxC,MAAO,IACP7B,OAAQ,IACR7D,UAAWoG,EAAQowB,gBAEpB,kBAAChgB,GAAA,EAAD,CAAUC,UAAU,OAAO5S,OAAQ,GAAI6B,MAAO,KAC9C,kBAAC8Q,GAAA,EAAD,CAAUC,UAAU,OAAO5S,OAAQ,GAAI6B,MAAO,KAC9C,kBAAC8Q,GAAA,EAAD,CAAUC,UAAU,OAAO5S,OAAQ,GAAI6B,MAAO,MAE/C,kBAACgV,GAAA,EAAD,CAAO2Y,QAAM,EAACrzB,UAAWoG,EAAQqwB,gBAChC,kBAACzuB,EAAA,EAAD,CAAYE,QAAQ,aAClBzO,IAAKsB,EAAE,4BAET,kBAAC2f,GAAA,EAAD,CAAO2Y,QAAM,EAACnrB,QAAQ,WAAWlI,UAAWoG,EAAQswB,kBACnD,kBAAClgB,GAAA,EAAD,CAAUC,UAAU,OAAO5S,OAAQ,GAAI6B,MAAO,KAC9C,kBAAC8Q,GAAA,EAAD,CAAUC,UAAU,OAAO5S,OAAQ,GAAI6B,MAAO,OAE/C,kBAACgV,GAAA,EAAD,CAAO2Y,QAAM,EAACnrB,QAAQ,WAAWlI,UAAWoG,EAAQswB,kBACnD,kBAAClgB,GAAA,EAAD,CAAUC,UAAU,OAAO5S,OAAQ,GAAI6B,MAAO,KAC9C,kBAAC8Q,GAAA,EAAD,CAAUC,UAAU,OAAO5S,OAAQ,GAAI6B,MAAO,OAE/C,kBAACgV,GAAA,EAAD,CAAO2Y,QAAM,EAACnrB,QAAQ,WAAWlI,UAAWoG,EAAQswB,kBACnD,kBAAClgB,GAAA,EAAD,CAAUC,UAAU,OAAO5S,OAAQ,GAAI6B,MAAO,KAC9C,kBAAC8Q,GAAA,EAAD,CAAUC,UAAU,OAAO5S,OAAQ,GAAI6B,MAAO,UCd7CtC,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCiP,OAAQ,CACP7M,MAJkB,IAKlBixB,WAAY,GAEbnjB,YAAa,CACZ9N,MARkB,IASlB9B,QAAS,OACTivB,UAAW,gCACX+D,YAAa,gCACb7D,aAAc,gCACdJ,qBAAsB,EACtBC,wBAAyB,GAE1Bh8B,OAAQ,CACPgN,QAAS,OACTmvB,aAAc,gCACd3tB,gBAAiB,OACjBpB,WAAY,SACZgC,QAAS1C,EAAM+G,QAAQ,EAAG,GAC1BuI,UAAW,OACX3O,eAAgB,cAEjBzU,QAAQ,aACPoU,QAAS,OACTwB,gBAAiB,OACjBrB,cAAe,SACfiC,QAAS,kBACTnC,OAAQ,OACRmG,UAAW,UACR1G,EAAM4G,iBAGVssB,cAAe,CACd1yB,OAAQ,GACR4B,MAAO,IACP7B,OAAQ,KAGT0yB,cAAe,CACd3yB,QAAS,OACToC,QAAS,EACTjC,cAAe,SACfC,WAAY,SACZC,eAAgB,SAChB,QAAS,CACRH,OAAQ,IAIV2yB,eAAgB,CACftoB,UAAW,EACXnI,QAAS,EACTpC,QAAS,OACTG,cAAe,UAEhB2yB,iBAAkB,CACjBvoB,UAAW,EACXnI,QAAS,OAqFI6wB,GAjFO,SAAC,GAAmD,IAAD,EAAhDnjC,EAAgD,EAAhDA,KAAMojC,EAA0C,EAA1CA,kBAAmBnhC,EAAuB,EAAvBA,QAAS4F,EAAc,EAAdA,QACpD6K,EAAUhD,KAEhB,EAAkChI,oBAAS,GAA3C,mBAAOo2B,EAAP,KAAkBuF,EAAlB,KAEA,OACC,kBAACjiB,EAAA,EAAD,CACC9U,UAAWoG,EAAQmM,OACnBrK,QAAQ,aACR8uB,OAAO,QACPtjC,KAAMA,EACNujC,WAAY,CAAEvvB,MAAO,CAAElE,SAAU,aACjC0zB,cAAe,CAAExvB,MAAO,CAAElE,SAAU,aACpC2zB,WAAY,CACXpjB,UAAWxH,SAAS6qB,eAAe,oBACnC1vB,MAAO,CAAElE,SAAU,aAEpB4C,QAAS,CACRoH,MAAOpH,EAAQoN,cAGhB,yBAAKxT,UAAWoG,EAAQxP,QACvB,kBAAC+R,EAAA,EAAD,CAAYnH,QAASs1B,GACpB,kBAAC,KAAD,OAED,kBAAC9uB,EAAA,EAAD,CAAYN,MAAO,CAAEjD,YAAa,WAChChL,IAAKsB,EAAE,0BAGTQ,EACA,kBAAC,GAAD,CAAuB6K,QAASA,IAEhC,yBAAKpG,UAAWoG,EAAQ5W,SACvB,kBAACkrB,GAAA,EAAD,CAAO2Y,QAAM,EAACnrB,QAAQ,WAAWlI,UAAWoG,EAAQmwB,eACnD,kBAAC3uB,GAAA,EAAD,CACCoN,IAAKrf,EAAQxJ,KACb0b,IAAKlS,EAAQmS,cACb9H,UAAWoG,EAAQowB,gBAGpB,kBAACxuB,EAAA,EAAD,KAAarS,EAAQxJ,MACrB,kBAAC6b,EAAA,EAAD,KACC,kBAACga,GAAA,EAAD,CAAMC,KAAI,cAAStsB,EAAQnE,SAAWmE,EAAQnE,SAE/C,kBAAC0gB,GAAA,EAAD,CACChK,QAAQ,WACRnW,MAAM,UACNyP,QAAS,kBAAMu1B,GAAa,KAE3Bt9B,IAAKsB,EAAE,gCAGV,kBAAC2f,GAAA,EAAD,CAAO2Y,QAAM,EAACnrB,QAAQ,WAAWlI,UAAWoG,EAAQqwB,gBACnD,kBAAC,GAAD,CACC/iC,KAAM89B,EACN/jB,QAAS,kBAAMspB,GAAa,IAC5BnZ,UAAWjoB,EAAQiH,KAEpB,kBAACoL,EAAA,EAAD,CAAYE,QAAQ,aAClBzO,IAAKsB,EAAE,4BAPV,OASEpF,QATF,IASEA,GATF,UASEA,EAASpE,iBATX,aASE,EAAoBoc,KAAI,SAAAuQ,GAAI,OAC5B,kBAACxD,GAAA,EAAD,CACCzT,IAAKiX,EAAKthB,GACVy2B,QAAM,EACNnrB,QAAQ,WACRlI,UAAWoG,EAAQswB,kBAEnB,kBAACpoB,GAAA,EAAD,KAAa4P,EAAK/xB,MAClB,kBAAC6b,EAAA,EAAD,CAAYvH,UAAU,MAAMwH,QAAM,EAACP,MAAO,CAAEsM,WAAY,IACvD,kBAAC,GAAD,KAAkBkK,EAAK5gB,gB,yPCtJ1B8F,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtC+zB,SAAU,CACTzzB,QAAS,OACTiB,WAAY,GACZD,YAAa,GACbZ,WAAY,cAuCCszB,GAnCQ,WACtB,IAAMlxB,EAAUhD,KAKhB,EAA0BhI,mBAJL,CACpB7K,QAAS,EACT88B,QAAS,IAEV,mBAAOkK,EAAP,KAAcC,EAAd,KAEAh7B,qBAAU,WACT,IAAMi7B,EAAWC,aAChB,kBACCF,GAAS,SAAAzrB,GACR,OAA0B,KAAtBA,EAAUshB,QACN,2BAAKthB,GAAZ,IAAuBxb,QAASwb,EAAUxb,QAAU,EAAG88B,QAAS,IAE1D,2BAAKthB,GAAZ,IAAuBshB,QAASthB,EAAUshB,QAAU,SAEtD,KAED,OAAO,WACNsK,cAAcF,MAEb,IAEH,IAAMG,EAAU,SAAA1rB,GACf,OAAOA,EAAI,GAAK,IAAMA,EAAIA,GAG3B,OACC,yBAAKlM,UAAWoG,EAAQixB,UACvB,wCAAUO,EAAQL,EAAMhnC,SAAxB,YAAoCqnC,EAAQL,EAAMlK,aCxC/CwK,GAAsB36B,0BAEtB46B,GAAuB,SAAC,GAAkB,IAAhB16B,EAAe,EAAfA,SAC/B,EAA8ChC,mBAAS,MAAvD,mBAAO28B,EAAP,KAAwBC,EAAxB,KAEA,OACC,kBAACH,GAAoBx6B,SAArB,CACCC,MAAO,CAAEy6B,kBAAiBC,uBAEzB56B,I,2yMC4BJ,IAAM66B,GAAc,IAAIC,KAAY,CAAEC,QAAS,MAEzC/0B,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC80B,YAAY,aACVtyB,WAAY,OACZlC,QAAS,OACTG,cAAe,SACfC,WAAY,SACZ6uB,UAAW,iCACVvvB,EAAMgH,YAAYC,KAAK,MAAQ,CAC9B/G,SAAU,QACVqC,OAAQ,EACRH,MAAO,SAIX2yB,cAAe,CACbvyB,WAAY,OACZJ,MAAO,OACP9B,QAAS,OACToC,QAAS,MACThC,WAAY,UAGds0B,oBAAqB,CACnBtyB,QAAS,EACTpB,YAAa,EACbkB,WAAY,OACZlC,QAAS,OACTsC,aAAc,GACdT,KAAM,EACNjC,SAAU,YAGZ+0B,aAAc,CACZtyB,YAAa,GACbR,KAAM,EACNM,OAAQ,QAGVyyB,iBAAkB,CAChBzmC,MAAO,QAGT0mC,YAAa,CACX70B,QAAS,QAGX80B,sBAAuB,CACrB90B,QAAS,OACToC,QAAS,YACTxC,SAAU,WACVS,eAAgB,gBAChBD,WAAY,SACZoB,gBAAiB,OACjBytB,UAAW,iCAGb8F,SAAU,CACRn1B,SAAU,WACVqC,OAAQ,GACRH,MAAO,GACPmtB,UAAW,qBAGb+F,cAAe,CACb7mC,MAAOsT,KAAM,KACbwzB,QAAS,MACTr1B,SAAU,WACV0B,IAAK,MACLK,KAAM,MACNV,YAAa,IAGfi0B,aAAc,CACZ/mC,MAAOsT,KAAM,KACbwzB,QAAS,OAGXE,gBAAiB,CACfn1B,QAAS,OACTI,WAAY,SACZg1B,aAAc,UAGhBC,gBAAiB,CACflnC,MAAO,OAGTmnC,cAAe,CACbnnC,MAAO,SAGTonC,mBAAoB,CAClBv1B,QAAS,OACT8B,MAAO,OACP1B,WAAY,SACZC,eAAgB,SAChB+P,WAAY,EACZ/N,YAAa,GACblB,aAAc,GAGhBq0B,qBAAsB,CACpB3zB,KAAM,EACNb,YAAa,EACboF,UAAW,SACX5E,gBAAiB,sBACjBc,aAAc,QACdtC,QAAS,OACTJ,SAAU,YAGZ61B,gBAAiB,CACfrzB,QAAS,GACTnC,OAAQ,OACRD,QAAS,QACT6P,WAAY,WACZK,SAAU,UAGZwlB,4BAA6B,CAC3B7zB,KAAM,OACNC,MAAO,MACPN,gBAAiB,WAGnBm0B,yBAA0B,CACxB9zB,KAAM,OACNC,MAAO,MACPN,gBAAiB,WAGnBo0B,mBAAoB,CAClB51B,QAAS,OACT7R,MAAO,UACPuS,WAAY,KAEdm1B,2BAA4B,CAC1B31B,OAAQ,EACRN,SAAU,WACVqC,OAAQ,OACRC,WAAY,UACZE,QAAS,MACTD,OAAQ,iBACRR,KAAM,EACNG,MAAO,OACP,OAAQ,CACNg0B,UAAW,OACX,MAAO,CACL91B,QAAS,QACToC,QAAS,MACT2zB,aAAc,WACd7lB,SAAU,SACV7J,UAAW,OACX,UAAW,CACTnE,WAAY,UACZpC,OAAQ,kBA6dHk2B,GAtdM,SAAC,GAAsB,IAAD,EAAnBC,EAAmB,EAAnBA,aAChBzzB,EAAUhD,KACRiD,EAAaC,cAAbD,SAER,EAA4BjL,mBAAS,IAArC,mBAAO0+B,EAAP,KAAeC,EAAf,KACA,EAAwC3+B,mBAAS,IAAjD,mBAAO4+B,EAAP,KAAqBC,EAArB,KACA,EAAkC7+B,oBAAS,GAA3C,mBAAO8+B,EAAP,KAAkBC,EAAlB,KACA,EAA8B/+B,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAkCJ,oBAAS,GAA3C,mBAAOg/B,EAAP,KAAkBC,EAAlB,KACA,EAAuCj/B,mBAAS,IAAhD,mBAAOrG,EAAP,KAAqBkyB,EAArB,KACA,EAA8B7rB,oBAAS,GAAvC,mBAAOk/B,EAAP,KAAgBC,EAAhB,KACMrU,EAAW1f,mBACjB,EAAgCpL,mBAAS,MAAzC,mBAAO4P,EAAP,KAAiBqJ,EAAjB,KACA,EACEtT,qBAAW82B,IADLG,EAAR,EAAQA,mBAAoBD,GAA5B,EAA4BA,gBAEpBxiC,GAASwL,qBAAW9D,GAApB1H,KAER,GCzNK,SAAyB0R,EAAKuzB,GACpC,MAAsCp/B,oBAAS,WAC9C,IACC,IAAM2e,EAAOntB,aAAaC,QAAQoa,GAClC,OAAO8S,EAAO9sB,KAAKC,MAAM6sB,GAAQygB,EAChC,MAAO5/B,GAER,OADAL,EAAWK,GACJ4/B,MANT,mBAAOC,EAAP,KAAoBC,EAApB,KAuBA,MAAO,CAACD,EAbS,SAAAn9B,GAChB,IACC,IAAMq9B,EACLr9B,aAAiBs9B,SAAWt9B,EAAMm9B,GAAen9B,EAElDo9B,EAAeC,GAEf/tC,aAAauP,QAAQ8K,EAAKha,KAAKmP,UAAUu+B,IACxC,MAAO//B,GACRL,EAAWK,MDqM0BigC,CAAgB,cAAc,GAApE,qBAAOzjC,GAAP,MAAoB0jC,GAApB,MAEAt+B,qBAAU,WACR0pB,EAASzf,QAAQqG,UAChB,CAACirB,KAEJv7B,qBAAU,WAER,OADA0pB,EAASzf,QAAQqG,QACV,WACLmtB,EAAgB,IAChBE,GAAa,GACbJ,EAAU,IACV/B,EAAmB,SAEpB,CAAC3xB,EAAU2xB,IAEd,IAeM+C,GAAqB,SAAC5zB,GAC1B,GAAKA,EAAE9E,OAAO24B,MAAd,CAIA,IAAMC,EAAiBvkB,MAAMC,KAAKxP,EAAE9E,OAAO24B,OAC3CjB,EAAUkB,KASNC,GAAiB,wCAAG,WAAO/zB,GAAP,+EACxB3L,GAAW,GACX2L,EAAE0F,kBAEIsuB,EAAW,IAAIC,UACZC,OAAO,UAAU,GAC1BvB,EAAO72B,SAAQ,SAACq4B,GACdH,EAASE,OAAO,SAAUC,GAC1BH,EAASE,OAAO,OAAQC,EAAMnvC,SARR,kBAYhB+N,EAAIgC,KAAJ,oBAAsBmK,GAAY80B,GAZlB,yDActB5gC,EAAW,EAAD,IAdY,QAiBxBiB,GAAW,GACXu+B,EAAU,IAlBc,0DAAH,sDAqBjBwB,GAAiB,wCAAG,wFACI,KAAxBvB,EAAa1I,OADO,wDAExB91B,GAAW,GAEL1K,EAAU,CACdwb,KAAM,EACNkvB,QAAQ,EACRC,SAAU,GACV7lC,KAAMwB,GAAW,kBACT7B,SADS,IACTA,QADS,EACTA,GAAMpJ,KADG,eACQ6tC,EAAa1I,QAClC0I,EAAa1I,OACjBoK,UAAW3D,IAXW,kBAchB79B,EAAIgC,KAAJ,oBAAsBmK,GAAYvV,GAdlB,uDAgBtByJ,EAAW,EAAD,IAhBY,QAmBxB0/B,EAAgB,IAChBE,GAAa,GACb3+B,GAAW,GACXw8B,EAAmB,MAtBK,yDAAH,qDAyBjB2D,GAAoB,wCAAG,sFAC3BngC,GAAW,GADgB,kBAGnBogC,UAAUC,aAAaC,aAAa,CAAEC,OAAO,IAH1B,uBAInB9D,GAAY+D,QAJO,OAKzB3B,GAAa,GACb7+B,GAAW,GANc,kDAQzBjB,EAAW,EAAD,IACViB,GAAW,GATc,0DAAH,qDAapBygC,GAAqB,wCAAG,WAAO3+B,GAAP,8EACxBA,GAAgC,IAAvBA,EAAM6uB,QAAQ,KADC,0CAGDjyB,EAAIqE,IAAI,iBAAkB,CAC/CiL,OAAQ,CAAEX,YAAamxB,EAAarP,UAAU,MAJxB,gBAGhBhwB,EAHgB,EAGhBA,KAGRssB,EAAetsB,EAAK5F,cAChB4F,EAAK5F,aAAaqM,OAAS,EAC7Bm5B,GAAW,GAEXA,GAAW,GAVW,kDAaxBA,GAAW,GAba,gCAgB1BA,GAAW,GAhBe,0DAAH,sDAoBrB2B,GAAiB,wCAAG,oGACxB1gC,GAAW,GADa,kBAGCy8B,GAAYkE,OAAOC,SAHpB,yCAGbC,EAHa,MAIbjqB,KAAO,KAJM,wBAKpB5W,GAAW,GACX6+B,GAAa,GANO,kCAUhBc,EAAW,IAAIC,SACfkB,EAXgB,6BAWgB,IAAIh0B,MAAOi0B,UAX3B,QAYtBpB,EAASE,OAAO,SAAUgB,EAAMC,GAChCnB,EAASE,OAAO,OAAQiB,GACxBnB,EAASE,OAAO,UAAU,GAdJ,UAgBhBnhC,EAAIgC,KAAJ,oBAAsBmK,GAAY80B,GAhBlB,0DAkBtB5gC,EAAW,EAAD,IAlBY,QAqBxB8/B,GAAa,GACb7+B,GAAW,GAtBa,0DAAH,qDAyBjBghC,GAAiB,wCAAG,wGAEhBvE,GAAYkE,OAAOC,SAFH,OAGtB/B,GAAa,GAHS,+CAKtB9/B,EAAW,EAAD,IALY,wDAAH,qDAajBkiC,GAAsB,SAACnnB,GAC3BjB,EAAY,OAiCd,OAAIylB,EAAO14B,OAAS,EAEhB,kBAACsZ,GAAA,EAAD,CAAOM,UAAW,EAAGqY,QAAM,EAACrzB,UAAWoG,EAAQsyB,uBAC7C,kBAAC/vB,EAAA,EAAD,CACEsE,aAAW,gBACXxM,UAAU,OACVe,QAAS,SAAC2F,GAAD,OAAO4yB,EAAU,MAE1B,kBAAC,KAAD,CAAY/5B,UAAWoG,EAAQoyB,oBAGhCj9B,EACC,6BACE,kBAAC4W,GAAA,EAAD,CAAkBnS,UAAWoG,EAAQwyB,iBAGvC,wCACGkB,EAAO,UADV,aACG,EAAW3tC,MAIhB,kBAACwc,EAAA,EAAD,CACEsE,aAAW,cACXxM,UAAU,OACVe,QAAS05B,GACT5kC,SAAUiF,GAEV,kBAAC,KAAD,CAAUyE,UAAWoG,EAAQoyB,qBAMjC,kBAAC9d,GAAA,EAAD,CAAO2Y,QAAM,EAACrY,UAAW,EAAGhb,UAAWoG,EAAQgyB,aAC5CL,IAhEuB,SAACjnC,GAAa,IAAD,EACzC,OACE,yBAAKkP,UAAWoG,EAAQ+yB,oBACtB,yBAAKn5B,UAAWoG,EAAQgzB,sBACtB,0BACEp5B,UAAWqH,YAAKjB,EAAQkzB,4BAAT,eACZlzB,EAAQmzB,0BAA4BzoC,EAAQ0qC,WAGjD,yBAAKx7B,UAAWoG,EAAQizB,kBACpBvoC,EAAQ0qC,QACR,0BAAMx7B,UAAWoG,EAAQozB,oBAAzB,UACG1oC,EAAQ6E,eADX,aACG,EAAiBxJ,MAGrB2E,EAAQ8E,OAGb,kBAAC+S,EAAA,EAAD,CACEsE,aAAW,eACXxM,UAAU,OACVnK,SAAUiF,GAA4B,SAAjBs+B,EACrBr4B,QAAS,kBAAMw2B,EAAmB,QAElC,kBAAC,KAAD,CAAWh4B,UAAWoG,EAAQoyB,qBAwCZkE,CAAsB3E,IAC1C,yBAAK/3B,UAAWoG,EAAQiyB,eACtB,kBAACsE,GAAA,EAAD,CAAQC,KAAM,CAAC,KAAM,OACnB,kBAACj0B,EAAA,EAAD,CACEsE,aAAW,cACXxM,UAAU,OACVnK,SAAUiF,GAAW6+B,GAA8B,SAAjBP,EAClCr4B,QAAS,SAAC2F,GAAD,OAAOgzB,GAAa,SAACpuB,GAAD,OAAgBA,OAE7C,kBAAC,KAAD,CAAU/L,UAAWoG,EAAQoyB,oBAE9B0B,EACC,yBAAKl6B,UAAWoG,EAAQuyB,UACtB,kBAACkE,GAAA,EAAD,CAAmBC,YAAa,SAAC31B,GAAD,OAAOgzB,GAAa,KAClD,kBAAC,KAAD,CACE4C,QAAS,GACTC,aAAa,EACbC,eAAe,EACfC,SA/NK,SAAC/1B,GACtB,IAAIg2B,EAAQh2B,EAAEonB,OACd0L,GAAgB,SAACluB,GAAD,OAAeA,EAAYoxB,UAiO/B,KAEJ,2BACE3uB,UAAQ,EACR/Q,KAAK,OACLb,GAAG,gBACHtG,SAAUiF,GAAW6+B,GAA8B,SAAjBP,EAClC75B,UAAWoG,EAAQqyB,YACnBxqB,SAAU8sB,KAEZ,2BAAOnN,QAAQ,iBACb,kBAACjlB,EAAA,EAAD,CACEsE,aAAW,SACXxM,UAAU,OACVnK,SAAUiF,GAAW6+B,GAA8B,SAAjBP,GAElC,kBAAC,KAAD,CAAgB75B,UAAWoG,EAAQoyB,qBAGvC,kBAAC/e,GAAA,EAAD,CACE/R,MAAO,CAAE9C,YAAa,EAAG7S,MAAO,QAChCid,MAAOvV,IAAKsB,EAAE,6BACd0f,eAAe,QACff,QACE,kBAACC,GAAA,EAAD,CACEvH,KAAK,QACLiH,QAASjiB,GACT6W,SAAU,SAAC9G,GACT2zB,GAAe3zB,EAAE9E,OAAOgX,UAE1BltB,KAAK,iBACL4F,MAAM,eAKd,kBAAC4qC,GAAA,EAAD,CAAQC,KAAM,CAAC,KAAM,KAAM,OACzB,kBAACj0B,EAAA,EAAD,CACEyM,gBAAc,cACdC,gBAAc,OACd7T,QAtIgB,SAAC8T,GAC3BjB,EAAYiB,EAAMC,iBAuIR,kBAAC,KAAD,OAEF,kBAACC,EAAA,EAAD,CACE5Y,GAAG,cACHwgC,aAAW,EACXpyB,SAAUA,EACVtX,KAAMge,QAAQ1G,GACdyC,QAASgvB,IAET,kBAACxtB,EAAA,EAAD,CAAUzN,QAASi7B,IACjB,kBAAC9zB,EAAA,EAAD,CACEsE,aAAW,cACXxM,UAAU,OACVnK,SAAUiF,GAAW6+B,GAA8B,SAAjBP,EAClCr4B,QAAS,SAAC2F,GAAD,OAAOgzB,GAAa,SAACpuB,GAAD,OAAgBA,OAE7C,kBAAC,KAAD,CAAU/L,UAAWoG,EAAQoyB,qBAGjC,kBAACvpB,EAAA,EAAD,CAAUzN,QAASi7B,IACjB,2BACEjuB,UAAQ,EACR/Q,KAAK,OACLb,GAAG,gBACHtG,SAAUiF,GAAW6+B,GAA8B,SAAjBP,EAClC75B,UAAWoG,EAAQqyB,YACnBxqB,SAAU8sB,KAEZ,2BAAOnN,QAAQ,iBACb,kBAACjlB,EAAA,EAAD,CACEsE,aAAW,SACXxM,UAAU,OACVnK,SAAUiF,GAAW6+B,GAA8B,SAAjBP,GAElC,kBAAC,KAAD,CAAgB75B,UAAWoG,EAAQoyB,sBAIzC,kBAACvpB,EAAA,EAAD,CAAUzN,QAASi7B,IACjB,kBAAChjB,GAAA,EAAD,CACE/R,MAAO,CAAE9C,YAAa,EAAG7S,MAAO,QAChCid,MAAOvV,IAAKsB,EAAE,6BACd0f,eAAe,QACff,QACE,kBAACC,GAAA,EAAD,CACEvH,KAAK,QACLiH,QAASjiB,GACT6W,SAAU,SAAC9G,GACT2zB,GAAe3zB,EAAE9E,OAAOgX,UAE1BltB,KAAK,iBACL4F,MAAM,iBAOlB,yBAAKiO,UAAWoG,EAAQkyB,qBACtB,kBAAC3C,GAAA,EAAD,CACEzP,SAAU,SAACmX,GACTA,GAASA,EAAMvwB,QACfuwB,IAAUnX,EAASzf,QAAU42B,IAE/Br9B,UAAWoG,EAAQmyB,aACnBjlC,YACmB,SAAjBumC,EACIpgC,IAAKsB,EAAE,iCACPtB,IAAKsB,EAAE,mCAEb6e,WAAS,EACT0jB,QAAS,EACThgC,MAAO08B,EACP/rB,SAhWc,SAAC9G,GACzB8yB,EAAgB9yB,EAAE9E,OAAO/E,OACzB2+B,GAAsB90B,EAAE9E,OAAO/E,QA+VrBhH,SAAU8jC,GAAa7+B,GAA4B,SAAjBs+B,EAClC0D,QAAS,SAACp2B,GACS,SAAjB0yB,GA3UW,SAAC1yB,GACpBA,EAAEq2B,cAAcxC,MAAM,IACxBjB,EAAU,CAAC5yB,EAAEq2B,cAAcxC,MAAM,KAyUIyC,CAAiBt2B,IAE9CqrB,WAAY,SAACrrB,GACP5L,GAAW4L,EAAEu2B,UACE,UAAVv2B,EAAEF,KACTs0B,QAILjB,EACC,wBAAIt6B,UAAWoG,EAAQqzB,4BACpB1kC,EAAa4Y,KAAI,SAACrQ,EAAOuZ,GACxB,OACE,wBACE7W,UAAWoG,EAAQu3B,+BACnB12B,IAAK4P,GAGL,uBAAGrV,QAAS,kBAhXA,SAAClE,GAC/B28B,EAAgB38B,GAChBi9B,GAAW,GA8WyBqD,CAAwBtgC,EAAMxM,WAAhD,UACMwM,EAAMzL,SADZ,cAC0ByL,EAAMxM,eAOxC,+BAGHkpC,EACC,kBAACrxB,EAAA,EAAD,CACEsE,aAAW,cACXxM,UAAU,OACVe,QAAS+5B,GACTjlC,SAAUiF,GAEV,kBAAC,KAAD,CAAUyE,UAAWoG,EAAQoyB,oBAE7B4B,EACF,yBAAKp6B,UAAWoG,EAAQ2yB,iBACtB,kBAACpwB,EAAA,EAAD,CACEsE,aAAW,kBACXxM,UAAU,OACV2D,SAAS,QACT9N,SAAUiF,EACViG,QAASg7B,IAET,kBAAC,KAAD,CAAkBx8B,UAAWoG,EAAQ6yB,mBAEtC19B,EACC,6BACE,kBAAC4W,GAAA,EAAD,CAAkBnS,UAAWoG,EAAQ0yB,gBAGvC,kBAAC,GAAD,MAGF,kBAACnwB,EAAA,EAAD,CACEsE,aAAW,oBACXxM,UAAU,OACVe,QAAS06B,GACT5lC,SAAUiF,GAEV,kBAAC,KAAD,CAAwByE,UAAWoG,EAAQ8yB,kBAI/C,kBAACvwB,EAAA,EAAD,CACEsE,aAAW,eACXxM,UAAU,OACVnK,SAAUiF,GAA4B,SAAjBs+B,EACrBr4B,QAASm6B,IAET,kBAAC,KAAD,CAAS37B,UAAWoG,EAAQoyB,uB,oBElpBpCp1B,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCu6B,aAAc,CACbj6B,QAAS,OACTwB,gBAAiB,OACjBK,KAAM,OACNstB,aAAc,qCAwBD+K,GApBc,WAC5B,IAAM13B,EAAUhD,KAEhB,OACC,kBAAC26B,GAAA,EAAD,CAAM1K,QAAM,EAACrzB,UAAWoG,EAAQy3B,cAC/B,kBAACG,GAAA,EAAD,CACCC,qBAAsB,CAAEh2B,QAAQ,GAChCi2B,yBAA0B,CAAEj2B,QAAQ,GACpCmO,OACC,kBAACI,GAAA,EAAD,CAAUC,UAAU,OAAOvO,QAAQ,UAClC,kBAACN,GAAA,EAAD,CAAQoN,IAAI,mBAGdznB,MAAO,kBAACipB,GAAA,EAAD,CAAUC,UAAU,OAAO/Q,MAAO,KACzCy4B,UAAW,kBAAC3nB,GAAA,EAAD,CAAUC,UAAU,OAAO/Q,MAAO,U,qBCrB3CtC,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCu6B,aAAa,aACXj6B,QAAS,OACTwB,gBAAiB,OACjBK,KAAM,OACNstB,aAAc,iCACbzvB,EAAMgH,YAAYC,KAAK,MAAQ,CAC9BsD,SAAU,aA4BDuwB,GAvBM,SAAC,GAA2B,IAAzB7iC,EAAwB,EAAxBA,QAAS6B,EAAe,EAAfA,SACzBgJ,EAAUhD,KACVlI,EAAUC,cAKhB,OACE,oCACGI,EACC,kBAAC,GAAD,MAEA,kBAACwiC,GAAA,EAAD,CAAM1K,QAAM,EAACrzB,UAAWoG,EAAQy3B,cAC9B,kBAAC3rB,GAAA,EAAD,CAAQngB,MAAM,UAAUyP,QAVb,WACjBtG,EAAQ6B,KAAK,cAUL,kBAAC,KAAD,OAEDK,KCbIihC,GAjBI,SAAC,GAAkC,IAAhC1oC,EAA+B,EAA/BA,QAAS4N,EAAsB,EAAtBA,OAAQ/B,EAAc,EAAdA,QACtC,OACC,kBAACw8B,GAAA,EAAD,CACCx8B,QAASA,EACTkG,MAAO,CAAEhE,OAAQ,WACjBu6B,qBAAsB,CAAEh2B,QAAQ,GAChCi2B,yBAA0B,CAAEj2B,QAAQ,GACpCmO,OAAQ,kBAACxO,GAAA,EAAD,CAAQC,IAAKlS,EAAQmS,cAAekN,IAAI,kBAChDznB,MAAK,UAAKoI,EAAQxJ,KAAb,aAAsBoX,EAAO3G,IAClCuhC,UACC56B,EAAOhO,MAAP,UACGkE,IAAKsB,EAAE,kCADV,YAC+CwI,EAAOhO,KAAKpJ,KAD3D,YACmEoX,EAAOkE,MAAQ,aAAelE,EAAOkE,MAAMtb,KAAO,uB,+zMCfzH,IASemyC,GATG,WAMjB,MAAO,CAAEC,QALI,wCAAG,uGACcrkC,EAAIqE,IAAI,UADtB,uBACD5D,EADC,EACDA,KADC,kBAEFA,GAFE,2CAAH,uD,2yMC0Bd,IAAMyI,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC8G,SAAU,CACR1E,MAAO,YAILysB,GAAgBd,aAAoB,CACzCC,MAAM,IAoMQkN,GAjMa,SAAC,GAAwD,IAAtDhN,EAAqD,EAArDA,UAAW/jB,EAA0C,EAA1CA,QAASgxB,EAAiC,EAAjCA,SAAUC,EAAuB,EAAvBA,iBACtDxjC,EAAUC,cAChB,EAA8BC,mBAAS,IAAvC,mBAAOhF,EAAP,KAAgBq7B,EAAhB,KACA,EAA4Br2B,mBAAS,IAArC,mBAAOpG,EAAP,KAAekZ,EAAf,KACA,EAAkC9S,mBAAS,IAA3C,mBAAOujC,EAAP,KAAkBC,EAAlB,KACA,EAA8BxjC,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAsCJ,mBAAS,IAA/C,mBAAOyN,EAAP,KAAoB2V,EAApB,KACA,EAAwCpjB,mBAAS,MAAjD,mBAAOyjC,EAAP,KAAqBC,EAArB,KACA,EAA0C1jC,mBAAS,IAAnD,mBAAO+oB,EAAP,KAAsBC,EAAtB,KACA,EAAgDhpB,mBAASsjC,GAAzD,mBAAOK,EAAP,KAAyBC,EAAzB,KACM54B,EAAUhD,KACC67B,EAAkBX,KAA3BC,QACR,EAAwCngC,IAAhC8gC,EAAR,EAAQA,iBAAkBxhC,GAA1B,EAA0BA,UAEZsS,GAAiBjP,qBAAW9D,GAAlC1H,KAERiH,qBAAU,YACO,wCAAG,qGACCyiC,IADD,OACZE,EADY,OAElBP,EAAaO,GACbjxB,EAAUixB,GAHQ,2CAAH,qDAKhBC,KAEE,IAEH5iC,qBAAU,WACT,GAAKg1B,KAAa3oB,EAAYzH,OAAS,GAAvC,CAIA5F,GAAW,GACX,IAAM0F,EAAkBC,YAAW,YAClB,wCAAG,gHAEMjH,EAAIqE,IAAI,UAAW,CACzCiL,OAAQ,CAAEX,iBAHM,gBAETlO,EAFS,EAETA,KAGR82B,EAAW92B,EAAKvF,OAChBoG,GAAW,GANM,gDAQjBA,GAAW,GACXjB,EAAW,EAAD,IATO,yDAAH,qDAahB8kC,KACE,KACH,OAAO,kBAAM99B,aAAaL,IApBzB1F,GAAW,KAqBV,CAACqN,EAAa2oB,IAEjB,IAAMjhB,GAAc,WACnB9C,IACA+Q,EAAe,IACfsgB,EAAgB,OAGX5f,GAAgB,wCAAG,WAAM/X,GAAN,2EACxBA,EAAE0F,iBACG4xB,EAFmB,wDAGxBjjC,GAAW,GAHa,SAKnBb,EAAO,GAEPkkC,IACHlkC,EAAKiM,OAASi4B,EAAajiC,IAGxBunB,GAAmC,OAAlBA,IACpBxpB,EAAK8pB,QAAUN,EAEV0a,IACJlkC,EAAK/K,OAAS,UACd+K,EAAKiM,OAAS,OAIbm4B,IACFpkC,EAAK8D,WAAasgC,GArBI,UAwBjB7kC,EAAIyM,IAAJ,mBAAoB83B,GAAY9jC,GAxBf,QA0BvBa,GAAW,GACXN,EAAQ6B,KAAR,YA3BuB,kDA6BvBvB,GAAW,GACXjB,EAAW,EAAD,IA9Ba,0DAAH,sDAkCtB,OACC,kBAACmW,GAAA,EAAD,CAAQhd,KAAM89B,EAAW/jB,QAAS8C,GAAanG,SAAS,KAAKuG,OAAO,SACnE,0BAAMK,SAAUkO,IACf,kBAACtO,GAAA,EAAD,CAAahU,GAAG,qBACdnD,IAAKsB,EAAE,8BAET,kBAACsW,GAAA,EAAD,CAAeC,UAAQ,GACtB,qCACC5J,MAAO,CAAEhC,MAAO,IAAKuR,aAAc,IACnCmS,eAAgB,SAAAC,GAAM,gBAAOA,EAAOl9B,OACpC8hB,SAAU,SAAC9G,EAAGmrB,GACbwM,EAAgBxM,GACA,MAAZA,GAAoB5b,MAAMqS,QAAQuJ,EAASt9B,QAC9CkZ,EAAUokB,EAASt9B,SAEnBkZ,EAAUywB,GACVva,EAAiB,MAGnBhuB,QAASA,EACT+7B,cAAeA,GACfH,UAAQ,EACRD,eAAa,EACbuN,cAAe7lC,IAAKsB,EAAE,iCACtBQ,QAASA,EACTguB,YAAa,SAAA/f,GAAM,OAClB,kBAACgI,GAAA,EAAD,iBACKhI,EADL,CAECwF,MAAOvV,IAAKsB,EAAE,kCACdmN,QAAQ,WACR2H,UAAQ,EACR4B,WAAS,EACTxD,SAAU,SAAA9G,GAAC,OAAIqX,EAAerX,EAAE9E,OAAO/E,QACvCsU,WAAU,2BACNpI,EAAOoI,YADD,IAETC,aACC,kBAAC,IAAM7K,SAAP,KACEzL,EACA,kBAAC4W,GAAA,EAAD,CAAkBpgB,MAAM,UAAUqgB,KAAM,KACrC,KACH5I,EAAOoI,WAAWC,sBAOzB,kBAACzD,GAAA,EAAD,CAAalG,QAAQ,WAAWlI,UAAWoG,EAAQgE,UAClD,kBAACkE,GAAA,EAAD,KAAa7U,IAAKsB,EAAE,wCACpB,kBAACwT,GAAA,EAAD,CACCjR,MAAO6mB,EACPlW,SAAU,SAAC9G,GAAD,OAAOid,EAAiBjd,EAAE9E,OAAO/E,QAC3C0R,MAAOvV,IAAKsB,EAAE,8CAEd,kBAACkU,EAAA,EAAD,CAAU3R,MAAO,IAAjB,QACCtI,EAAO2Y,KAAI,SAAClG,GAAD,OACX,kBAACwH,EAAA,EAAD,CAAUhI,IAAKQ,EAAM7K,GAAIU,MAAOmK,EAAM7K,IAAK6K,EAAMtb,WAIpD,kBAAC4S,GAAD,CACCC,KAAMgR,GAAajd,QACnBkM,QAAQ,kCACRC,IAAK,kBAAQggC,GACZ,kBAAC9wB,GAAA,EAAD,CAAalG,QAAQ,WAAWlI,UAAWoG,EAAQgE,SAAU1C,MAAO,CAAEyG,UAAW,KAChF,kBAACG,GAAA,EAAD,KAAa7U,IAAKsB,EAAE,6CACpB,kBAACwT,GAAA,EAAD,CACCjR,MAAOyhC,EACP9wB,SAAU,SAAC9G,GAAD,OAAO63B,EAAoB73B,EAAE9E,OAAO/E,QAC9C0R,MAAOvV,IAAKsB,EAAE,mDAEb2C,GAAUiQ,KAAI,SAAC4xB,GAAD,OACd,kBAACtwB,EAAA,EAAD,CAAUhI,IAAKs4B,EAAQ3iC,GAAIU,MAAOiiC,EAAQ3iC,IAAK2iC,EAAQpzC,eAO7D,kBAAC8lB,GAAA,EAAD,KACC,kBAACC,GAAA,EAAD,CACC1Q,QAAS+O,GACTxe,MAAM,YACNuE,SAAUiF,EACV2M,QAAQ,YAEPzO,IAAKsB,EAAE,uCAET,kBAAC,GAAD,CACCmN,QAAQ,YACRzK,KAAK,SACL1L,MAAM,UACNwJ,QAASA,GAER9B,IAAKsB,EAAE,uC,2yMCnNd,IAyFeykC,GAzFW,SAAC,GAAiD,IAA/Cj8B,EAA8C,EAA9CA,OAAQ+Q,EAAsC,EAAtCA,SAAU/D,EAA4B,EAA5BA,YAAavF,EAAe,EAAfA,SAC3D,EAAgD5P,oBAAS,GAAzD,mBAAOqkC,EAAP,KAAyBC,EAAzB,KACA,EAA8DtkC,oBAAS,GAAvE,mBAAOukC,EAAP,KAAgCC,EAAhC,KACMr5B,EAAYC,kBAAO,GACjBjR,EAASwL,qBAAW9D,GAApB1H,KAERiH,qBAAU,WACT,OAAO,WACN+J,EAAUE,SAAU,KAEnB,IAEH,IAAMo5B,EAAkB,wCAAG,wGAEnB3lC,EAAI3C,OAAJ,mBAAuBgM,EAAO3G,KAFX,sDAIzBrC,EAAW,EAAD,IAJe,wDAAH,qDAQlBkiB,EAA8B,SAAAtV,GACnCu4B,GAAoB,GACpBnvB,KAcD,OACC,oCACC,kBAACiF,EAAA,EAAD,CACC5Y,GAAG,cACHoO,SAAUA,EACV2D,mBAAoB,KACpBvB,aAAc,CACbC,SAAU,SACVC,WAAY,SAEb8vB,aAAW,EACX7vB,gBAAiB,CAChBF,SAAU,MACVC,WAAY,SAEb5Z,KAAM4gB,EACN7G,QAAS8C,GAET,kBAACtB,EAAA,EAAD,CAAUzN,QA7BmB,SAAA2F,GAC/By4B,GAA2B,GAC3BrvB,MA4BI9W,IAAKsB,EAAE,+BAET,kBAACgE,GAAD,CACCC,KAAMzJ,EAAKxC,QACXkM,QAAQ,8BACRC,IAAK,kBACJ,kBAAC+P,EAAA,EAAD,CAAUzN,QAASib,GACjBhjB,IAAKsB,EAAE,iCAKZ,kBAAC,GAAD,CACCxN,MAAK,UAAKkM,IAAKsB,EAAE,8CAAZ,OACJwI,EAAO3G,GADH,YAEDnD,IAAKsB,EAAE,iDAFN,YAGJwI,EAAO5N,QAAQxJ,KAHX,KAKLuH,KAAM+rC,EACNhyB,QAASiyB,EACT7kB,UAAWglB,GAEVpmC,IAAKsB,EAAE,gDAET,kBAAC,GAAD,CACCy2B,UAAWmO,EACXlyB,QAnDoC,WAClClH,EAAUE,SACbm5B,GAA2B,IAkD1BnB,SAAUl7B,EAAO3G,GACjB8hC,iBAAkBn7B,EAAO9E,e,2yMClF7B,IAAM2E,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCw8B,cAAe,CACdl7B,YAAa,EACba,KAAM,OACNd,UAAW,SACXE,WAAY,OACZ,QAAS,CACRf,OAAQR,EAAM+G,QAAQ,SAkGV01B,GA7Fa,SAAC,GAAgB,IAAdx8B,EAAa,EAAbA,OACxB6C,EAAUhD,KACVlI,EAAUC,cAChB,EAAgCC,mBAAS,MAAzC,mBAAO4P,EAAP,KAAiBqJ,EAAjB,KACA,EAA8BjZ,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACMwkC,EAAwBtuB,QAAQ1G,GAC9BzV,EAASwL,qBAAW9D,GAApB1H,KAUF0qC,EAAwB,wCAAG,WAAO94B,EAAGvX,EAAQgX,GAAlB,yEAChCpL,GAAW,GADqB,kBAGzBtB,EAAIyM,IAAJ,mBAAoBpD,EAAO3G,IAAM,CACtChN,OAAQA,EACRgX,OAAQA,GAAU,OALY,OAQ/BpL,GAAW,GACI,SAAX5L,EACHsL,EAAQ6B,KAAR,mBAAyBwG,EAAO3G,KAEhC1B,EAAQ6B,KAAK,YAZiB,gDAe/BvB,GAAW,GACXjB,EAAW,EAAD,IAhBqB,yDAAH,0DAoB9B,OACC,yBAAKyF,UAAWoG,EAAQ05B,eACJ,WAAlBv8B,EAAO3T,QACP,kBAAC,GAAD,CACC2L,QAASA,EACT2kC,UAAW,kBAAC,KAAD,MACX9tB,KAAK,QACL5Q,QAAS,SAAA2F,GAAC,OAAI84B,EAAyB94B,EAAG,OAAJ,OAAY5R,QAAZ,IAAYA,OAAZ,EAAYA,EAAMqH,MAEvDnD,IAAKsB,EAAE,uCAGS,SAAlBwI,EAAO3T,QACP,oCACC,kBAAC,GAAD,CACC2L,QAASA,EACT2kC,UAAW,kBAAC,KAAD,MACX9tB,KAAK,QACL5Q,QAAS,SAAA2F,GAAC,OAAI84B,EAAyB94B,EAAG,UAAW,QAEpD1N,IAAKsB,EAAE,uCAET,kBAAC,GAAD,CACCQ,QAASA,EACT6W,KAAK,QACLlK,QAAQ,YACRnW,MAAM,UACNyP,QAAS,SAAA2F,GAAC,OAAI84B,EAAyB94B,EAAG,SAAJ,OAAc5R,QAAd,IAAcA,OAAd,EAAcA,EAAMqH,MAEzDnD,IAAKsB,EAAE,wCAET,kBAAC4N,EAAA,EAAD,CAAYnH,QA3DoB,SAAA2F,GACnCkN,EAAYlN,EAAEoO,iBA2DV,kBAAC,KAAD,OAED,kBAAC,GAAD,CACChS,OAAQA,EACRyH,SAAUA,EACVsJ,SAAU0rB,EACVzvB,YA9DgC,SAAApJ,GACpCkN,EAAY,UAiEQ,YAAlB9Q,EAAO3T,QACP,kBAAC,GAAD,CACC2L,QAASA,EACT6W,KAAK,QACLlK,QAAQ,YACRnW,MAAM,UACNyP,QAAS,SAAA2F,GAAC,OAAI84B,EAAyB94B,EAAG,OAAJ,OAAY5R,QAAZ,IAAYA,OAAZ,EAAYA,EAAMqH,MAEvDnD,IAAKsB,EAAE,yC,i3MCnGb,IA2EeolC,GA3EM,SAAC,GAA0B,IAAxBxqC,EAAuB,EAAvBA,QAASyqC,EAAc,EAAdA,QACvBllC,EAAUC,cACR5F,EAASwL,qBAAW9D,GAApB1H,KAER,EAAsC6F,mBAAS,CAC3CjP,KAAM,GACNqF,OAAQ,EACRsW,cAAe,KAHnB,mBAAO4pB,EAAP,KAAwB5T,EAAxB,KAMAthB,qBAAU,WACN,IAAM0E,EAAkBC,YAAW,YACZ,wCAAG,yGAEVk/B,EAAa,CACbl0C,KAAMwJ,EACNnE,OAAQ4uC,EAAQz9B,QAAQ,MAAO,IAC/B/U,MAAO,IALG,SAOSsM,EAAIgC,KAAK,WAAYmkC,GAP9B,gBAON1lC,EAPM,EAONA,KACRmjB,EAAWnjB,GARG,gDAWdiR,QAAQC,IAAR,MACAtR,EAAW,EAAD,IAZI,yDAAH,qDAenB0kB,KACD,KACH,OAAO,kBAAM1d,aAAaL,MAC3B,CAACvL,EAASyqC,IAEb,IAAME,EAAa,wCAAG,gHAEiBpmC,EAAIgC,KAAK,WAAY,CAChD0hB,UAAW8T,EAAgB90B,GAC3BgK,OAAQrR,EAAKqH,GACbhN,OAAQ,SALE,gBAEA2T,EAFA,EAEN5I,KAKRO,EAAQ6B,KAAR,mBAAyBwG,EAAO3G,KAPlB,gDASdrC,EAAW,EAAD,IATI,yDAAH,qDAanB,OACF,oCACC,yBAAKmN,MAAO,CACX6H,SAAU,UAEV,kBAACuK,GAAA,EAAD,CAAM/F,WAAS,EAAC1J,QAAS,GACxB,kBAACyP,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACd,kBAACpS,GAAA,EAAD,CAAQC,IAAK6pB,EAAgB5pB,iBAE9B,kBAACgS,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACd,kBAAChS,EAAA,EAAD,CAAYN,MAAO,CAAEyG,UAAW,OAAQtJ,WAAY,QAAUqD,QAAQ,YAAYnW,MAAM,UAAUkkB,cAAY,GAC5Gyb,EAAgBvlC,OAGnB,kBAAC2tB,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACd,kBAACpY,EAAA,EAAD,MACA,kBAACsQ,GAAA,EAAD,CACC7D,WAAS,EACTtc,MAAM,UACNyP,QAAS8+B,EACThqC,UAAWo7B,EAAgBlgC,QAJ5B,kB,2yMCrEN,IA4Ce+uC,GA5CS,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,MAAOC,EAAwB,EAAxBA,KAAMC,EAAkB,EAAlBA,YACpClkC,qBAAU,cAAU,CAACgkC,EAAOC,EAAMC,IAElC,IAAMC,EAAc,wCAAG,+EACnB,IACIr0C,OAAOoH,KAAK+sC,GACd,MAAOjmC,GACLD,EAAWC,GAJI,2CAAH,qDAQpB,OACF,oCACC,yBAAKkN,MAAO,CACX6H,SAAU,UAEV,6BACC,yBAAK7H,MAAO,CAAEk5B,MAAO,SACpB,yBAAK/4B,IAAK24B,EAAOxrB,IAAI,MAAMxT,QAASm/B,EAAgBj5B,MAAO,CAAEhC,MAAO,YAEnEg7B,GACF,yBAAKh5B,MAAO,CAAE9D,QAAS,OAAQiK,SAAU,SACxC,kBAAC7F,EAAA,EAAD,CAAYN,MAAO,CAAEyG,UAAW,OAAQtJ,WAAY,OAAQD,YAAa,OAAQg8B,MAAO,QAAU14B,QAAQ,YAAYnW,MAAM,UAAUkkB,cAAY,GACjJ,yBAAK4qB,wBAAyB,CAAEC,OAAQJ,EAAY/9B,QAAQ,MAAO,eAIrE,yBAAK+E,MAAO,CAAE9D,QAAS,QAASpU,QAAS,GAAIuxC,MAAO,UACpD,6BACC,kBAACn/B,EAAA,EAAD,MACA,kBAACsQ,GAAA,EAAD,CACC7D,WAAS,EACTtc,MAAM,UACNyP,QAASm/B,EACTrqC,UAAWmqC,GAJZ,mB,qzMC7BN,IAAMr9B,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtC09B,aAAc,CACbC,UAAW,QACXv7B,MAAO,IACP7B,OAAQ,IACRq9B,oBAAqB,EACrBvO,qBAAsB,EACtBwO,uBAAwB,EACxBvO,wBAAyB,OAqCZwO,GAjCQ,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACnBj7B,EAAUhD,KAChB,EAAgChI,oBAAS,GAAzC,mBAAOkmC,EAAP,KAAiBC,EAAjB,KACA,EAA8BnmC,mBAAS,IAAvC,mBAAOomC,EAAP,KAAgBC,EAAhB,KAiBA,OAfAjlC,qBAAU,WACJ6kC,GACW,wCAAG,2GACcnnC,EAAIqE,IAAI8iC,EAAU,CACjDK,aAAc,SAFG,gBACV/mC,EADU,EACVA,KAAMkB,EADI,EACJA,QAGR8lC,EAAMr1C,OAAOs1C,IAAIC,gBACtB,IAAIC,KAAK,CAACnnC,GAAO,CAAE8C,KAAM5B,EAAQ,mBAElC4lC,EAAWE,GACXJ,GAAY,GARM,2CAAH,oDAUhBQ,KACE,CAACV,IAGH,kBAAC,KAAD,CACCrhC,UAAWoG,EAAQ46B,aACnBgB,YAAaV,EAAWD,EAAWG,EACnCS,OAAQX,EAAWD,EAAWG,EAC9BU,MAAOZ,EAAWD,EAAWG,EAC7BW,WAAW,OACXntB,IAAI,W,2yMClCP,IA2DeotB,GA3DY,SAAC,GAAkD,IAAhDtxC,EAA+C,EAA/CA,QAASwjB,EAAsC,EAAtCA,SAAU/D,EAA4B,EAA5BA,YAAavF,EAAe,EAAfA,SACpDgtB,EAAuBj3B,qBAAW82B,IAAlCG,mBACR,EAAgD58B,oBAAS,GAAzD,mBAAOqkC,EAAP,KAAyBC,EAAzB,KAEM2C,EAAmB,wCAAG,wGAElBnoC,EAAI3C,OAAJ,oBAAwBzG,EAAQ8L,KAFd,sDAIxBrC,EAAW,EAAD,IAJc,wDAAH,qDAkBzB,OACE,oCACE,kBAAC,GAAD,CACEhN,MAAOkM,IAAKsB,EAAE,8CACdrH,KAAM+rC,EACNhyB,QAASiyB,EACT7kB,UAAWwnB,GAEV5oC,IAAKsB,EAAE,iDAEV,kBAACya,EAAA,EAAD,CACExK,SAAUA,EACV2D,mBAAoB,KACpBvB,aAAc,CACZC,SAAU,SACVC,WAAY,SAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,SAEd5Z,KAAM4gB,EACN7G,QAAS8C,GAERzf,EAAQ0qC,QACP,kBAACvsB,EAAA,EAAD,CAAUzN,QA9BkB,SAAC2F,GACnCu4B,GAAoB,GACpBnvB,MA6BS9W,IAAKsB,EAAE,8BAGZ,kBAACkU,EAAA,EAAD,CAAUzN,QAvCW,WACzBw2B,EAAmBlnC,GACnByf,MAsCO9W,IAAKsB,EAAE,gC,g0MC9BlB,IAAMqI,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCg/B,oBAAqB,CACnBxuB,SAAU,SACVtQ,SAAU,WACVI,QAAS,OACTG,cAAe,SACfwP,SAAU,GAGZgvB,cAAe,CACbp0B,UAAW,EACXnK,WAAY,SACZw+B,cAAe,SACfxJ,aAAc,SACd5zB,gBAAiB,YACjBhB,SAAU,OACVmL,SAAU,IACVnF,SAAU,IACVrY,MAAO,UACPmvC,oBAAqB,EACrBvO,qBAAsB,EACtBwO,uBAAwB,EACxBvO,wBAAyB,EACzB3sB,YAAa,EACblB,aAAc,EACdiP,WAAY,EACZC,cAAe,EACfxJ,UAAW,qBAGb9T,aAAa,yBACX8rC,gBAAgB,OAAD,OAASC,KAAT,KACf9+B,QAAS,OACTG,cAAe,SACfwP,SAAU,EACVvN,QAAS,sBACTgE,UAAW,UACV1G,EAAMgH,YAAYC,KAAK,MAAQ,CAC9B0J,cAAe,SAEd3Q,EAAM4G,iBAGX0uB,cAAe,CACb7mC,MAAO4wC,KAAK,KACZn/B,SAAU,WACVq1B,QAAS,MACT3zB,IAAK,EACLK,KAAM,MACN4I,UAAW,IAGby0B,YAAa,CACXh+B,YAAa,GACbuJ,UAAW,EACXoB,SAAU,IACVnF,SAAU,IACVvG,OAAQ,OACRD,QAAS,QACTJ,SAAU,WACV,gCAAiC,CAC/BI,QAAS,OACTJ,SAAU,WACV0B,IAAK,EACLU,MAAO,GAGT6N,WAAY,WACZrO,gBAAiB,UACjBrT,MAAO,UACP4S,UAAW,aACXu8B,oBAAqB,EACrBvO,qBAAsB,EACtBwO,uBAAwB,EACxBvO,wBAAyB,EACzB3sB,YAAa,EACblB,aAAc,EACdiP,WAAY,EACZC,cAAe,EACfxJ,UAAW,qBAGbo4B,oBAAqB,CACnB/+B,OAAQ,sBACRgQ,SAAU,SACV1O,gBAAiB,UACjBc,aAAc,QACdtC,QAAS,OACTJ,SAAU,YAGZk4B,UAAW,CACT11B,QAAS,GACToE,SAAU,IACVvG,OAAQ,OACRD,QAAS,QACT6P,WAAY,WACZK,SAAU,UAGZgvB,oBAAqB,CACnBr9B,KAAM,OACNC,MAAO,MACPN,gBAAiB,WAGnB29B,aAAc,CACZl+B,WAAY,GACZsJ,UAAW,EACXoB,SAAU,IACVnF,SAAU,IACVvG,OAAQ,OACRD,QAAS,QACTJ,SAAU,WACV,gCAAiC,CAC/BI,QAAS,OACTJ,SAAU,WACV0B,IAAK,EACLU,MAAO,GAGT6N,WAAY,WACZrO,gBAAiB,UACjBrT,MAAO,UACP4S,UAAW,WACXu8B,oBAAqB,EACrBvO,qBAAsB,EACtBwO,uBAAwB,EACxBvO,wBAAyB,EACzB3sB,YAAa,EACblB,aAAc,EACdiP,WAAY,EACZC,cAAe,EACfxJ,UAAW,qBAGbu4B,qBAAsB,CACpBl/B,OAAQ,sBACRkG,UAAW,SACX5E,gBAAiB,UACjBc,aAAc,QACdtC,QAAS,OACTJ,SAAU,YAGZy/B,eAAgB,CACdj9B,QAAS,GACToE,SAAU,IACVvG,OAAQ,OACR4P,WAAY,YAGdyvB,qBAAsB,CACpBz9B,KAAM,OACNC,MAAO,MACPN,gBAAiB,WAGnB+9B,qBAAsB,CACpBv/B,QAAS,OACTJ,SAAU,WACVzR,MAAO,OACPugB,OAAQ,EACRlN,gBAAiB,UACjByzB,QAAS,MACT,8BAA+B,CAAEzzB,gBAAiB,YAGpDo0B,mBAAoB,CAClB51B,QAAS,OACT7R,MAAO,UACPuS,WAAY,KAGd8+B,gBAAiB,CACfC,aAAc,aACdr9B,QAAS,oBAGXs9B,uBAAwB,CACtBC,UAAW,SACXxxC,MAAO,sBACPsxC,aAAc,aACdr9B,QAAS,oBAGXg7B,aAAc,CACZC,UAAW,QACXv7B,MAAO,IACP7B,OAAQ,IACRq9B,oBAAqB,EACrBvO,qBAAsB,EACtBwO,uBAAwB,EACxBvO,wBAAyB,GAG3B4Q,UAAW,CACTp/B,SAAU,GACVZ,SAAU,WACVqC,OAAQ,EACRD,MAAO,EACP7T,MAAO,QAGT0xC,eAAgB,CACdz/B,WAAY,SACZG,UAAW,SACXQ,UAAW,SACXe,MAAO,QACPN,gBAAiB,UACjBtB,OAAQ,OACRoC,aAAc,OACduE,UAAW,qBAGbi5B,mBAAoB,CAClB3xC,MAAO,UACPiU,QAAS,EACTrB,UAAW,SACXE,WAAY,OAGd8+B,SAAU,CACRv/B,SAAU,GACVo+B,cAAe,SACf39B,WAAY,GAGd++B,YAAa,CACXx/B,SAAU,GACVo+B,cAAe,SACf59B,YAAa,GAGfi/B,eAAgB,CACd9xC,MAAO4wC,KAAK,KACZv+B,SAAU,GACVo+B,cAAe,SACf39B,WAAY,GAGdi/B,cAAe,CACblgC,QAAS,OACTI,WAAY,SACZC,eAAgB,SAChBmB,gBAAiB,UACjBY,QAAS,QAIPzI,GAAU,SAACC,EAAOb,GACtB,GAAoB,kBAAhBA,EAAOc,KAA0B,CACnC,IAAMtQ,EAAWwP,EAAOgB,QAClBomC,EAAc,GAWpB,OATA52C,EAAS8V,SAAQ,SAACnS,GAChB,IAAMkzC,EAAexmC,EAAMM,WAAU,SAACmmC,GAAD,OAAOA,EAAErnC,KAAO9L,EAAQ8L,OACvC,IAAlBonC,EACFxmC,EAAMwmC,GAAgBlzC,EAEtBizC,EAAYhnC,KAAKjM,MAIf,GAAN,OAAWizC,EAAX,YAA2BvmC,IAG7B,GAAoB,gBAAhBb,EAAOc,KAAwB,CACjC,IAAMymC,EAAavnC,EAAOgB,QACpBqmC,EAAexmC,EAAMM,WAAU,SAACmmC,GAAD,OAAOA,EAAErnC,KAAOsnC,EAAWtnC,MAQhE,OANsB,IAAlBonC,EACFxmC,EAAMwmC,GAAgBE,EAEtB1mC,EAAMT,KAAKmnC,GAGN,YAAI1mC,GAGb,GAAoB,mBAAhBb,EAAOc,KAA2B,CACpC,IAAM0mC,EAAkBxnC,EAAOgB,QACzBqmC,EAAexmC,EAAMM,WAAU,SAACmmC,GAAD,OAAOA,EAAErnC,KAAOunC,EAAgBvnC,MAMrE,OAJsB,IAAlBonC,IACFxmC,EAAMwmC,GAAgBG,GAGjB,YAAI3mC,GAGb,GAAoB,UAAhBb,EAAOc,KACT,MAAO,IA8cI2mC,GA1cM,SAAC,GAA2B,IAAzB/9B,EAAwB,EAAxBA,SAAUoG,EAAc,EAAdA,QAC1BrG,EAAUhD,KAEhB,EAAiC/E,qBAAWd,GAAS,IAArD,mBAAO5G,EAAP,KAAqB2H,EAArB,KACA,EAAoClD,mBAAS,GAA7C,mBAAO0N,EAAP,KAAmByV,EAAnB,KACA,EAA8BnjB,oBAAS,GAAvC,mBAAO8N,EAAP,KAAgBC,EAAhB,KACA,EAA8B/N,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACM6oC,EAAiB79B,mBAEvB,EAA8CpL,mBAAS,IAAvD,mBAAOkpC,EAAP,KAAwBC,EAAxB,KACA,EAAgCnpC,mBAAS,MAAzC,mBAAO4P,EAAP,KAAiBqJ,EAAjB,KACMmwB,EAAyB9yB,QAAQ1G,GACjCy5B,EAAkBj+B,iBAAOH,GAE/B7J,qBAAU,WACR8B,EAAS,CAAEb,KAAM,UACjB8gB,EAAc,GAEdkmB,EAAgBh+B,QAAUJ,IACzB,CAACA,IAEJ7J,qBAAU,WACRhB,GAAW,GACX,IAAM0F,EAAkBC,YAAW,YACd,wCAAG,gHAEKjH,EAAIqE,IAAI,aAAe8H,EAAU,CACtDmD,OAAQ,CAAEV,gBAHM,gBAEVnO,EAFU,EAEVA,KAIJ8pC,EAAgBh+B,UAAYJ,IAC9B/H,EAAS,CAAEb,KAAM,gBAAiBE,QAAShD,EAAKxN,WAChDgc,EAAWxO,EAAKuO,SAChB1N,GAAW,IAGM,IAAfsN,GAAoBnO,EAAKxN,SAASiU,OAAS,GAC7CsjC,IAbgB,gDAgBlBlpC,GAAW,GACXjB,EAAW,EAAD,IAjBQ,yDAAH,qDAoBnBoqC,KACC,KACH,OAAO,WACLpjC,aAAaL,MAEd,CAAC4H,EAAYzC,IAEhB7J,qBAAU,WACR,IAAMC,EAAS3P,IAAW,GAAD,OAAIN,+BAAqC,CAChEo4C,WAAY,CAAC,eAgBf,OAbAnoC,EAAOC,GAAG,WAAW,kBAAMD,EAAOqP,KAAK,cAAezF,MAEtD5J,EAAOC,GAAG,cAAc,SAAC/B,GACH,WAAhBA,EAAKgC,SACP2B,EAAS,CAAEb,KAAM,cAAeE,QAAShD,EAAK7J,UAC9C4zC,KAGkB,WAAhB/pC,EAAKgC,QACP2B,EAAS,CAAEb,KAAM,iBAAkBE,QAAShD,EAAK7J,aAI9C,WACL2L,EAAOxN,gBAGR,CAACoX,IAEJ,IAIMq+B,EAAiB,WACjBL,EAAe59B,SACjB49B,EAAe59B,QAAQo+B,eAAe,KAqBpCC,EAA+B,SAAC39B,EAAGrW,GACvCujB,EAAYlN,EAAEoO,eACdgvB,EAAmBzzC,IAOfi0C,EAAoB,SAACj0C,GAEzB,KAA0B,oBAAtBA,EAAQk0C,WAAmCl0C,EAAQ8E,KAAKkV,MAAM,KAAK1J,QAAU,GAiB/E,IAA0B,mBAAtBtQ,EAAQk0C,UAAgC,CAI1C,IAHA,IAAI3Y,EAAQv7B,EAAQ8E,KAAKkV,MAAM,MAC3Bm6B,EAAM,GACNtvC,EAAU,GACLkhB,EAAQ,EAAGA,EAAQwV,EAAMjrB,OAAQyV,IAGxC,IAFA,IACIpG,EADM4b,EAAMxV,GACD/L,MAAM,KACZo6B,EAAM,EAAGA,EAAMz0B,EAAOrP,OAAQ8jC,KACH,IAA9Bz0B,EAAOy0B,GAAK/Y,QAAQ,MACtB8Y,EAAIloC,KAAK,CAAEvL,OAAQif,EAAOy0B,MAEO,IAA/Bz0B,EAAOy0B,GAAK/Y,QAAQ,QACtBx2B,EAAU8a,EAAOy0B,EAAM,IAI7B,OAAO,kBAAC,GAAD,CAAcvvC,QAASA,EAASyqC,QAAS6E,EAAI,GAAGzzC,SAkBpD,MAA0B,UAAtBV,EAAQk0C,UAER,kBAAC,GAAD,CAAgB3D,SAAUvwC,EAAQ2qC,WACV,UAAtB3qC,EAAQk0C,UAEf,2BAAOG,UAAQ,GACb,4BAAQt9B,IAAK/W,EAAQ2qC,SAAUh+B,KAAK,eAGT,UAAtB3M,EAAQk0C,UAGf,2BACEhlC,UAAWoG,EAAQ46B,aACnBn5B,IAAK/W,EAAQ2qC,SACb0J,UAAQ,IAMV,oCACE,yBAAKnlC,UAAWoG,EAAQ09B,eACtB,kBAAC5xB,GAAA,EAAD,CACEguB,UAAW,kBAACkF,GAAA,EAAD,MACXrzC,MAAM,UACNmW,QAAQ,WACR7F,OAAO,SACP4f,KAAMnxB,EAAQ2qC,UALhB,aAUF,kBAAC75B,EAAA,EAAD,OAnFN,IACE,IAM8B,EAN1ByjC,EAAgBv0C,EAAQ8E,KAAKkV,MAAM,KACnCw6B,EAAgBD,EAAc,GAC9BE,EAAeF,EAAc,GAE7BG,EAAsB,KAE1B,GAAIH,EAAcjkC,OAAS,EACzBokC,EAAmB,OAAG10C,QAAH,IAAGA,GAAH,UAAGA,EAAS8E,YAAZ,aAAG,EAAekV,MAAM,KAAK,GAElD,OAAO,kBAAC,GAAD,CAAiB01B,MAAO8E,EAAe7E,KAAM8E,EAAc7E,YAAa8E,IAC/E,MAAOhrC,GACPoR,QAAQC,IAAI,0BAA2BrR,KA+FvCirC,EAAwB,SAAC30C,EAAS+lB,GACtC,GAAc,IAAVA,EACF,OACE,0BACE7W,UAAWoG,EAAQq9B,eACnBx8B,IAAG,oBAAenW,EAAQ8L,KAE1B,yBAAKoD,UAAWoG,EAAQs9B,oBACrBn7B,aAAOF,aAAS1R,EAAakgB,GAAOwJ,WAAY,gBAKzD,GAAIxJ,EAAQlgB,EAAayK,OAAS,EAAG,CACnC,IAAIskC,EAAar9B,aAAS1R,EAAakgB,GAAOwJ,WAC1CslB,EAAqBt9B,aAAS1R,EAAakgB,EAAQ,GAAGwJ,WAE1D,IAAKjY,aAAUs9B,EAAYC,GACzB,OACE,0BACE3lC,UAAWoG,EAAQq9B,eACnBx8B,IAAG,oBAAenW,EAAQ8L,KAE1B,yBAAKoD,UAAWoG,EAAQs9B,oBACrBn7B,aAAOF,aAAS1R,EAAakgB,GAAOwJ,WAAY,gBAM3D,OAAIxJ,IAAUlgB,EAAayK,OAAS,EAEhC,yBACE6F,IAAG,cAASnW,EAAQuvB,WACpB/f,IAAK+jC,EACL38B,MAAO,CAAEk5B,MAAO,OAAQG,MAAO,eALrC,GAWI6E,EAAuB,SAAC90C,EAAS+lB,GACrC,GAAIA,EAAQlgB,EAAayK,QAAUyV,EAAQ,GACvBlgB,EAAakgB,GAAO2kB,SACZ7kC,EAAakgB,EAAQ,GAAG2kB,OAGhD,OACE,0BAAM9zB,MAAO,CAAEyG,UAAW,IAAMlH,IAAG,kBAAanW,EAAQ8L,OAM1DipC,EAAqB,SAAC/0C,EAAS+lB,GACnC,GAAIA,EAAQlgB,EAAayK,QAAUyV,EAAQ,EAAG,CAC5C,IAAIivB,EAAgBh1C,EAAQuV,SAE5B,GAAIy/B,IADwBnvC,EAAakgB,EAAQ,GAAGxQ,SAElD,OACE,yBAAKY,IAAG,iBAAYnW,EAAQ8L,IAAMoD,UAAWoG,EAAQ2/B,cAArD,YACYD,EACV,gCAOJE,EAAsB,SAACl1C,GAAa,IAAD,UACvC,OACE,yBACEkP,UAAWqH,YAAKjB,EAAQy8B,oBAAT,eACZz8B,EAAQ48B,qBAAuBlyC,EAAQ0qC,UAG1C,0BACEx7B,UAAWqH,YAAKjB,EAAQ08B,oBAAT,eACZ18B,EAAQ88B,qBADI,UACmBpyC,EAAQ4qC,iBAD3B,aACmB,EAAmBF,WAGvD,yBAAKx7B,UAAWoG,EAAQs1B,aACrB,UAAC5qC,EAAQ4qC,iBAAT,aAAC,EAAmBF,SACnB,0BAAMx7B,UAAWoG,EAAQozB,oBAAzB,UACG1oC,EAAQ4qC,iBADX,iBACG,EAAmB/lC,eADtB,aACG,EAA4BxJ,MAHnC,UAMG2E,EAAQ4qC,iBANX,aAMG,EAAmB9lC,QA8H5B,OACE,yBAAKoK,UAAWoG,EAAQk8B,qBACtB,kBAAC,GAAD,CACExxC,QAASwzC,EACTt5B,SAAUA,EACVsJ,SAAUkwB,EACVj0B,YA7UgC,SAACpJ,GACrCkN,EAAY,SA8UV,yBACEzX,GAAG,eACHoD,UAAWoG,EAAQzP,aACnB6oB,SAxWe,SAACrY,GACpB,GAAK+B,EAAL,CACA,IAAQuW,EAActY,EAAEoO,cAAhBkK,UAEU,IAAdA,IACFlT,SAAS6qB,eAAe,gBAAgB3X,UAAY,GAGlDlkB,GAIAkkB,EAAY,IArBhBlB,GAAc,SAAC0nB,GAAD,OAAoBA,EAAiB,QAmX9CtvC,EAAayK,OAAS,EApIvBzK,EAAayK,OAAS,EACCzK,EAAagX,KAAI,SAAC7c,EAAS+lB,GACX,IAAD,EA+BjB,EA/BrB,MAA0B,aAAtB/lB,EAAQk0C,UAER,kBAAC,IAAMh+B,SAAP,CAAgBC,IAAKnW,EAAQ8L,IAC1B6oC,EAAsB30C,EAAS+lB,GAC/B+uB,EAAqB90C,EAAS+lB,GAC9BgvB,EAAmB/0C,EAAS+lB,GAC7B,yBAAK7W,UAAWoG,EAAQm8B,eACtB,kBAAC55B,EAAA,EAAD,CACET,QAAQ,YACRkK,KAAK,QACLxV,GAAG,uBACHtG,SAAUxF,EAAQo1C,UAClBlmC,UAAWoG,EAAQ+8B,qBACnB3hC,QAAS,SAAC2F,GAAD,OAAO29B,EAA6B39B,EAAGrW,KAEhD,kBAACq1C,GAAA,EAAD,OAED15B,GACC,0BAAMzM,UAAWoG,EAAQozB,oBAAzB,UACG1oC,EAAQ6E,eADX,aACG,EAAiBxJ,MAGtB,6BACE,yBAAKi6C,MAAM,6BAA6BC,QAAQ,YAAY3gC,MAAM,KAAK7B,OAAO,MAC5E,0BAAMwd,KAAK,UAAUilB,EAAE,0RAF3B,IAGS,uEAAuC/9B,aAAOF,aAASvX,EAAQuvB,WAAY,aAMvFvvB,EAAQ0qC,OAsCT,kBAAC,IAAMx0B,SAAP,CAAgBC,IAAKnW,EAAQ8L,IAC1B6oC,EAAsB30C,EAAS+lB,GAC/B+uB,EAAqB90C,EAAS+lB,GAC9BgvB,EAAmB/0C,EAAS+lB,GAC7B,yBAAK7W,UAAWoG,EAAQ28B,cACtB,kBAACp6B,EAAA,EAAD,CACET,QAAQ,YACRkK,KAAK,QACLxV,GAAG,uBACHtG,SAAUxF,EAAQo1C,UAClBlmC,UAAWoG,EAAQ+8B,qBACnB3hC,QAAS,SAAC2F,GAAD,OAAO29B,EAA6B39B,EAAGrW,KAEhD,kBAACq1C,GAAA,EAAD,QAEAr1C,EAAQ2qC,UAAkC,mBAAtB3qC,EAAQk0C,WAAwD,oBAAtBl0C,EAAQk0C,YAEnED,EAAkBj0C,GACvB,yBACEkP,UAAWqH,YAAKjB,EAAQg9B,gBAAT,eACZh9B,EAAQk9B,uBAAyBxyC,EAAQo1C,aAG3Cp1C,EAAQo1C,WACP,kBAACK,GAAA,EAAD,CACEx0C,MAAM,WACNqS,SAAS,QACTpE,UAAWoG,EAAQw9B,cAGtB9yC,EAAQ4qC,WAAasK,EAAoBl1C,GAC1C,kBAAC,GAAD,KAAkBA,EAAQ8E,MAC1B,0BAAMoK,UAAWoG,EAAQo9B,WACtBj7B,aAAOF,aAASvX,EAAQuvB,WAAY,SAxN9B,SAACvvB,GACxB,OAAoB,IAAhBA,EAAQ01C,IACH,kBAACC,GAAA,EAAD,CAAYriC,SAAS,QAAQpE,UAAWoG,EAAQu9B,WAErC,IAAhB7yC,EAAQ01C,KAGQ,IAAhB11C,EAAQ01C,IAFH,kBAAC,KAAD,CAAMpiC,SAAS,QAAQpE,UAAWoG,EAAQu9B,WAK/B,IAAhB7yC,EAAQ01C,IACH,kBAACE,GAAA,EAAD,CAAStiC,SAAS,QAAQpE,UAAWoG,EAAQu9B,WAElC,IAAhB7yC,EAAQ01C,KAA6B,IAAhB11C,EAAQ01C,IACxB,kBAACE,GAAA,EAAD,CAAStiC,SAAS,QAAQpE,UAAWoG,EAAQy9B,sBADtD,EA4MiB8C,CAAiB71C,OAtE1B,kBAAC,IAAMkW,SAAP,CAAgBC,IAAKnW,EAAQ8L,IAC1B6oC,EAAsB30C,EAAS+lB,GAC/B+uB,EAAqB90C,EAAS+lB,GAC9BgvB,EAAmB/0C,EAAS+lB,GAC7B,yBAAK7W,UAAWoG,EAAQw8B,aACtB,kBAACj6B,EAAA,EAAD,CACET,QAAQ,YACRkK,KAAK,QACLxV,GAAG,uBACHtG,SAAUxF,EAAQo1C,UAClBlmC,UAAWoG,EAAQ+8B,qBACnB3hC,QAAS,SAAC2F,GAAD,OAAO29B,EAA6B39B,EAAGrW,KAEhD,kBAACq1C,GAAA,EAAD,OAED15B,GACC,0BAAMzM,UAAWoG,EAAQozB,oBAAzB,UACG1oC,EAAQ6E,eADX,aACG,EAAiBxJ,OAGpB2E,EAAQ2qC,UAAkC,mBAAtB3qC,EAAQk0C,WAAwD,oBAAtBl0C,EAAQk0C,YAEnED,EAAkBj0C,GAEvB,yBAAKkP,UAAWoG,EAAQg9B,iBACrBtyC,EAAQ4qC,WAAasK,EAAoBl1C,GAC1C,kBAAC,GAAD,KAAkBA,EAAQ8E,MAC1B,0BAAMoK,UAAWoG,EAAQo9B,WACtBj7B,aAAOF,aAASvX,EAAQuvB,WAAY,gBAoD5C,+DAiByC,IAE/C9kB,GACC,6BACE,kBAAC4W,GAAA,EAAD,CAAkBnS,UAAWoG,EAAQwyB,mB,2yMCxvB/C,IAEMx1B,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC4L,KAAM,CACJtL,QAAS,OACTC,OAAQ,OACRL,SAAU,WACVsQ,SAAU,UAGZ8yB,WAAW,aACTx8B,SAAU,MACVy8B,UAAW,OACVvjC,EAAMgH,YAAYC,KAAK,MAAQ,CAC9BH,SAAU,MACVy8B,UAAW,QAGfC,oBAAoB,aAClB18B,SAAU,MACVy8B,UAAW,MACXjjC,QAAS,QACRN,EAAMgH,YAAYC,KAAK,MAAQ,CAC9BH,SAAU,OACVy8B,UAAW,OACX5vB,aAAc,QAIlBmhB,YAAa,CACX3yB,KAAM,EACN5B,OAAQ,OACRD,QAAS,OACTG,cAAe,SACf+P,SAAU,SACVotB,oBAAqB,EACrBC,uBAAwB,EACxB4F,WAAY,IACZniC,aAtCgB,IAuChBiO,WAAYvP,EAAMwP,YAAY1Y,OAAO,SAAU,CAC7C2Y,OAAQzP,EAAMwP,YAAYC,OAAOC,MACjCC,SAAU3P,EAAMwP,YAAYG,SAASC,iBAIzC8zB,iBAAkB,CAChBrU,qBAAsB,EACtBC,wBAAyB,EACzB/f,WAAYvP,EAAMwP,YAAY1Y,OAAO,SAAU,CAC7C2Y,OAAQzP,EAAMwP,YAAYC,OAAOk0B,QACjCh0B,SAAU3P,EAAMwP,YAAYG,SAASG,iBAEvCxO,YAAa,OAoHFsiC,GAhHA,WACb,IAAQ7gC,EAAaC,cAAbD,SACFnL,EAAUC,cACViL,EAAUhD,KAEhB,EAAoChI,oBAAS,GAA7C,mBAAOoZ,EAAP,KAAmBC,EAAnB,KACA,EAA8BrZ,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAA8BJ,mBAAS,IAAvC,mBAAOzF,EAAP,KAAgBmoB,EAAhB,KACA,EAA4B1iB,mBAAS,IAArC,mBAAOmI,EAAP,KAAe4jC,EAAf,KAEA3qC,qBAAU,WACRhB,GAAW,GACX,IAAM0F,EAAkBC,YAAW,YAChB,wCAAG,gHAEOjH,EAAIqE,IAAI,YAAc8H,GAF7B,gBAER1L,EAFQ,EAERA,KAERmjB,EAAWnjB,EAAKhF,SAChBwxC,EAAUxsC,GACVa,GAAW,GANK,kDAQhBA,GAAW,GACXjB,EAAW,EAAD,IATM,0DAAH,qDAYjB6sC,KACC,KACH,OAAO,kBAAM7lC,aAAaL,MACzB,CAACmF,EAAUnL,IAEdsB,qBAAU,WACR,IAAMC,EAAS3P,IA0Bf,OAxBA2P,EAAOC,GAAG,WAAW,kBAAMD,EAAOqP,KAAK,cAAezF,MAEtD5J,EAAOC,GAAG,UAAU,SAAC/B,GACC,WAAhBA,EAAKgC,QACPwqC,EAAUxsC,EAAK4I,QAGG,WAAhB5I,EAAKgC,SACP7B,IAAMrN,QAAQ,+BACdyN,EAAQ6B,KAAK,gBAIjBN,EAAOC,GAAG,WAAW,SAAC/B,GACA,WAAhBA,EAAKgC,QACPmhB,GAAW,SAAC/R,GAAe,IAAD,EACxB,OAAIA,EAAUnP,MAAV,UAAiBjC,EAAKhF,eAAtB,aAAiB,EAAciH,IAC1B,2BAAKmP,GAAcpR,EAAKhF,SAE1BoW,QAKN,WACLtP,EAAOxN,gBAER,CAACoX,EAAUnL,IAUd,OACE,yBAAK8E,UAAWoG,EAAQ8I,KAAMtS,GAAG,oBAC/B,kBAAC8d,GAAA,EAAD,CACExS,QAAQ,WACR8S,UAAW,EACXhb,UAAWqH,YAAKjB,EAAQgyB,YAAT,eACZhyB,EAAQ4gC,iBAAmBxyB,KAG9B,kBAAC,GAAD,CAAcjZ,QAASA,GACrB,yBAAKyE,UAAWoG,EAAQwgC,YACtB,kBAAC,GAAD,CACEjxC,QAASA,EACT4N,OAAQA,EACR/B,QAtBa,WACvBiT,GAAc,OAwBR,yBAAKzU,UAAWoG,EAAQ0gC,qBACtB,kBAAC,GAAD,CAAqBvjC,OAAQA,MAGjC,kBAACmX,GAAA,EAAD,KACE,kBAACmb,GAAD,CAAetyB,OAAQA,KAEzB,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE8C,SAAUA,EACVoG,QAASlJ,EAAOkJ,UAElB,kBAAC,GAAD,CAAcotB,aAAct2B,EAAO3T,WAGvC,kBAAC,GAAD,CACE8D,KAAM8gB,EACNsiB,kBAtCoB,WACxBriB,GAAc,IAsCV9e,QAASA,EACT4F,QAASA,MC1KX6H,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC+jC,cAAe,CACb5hC,KAAM,EACNO,QAAS,GACTnC,OAAO,oBACPmG,UAAW,UAGbs9B,WAAY,CAEV1jC,QAAS,OACTC,OAAQ,QAGV0jC,gBAAiB,CACf3jC,QAAS,OACTC,OAAQ,OACRE,cAAe,SACfiG,UAAW,UAEbw9B,qBAAqB,aACnB5jC,QAAS,OACTC,OAAQ,OACRE,cAAe,SACfiG,UAAW,UACV1G,EAAMgH,YAAYC,KAAK,MAAQ,CAC9B3G,QAAS,SAGb6jC,iBAAkB,CAChB7jC,QAAS,OACTC,OAAQ,OACRE,cAAe,UAEjB2jC,WAAY,CACVtiC,gBAAiB,OACjBxB,QAAS,OACTK,eAAgB,eAChBD,WAAY,SACZH,OAAQ,OACRM,UAAW,SACX+B,aAAc,GAEhB/S,eAAgB,GAChBw0C,qBAAqB,eAClBrkC,EAAMgH,YAAYC,KAAK,MAAQ,CAC9B3G,QAAS,aA6CAgkC,GAxCF,WACX,IAAMxhC,EAAUhD,KACRiD,EAAaC,cAAbD,SAER,OACE,yBAAKrG,UAAWoG,EAAQihC,eACtB,yBAAKrnC,UAAWoG,EAAQkhC,YACtB,kBAACxtB,GAAA,EAAD,CAAM/F,WAAS,EAAC1J,QAAS,GAEvB,kBAACyP,GAAA,EAAD,CACEC,MAAI,EACJC,GAAI,GACJK,GAAI,EACJra,UACEqG,EAAWD,EAAQohC,qBAAuBphC,EAAQmhC,iBAGpD,kBAAC,GAAD,OAEF,kBAACztB,GAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAIK,GAAI,EAAGra,UAAWoG,EAAQqhC,kBAE1CphC,EACC,oCACE,kBAAC,GAAD,OAGF,kBAACs2B,GAAA,EAAD,CAAQC,KAAM,CAAC,KAAM,OACnB,kBAACliB,GAAA,EAAD,CAAO1a,UAAWoG,EAAQshC,YAExB,8BAAOjuC,IAAKsB,EAAE,gC,2yMC5DhC,IAAMwC,GAAU,SAACC,EAAOb,GACtB,GAAoB,eAAhBA,EAAOc,KAAuB,CAChC,IAAMrI,EAAQuH,EAAOgB,QACfkqC,EAAW,GAWjB,OATAzyC,EAAM6N,SAAQ,SAAC1N,GACb,IAAMuyC,EAAYtqC,EAAMM,WAAU,SAACwoB,GAAD,OAAOA,EAAE1pB,KAAOrH,EAAKqH,OACpC,IAAfkrC,EACFtqC,EAAMsqC,GAAavyC,EAEnBsyC,EAAS9qC,KAAKxH,MAIZ,GAAN,mBAAWiI,GAAUqqC,GAGvB,GAAoB,iBAAhBlrC,EAAOc,KAAyB,CAClC,IAAMlI,EAAOoH,EAAOgB,QACdmqC,EAAYtqC,EAAMM,WAAU,SAACwoB,GAAD,OAAOA,EAAE1pB,KAAOrH,EAAKqH,MAEvD,OAAmB,IAAfkrC,GACFtqC,EAAMsqC,GAAavyC,EACZ,YAAIiI,IAEL,CAAEjI,GAAR,mBAAiBiI,IAIrB,GAAoB,gBAAhBb,EAAOc,KAAwB,CACjC,IAAMmJ,EAASjK,EAAOgB,QAEhBmqC,EAAYtqC,EAAMM,WAAU,SAACwoB,GAAD,OAAOA,EAAE1pB,KAAOgK,KAIlD,OAHmB,IAAfkhC,GACFtqC,EAAMW,OAAO2pC,EAAW,GAEnB,YAAItqC,GAGb,GAAoB,UAAhBb,EAAOc,KACT,MAAO,IAIL2F,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC2X,UAAU,aACRxV,KAAM,EACNO,QAAS1C,EAAM+G,QAAQ,GACvBL,UAAW,UACR1G,EAAM4G,qBAiNE69B,GA7MD,WACZ,IAAM3hC,EAAUhD,KAEhB,EAA8BhI,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAoCJ,mBAAS,GAA7C,mBAAO0N,EAAP,KAAmByV,EAAnB,KACA,EAA8BnjB,oBAAS,GAAvC,mBAAO8N,EAAP,KAAgBC,EAAhB,KACA,EAAwC/N,mBAAS,MAAjD,mBAAOyjC,EAAP,KAAqBC,EAArB,KACA,EAAwC1jC,mBAAS,MAAjD,mBAAO4sC,EAAP,KAAqBC,EAArB,KACA,EAA0C7sC,oBAAS,GAAnD,mBAAO+Y,EAAP,KAAsBC,EAAtB,KACA,EAAgDhZ,oBAAS,GAAzD,mBAAO2gB,EAAP,KAAyBC,EAAzB,KACA,EAAsC5gB,mBAAS,IAA/C,mBAAOyN,EAAP,KAAoB2V,EAApB,KACA,EAA0BngB,qBAAWd,GAAS,IAA9C,mBAAOnI,EAAP,KAAckJ,EAAd,KAEA9B,qBAAU,WACR8B,EAAS,CAAEb,KAAM,UACjB8gB,EAAc,KACb,CAAC1V,IAEJrM,qBAAU,WACRhB,GAAW,GACX,IAAM0F,EAAkBC,YAAW,YACjB,wCAAG,gHAEQjH,EAAIqE,IAAI,UAAW,CACxCiL,OAAQ,CAAEX,cAAaC,gBAHV,gBAEPnO,EAFO,EAEPA,KAGR2D,EAAS,CAAEb,KAAM,aAAcE,QAAShD,EAAKvF,QAC7C+T,EAAWxO,EAAKuO,SAChB1N,GAAW,GAPI,kDASfjB,EAAW,EAAD,IATK,0DAAH,qDAYhB8kC,KACC,KACH,OAAO,kBAAM99B,aAAaL,MACzB,CAAC2H,EAAaC,IAEjBtM,qBAAU,WACR,IAAMC,EAAS3P,IAYf,OAVA2P,EAAOC,GAAG,QAAQ,SAAC/B,GACG,WAAhBA,EAAKgC,QAAuC,WAAhBhC,EAAKgC,QACnC2B,EAAS,CAAEb,KAAM,eAAgBE,QAAShD,EAAKpF,OAG7B,WAAhBoF,EAAKgC,QACP2B,EAAS,CAAEb,KAAM,cAAeE,SAAUhD,EAAKiM,YAI5C,WACLnK,EAAOxN,gBAER,IAEH,IAmBMi5C,EAAgB,wCAAG,WAAOthC,GAAP,2FAEf1M,EAAI3C,OAAJ,iBAAqBqP,IAFN,OAGrB9L,IAAMrN,QAAQgM,IAAKsB,EAAE,yBAHA,+CAKrBR,EAAW,EAAD,IALW,OAOvB0tC,EAAgB,MAChBzpB,EAAe,IACfD,EAAc,GATS,yDAAH,sDAwBtB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEhxB,MACEy6C,GAAY,UACTvuC,IAAKsB,EAAE,uCADE,YAEVitC,EAAa77C,KAFH,KAKduH,KAAMqoB,EACNtO,QAASuO,EACTnB,UAAW,kBAAMqtB,EAAiBF,EAAaprC,MAE9CnD,IAAKsB,EAAE,0CAEV,kBAAC,GAAD,CACErH,KAAMygB,EACN1G,QAvDuB,WAC3BqxB,EAAgB,MAChB1qB,GAAiB,IAsDb0G,kBAAgB,oBAChBlU,OAAQi4B,GAAgBA,EAAajiC,KAEvC,kBAAC,GAAD,KACE,kBAAC,GAAD,KAAQnD,IAAKsB,EAAE,gBACf,kBAAC,GAAD,KACE,kBAACyW,GAAA,EAAD,CACEle,YAAamG,IAAKsB,EAAE,8BACpB0C,KAAK,SACLH,MAAOuL,EACPoF,SA7DW,SAACqH,GACpBkJ,EAAelJ,EAAMjT,OAAO/E,MAAMgiB,gBA6D1B1N,WAAY,CACV2N,eACE,kBAACzN,GAAA,EAAD,CAAgBtO,SAAS,SACvB,kBAAC,KAAD,CAAYkE,MAAO,CAAE3V,MAAO,cAKpC,kBAACmgB,GAAA,EAAD,CACEhK,QAAQ,YACRnW,MAAM,UACNyP,QAnFkB,WAC1Bs9B,EAAgB,MAChB1qB,GAAiB,KAmFR3a,IAAKsB,EAAE,wBAId,kBAAC2f,GAAA,EAAD,CACE1a,UAAWoG,EAAQ6U,UACnB/S,QAAQ,WACRsX,SAzDe,SAACrY,GACpB,GAAK+B,IAAW3N,EAAhB,CACA,MAAkD4L,EAAEoO,cAA5CkK,EAAR,EAAQA,UAAR,EAAmBC,cACCD,EAAY,KADhC,EAAiCE,cALjCpB,GAAc,SAACxS,GAAD,OAAeA,EAAY,QA8DrC,kBAAC8Q,GAAA,EAAD,CAAOzK,KAAK,SACV,kBAAC0K,GAAA,EAAD,KACE,kBAACxG,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAWO,MAAM,UAAUrd,IAAKsB,EAAE,qBAClC,kBAACwb,GAAA,EAAD,CAAWO,MAAM,UACdrd,IAAKsB,EAAE,sBAEV,kBAACwb,GAAA,EAAD,CAAWO,MAAM,UACdrd,IAAKsB,EAAE,wBAEV,kBAACwb,GAAA,EAAD,CAAWO,MAAM,UACdrd,IAAKsB,EAAE,yBAEV,kBAACwb,GAAA,EAAD,CAAWO,MAAM,UACdrd,IAAKsB,EAAE,0BAId,kBAACgiB,GAAA,EAAD,KACE,oCACG3nB,EAAMuY,KAAI,SAACpY,GAAD,aACT,kBAAC+gB,GAAA,EAAD,CAAUrP,IAAK1R,EAAKqH,IAClB,kBAAC2Z,GAAA,EAAD,CAAWO,MAAM,UAAUvhB,EAAKpJ,MAChC,kBAACoqB,GAAA,EAAD,CAAWO,MAAM,UAAUvhB,EAAK3H,OAChC,kBAAC2oB,GAAA,EAAD,CAAWO,MAAM,UAAUvhB,EAAKxC,SAChC,kBAACwjB,GAAA,EAAD,CAAWO,MAAM,UAAjB,UAA2BvhB,EAAKnE,gBAAhC,aAA2B,EAAejF,MAC1C,kBAACoqB,GAAA,EAAD,CAAWO,MAAM,UACf,kBAACnO,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,kBA7GN,SAACjM,GACtBupC,EAAgBvpC,GAChB6e,GAAiB,GA2GgB+zB,CAAe5yC,KAE9B,kBAAC,KAAD,OAGF,kBAACoT,EAAA,EAAD,CACEyJ,KAAK,QACL5Q,QAAS,SAAC2F,GACR6U,GAAoB,GACpBisB,EAAgB1yC,KAGlB,kBAAC,KAAD,YAKPgG,GAAW,kBAAC,GAAD,CAAkB8a,QAAS,U,6BCtPtC+xB,GA7BD,SAAC,GAA0D,IAA7CC,EAA4C,EAAvD5nC,UAAuD,IAAjC6nC,iBAAiC,SAAXlX,EAAW,mBACtE,EAA4BrwB,qBAAW9D,GAA/B5B,EAAR,EAAQA,OAAQE,EAAhB,EAAgBA,QAEhB,OAAKF,GAAUitC,EAEX,oCACG/sC,GAAW,kBAAC,GAAD,MACZ,kBAAC,IAAD,CAAUwE,GAAI,CAAE8K,SAAU,SAAUrN,MAAO,CAAEmZ,KAAMya,EAAKxmB,cAK1DvP,IAAWitC,EAEX,oCACG/sC,GAAW,kBAAC,GAAD,MACZ,kBAAC,IAAD,CAAUwE,GAAI,CAAE8K,SAAU,IAAKrN,MAAO,CAAEmZ,KAAMya,EAAKxmB,aAFrD,KAQF,oCACGrP,GAAW,kBAAC,GAAD,MACZ,kBAAC,IAAD,iBAAiB61B,EAAjB,CAAuB3wB,UAAW4nC,O,2yMCfxC,IAAMjlC,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtC4L,KAAM,CACLtL,QAAS,OACTI,WAAY,SACZgC,QAAS1C,EAAM+G,QAAQ,EAAG,EAAG,IAG9BmD,MAAO,CACNxH,QAAS1C,EAAM+G,QAAQ,GACvBzG,QAAS,OACTI,WAAY,SACZiT,aAAc,IAIf6W,cAAe,CACdjpB,WAAY,QAEbf,OAAQ,CACPA,OAAQR,EAAM+G,QAAQ,QAiFT0jB,GA5EE,WAChB,IAAM3nB,EAAUhD,KAEhB,EAAgChI,mBAAS,IAAzC,mBAAO/F,EAAP,KAAiB24B,EAAjB,KAEAxxB,qBAAU,YACS,wCAAG,gHAEItC,EAAIqE,IAAI,aAFZ,gBAEX5D,EAFW,EAEXA,KACRqzB,EAAYrzB,GAHO,gDAKnBJ,EAAW,EAAD,IALS,yDAAH,qDAQlBiE,KACE,IAEHhC,qBAAU,WACT,IAAMC,EAAS3P,IAAWN,+BAa1B,OAXAiQ,EAAOC,GAAG,YAAY,SAAA/B,GACD,WAAhBA,EAAKgC,QACRqxB,GAAY,SAAAjiB,GACX,IAAMoU,EAAG,YAAOpU,GACVkiB,EAAe9N,EAAIriB,WAAU,SAAAC,GAAC,OAAIA,EAAEkJ,MAAQtM,EAAKuzB,QAAQjnB,OAE/D,OADAkZ,EAAI8N,GAAc3wB,MAAQ3C,EAAKuzB,QAAQ5wB,MAChC6iB,QAKH,WACN1jB,EAAOxN,gBAEN,IAEH,IAcwBgY,EAKxB,OACC,yBAAKjH,UAAWoG,EAAQ8I,MACvB,kBAAC0G,GAAA,EAAD,CAAW5V,UAAWoG,EAAQ2N,UAAW3J,SAAS,MAEjD,kBAACsQ,GAAA,EAAD,CAAO1a,UAAWoG,EAAQoH,OACzB,kBAACgE,GAAA,EAAD,CACC5U,GAAG,oBACH4xB,UAAQ,EACRxf,MAAM,YACNlL,OAAO,QACPoE,QAAQ,WACRmG,WAAS,EACT/Q,MAAOjI,GAAYA,EAAS+L,OAAS,IAjBlB6F,EAiBuC,eAhB5C5R,EAASwZ,MAAK,SAAA9Q,GAAC,OAAIA,EAAEkJ,MAAQA,KAAvC3J,aCtFJ8F,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnC4L,KAAM,CACFtL,QAAS,OACTI,WAAY,SACZgC,QAAS1C,EAAM+G,QAAQ,IAG3BmD,MAAO,CACHxH,QAAS1C,EAAM+G,QAAQ,GACvBzG,QAAS,OACTI,WAAY,SACZiT,aAAc,IAGlB6W,cAAe,CACXjpB,WAAY,QAGhBf,OAAQ,CACJA,OAAQR,EAAM+G,QAAQ,IAG1BtY,MAAO,CACHA,MAAO,WAGXgvB,KAAM,CACFlc,WAAY,QAGhB0jC,MAAO,CACH1jC,WAAY,YAkDL2jC,GA7CH,WACR,IAAMpiC,EAAUhD,KAEhB,OACI,yBAAKpD,UAAWoG,EAAQ8I,MACpB,kBAAC0G,GAAA,EAAD,KACI,0EAEA,wBAAI5V,UAAWoG,EAAQrU,OAAvB,uBAEA,uBAAGiO,UAAWoG,EAAQ2a,MAAtB,yBACA,uBAAG/gB,UAAWoG,EAAQ2a,MAAtB,4BAEA,wBAAI/gB,UAAWoG,EAAQrU,OAAvB,oBACA,2BAAG,6DACH,4BACI,wJACA,+HACA,6BACA,4BACI,4BACI,mEACA,mCACA,4CAIZ,wBAAIiO,UAAWoG,EAAQrU,OAAvB,yBACA,mHACA,uBAAGiO,UAAWoG,EAAQmiC,OAAO,oCAAa/7C,8BAA1C,sBACA,uBAAGwT,UAAWoG,EAAQmiC,OAAO,0CAA7B,QACA,uBAAGvoC,UAAWoG,EAAQmiC,OAAO,wCAA7B,iEACA,uBAAGvoC,UAAWoG,EAAQmiC,OAAO,qCAA7B,wDAEA,wBAAIvoC,UAAWoG,EAAQrU,OAAvB,4BACA,sGACA,uBAAGiO,UAAWoG,EAAQmiC,OAAO,oCAAa/7C,8BAA1C,sBACA,uBAAGwT,UAAWoG,EAAQmiC,OAAO,0CAA7B,QACA,uBAAGvoC,UAAWoG,EAAQmiC,OAAO,wCAA7B,oEACA,uBAAGvoC,UAAWoG,EAAQmiC,OAAO,qCAA7B,2FCDDE,GAlDA,WACb,OACE,kBAAC,IAAD,KACE,kBAAC,EAAD,KACE,kBAAC,IAAD,KACE,kBAAC,GAAD,CAAOC,OAAK,EAACC,KAAK,SAASloC,UAAW2hB,KACtC,kBAAC,GAAD,CAAOsmB,OAAK,EAACC,KAAK,UAAUloC,UAAWmoC,KACvC,kBAAC,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAOF,OAAK,EAACC,KAAK,IAAIloC,UAAWkhB,GAAW2mB,WAAS,IACrD,kBAAC,GAAD,CACEI,OAAK,EACLC,KAAK,sBACLloC,UAAWooC,GACXP,WAAS,IAEX,kBAAC,GAAD,CACEI,OAAK,EACLC,KAAK,eACLloC,UAAW+a,GACX8sB,WAAS,IAEX,kBAAC,GAAD,CAAOI,OAAK,EAACC,KAAK,YAAYloC,UAAW6d,GAAUgqB,WAAS,IAC5D,kBAAC,GAAD,CAAOI,OAAK,EAACC,KAAK,SAASloC,UAAWsnC,GAAOO,WAAS,IACrD,kBAAC,GAAD,CAAOI,OAAK,EAACC,KAAK,QAAQloC,UAAWqoC,GAAMR,WAAS,IACpD,kBAAC,GAAD,CAAOI,OAAK,EAACC,KAAK,UAAUloC,UAAWsoC,GAAQT,WAAS,IACzD,kBAAC,GAAD,CACEI,OAAK,EACLC,KAAK,gBACLloC,UAAW6mB,GACXghB,WAAS,IAEX,kBAAC,GAAD,CAAOI,OAAK,EAACC,KAAK,YAAYloC,UAAWstB,GAAUua,WAAS,IAC5D,kBAAC,GAAD,CAAOI,OAAK,EAACC,KAAK,UAAUloC,UAAW8lB,GAAQ+hB,WAAS,IACxD,kBAAC,GAAD,CAAOI,OAAK,EAACC,KAAK,QAAQloC,UAAWmvB,GAAM0Y,WAAS,IACpD,kBAAC,GAAD,CAAOI,OAAK,EAACC,KAAK,aAAaloC,UAAWmpB,GAAW0e,WAAS,IAC9D,kBAAC,GAAD,CAAOI,OAAK,EAACC,KAAK,eAAeloC,UAAWuoC,GAAiBV,WAAS,IAEtE,kBAAC,GAAD,CAAOI,OAAK,EAACC,KAAK,kBAAkBloC,UAAWwoC,GAAgBX,WAAS,IACxE,kBAAC,GAAD,CAAOI,OAAK,EAACC,KAAK,mBAAmBloC,UAAWyoC,GAAgBZ,WAAS,OAK/E,kBAAC,IAAD,CAAgBa,UAAW,S,uCC1BpBC,GAvCH,WACV,MAA4BhuC,qBAA5B,mBAAOiuC,EAAP,KAAeC,EAAf,KAEMhmC,EAAQimC,aACZ,CACEr/B,gBAAiB,CACf,uBAAwB,CACtBxE,MAAO,MACP7B,OAAQ,OAEV,6BAA8B,CAC5B4G,UAAW,mCACXrF,gBAAiB,YAGrB0b,QAAS,CACPhhB,QAAS,CAAEyhB,KAAM,aAGrB8nB,GAaF,OAVA7sC,qBAAU,WACR,IAAMgtC,EAAa58C,aAAaC,QAAQ,cAIlB,SAFpB28C,EAAW7e,UAAU,EAAG,GAAK6e,EAAW7e,UAAU,EAAG,IAGrD2e,EAAUG,WAEX,IAGD,kBAACC,GAAA,EAAD,CAAepmC,MAAOA,GACpB,kBAAC,GAAD,QCnCNqmC,IAAShlB,OACR,kBAACrC,EAAA,EAAD,KACC,kBAAC,GAAD,OAED/V,SAAS6qB,eAAe,W","file":"static/js/main.6974440e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sound.9fd5812c.mp3\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/logo.e5731dac.png\";","module.exports = __webpack_public_path__ + \"static/media/wa-background.adbccee0.png\";","function getConfig(name, defaultValue=null) {\n    // If inside a docker container, use window.ENV\n    if( window.ENV !== undefined ) {\n        return window.ENV[name] || defaultValue;\n    }\n\n    return process.env[name] || defaultValue;\n}\n\nexport function getBackendUrl() {\n    return getConfig('REACT_APP_BACKEND_URL');\n}\n\nexport function getHoursCloseTicketsAuto() {\n    return getConfig('REACT_APP_HOURS_CLOSE_TICKETS_AUTO');\n}","import openSocket from \"socket.io-client\";\nimport { getBackendUrl } from \"../config\";\nfunction connectToSocket() {\n  const token = localStorage.getItem(\"token\");\n  const socket = openSocket(getBackendUrl(), {\n    query: {\n      auth_token: JSON.parse(token),\n    },\n  });\n\n  return socket;\n}\n\nexport default connectToSocket;\n","import { messages as portugueseMessages } from \"./pt\";\nimport { messages as englishMessages } from \"./en\";\nimport { messages as spanishMessages } from \"./es\";\n\nconst messages = {\n\t...portugueseMessages,\n\t...englishMessages,\n\t...spanishMessages,\n};\n\nexport { messages };\n","const messages = {\n  pt: {\n    translations: {\n      signup: {\n        title: \"Cadastre-se\",\n        toasts: {\n          success: \"Usurio criado com sucesso! Faa seu login!!!.\",\n          fail: \"Erro ao criar usurio. Verifique os dados informados.\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n        },\n        buttons: {\n          submit: \"Cadastrar\",\n          login: \"J tem uma conta? Entre!\",\n        },\n      },\n      login: {\n        title: \"Login\",\n        form: {\n          email: \"Email\",\n          password: \"Senha\",\n        },\n        buttons: {\n          submit: \"Entrar\",\n          register: \"No tem um conta? Cadastre-se!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"Login efetuado com sucesso!\",\n        },\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Atendimentos hoje: \",\n          },\n        },\n        messages: {\n          inAttendance: {\n            title: \"Em Atendimento\"\n          },\n          waiting: {\n            title: \"Aguardando\"\n          },\n          closed: {\n            title: \"Finalizado\"\n          }\n        }\n      },\n      connections: {\n        title: \"Conexes\",\n        toasts: {\n          deleted: \"Conexo com o WhatsApp excluda com sucesso!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Deletar\",\n          deleteMessage: \"Voc tem certeza? Essa ao no pode ser revertida.\",\n          disconnectTitle: \"Desconectar\",\n          disconnectMessage:\n            \"Tem certeza? Voc precisar ler o QR Code novamente.\",\n        },\n        buttons: {\n          add: \"Adicionar WhatsApp\",\n          disconnect: \"desconectar\",\n          tryAgain: \"Tentar novamente\",\n          qrcode: \"QR CODE\",\n          newQr: \"Novo QR CODE\",\n          connecting: \"Conectando\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"Falha ao iniciar sesso do WhatsApp\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado  internet e tente novamente, ou solicite um novo QR Code\",\n          },\n          qrcode: {\n            title: \"Esperando leitura do QR Code\",\n            content:\n              \"Clique no boto 'QR CODE' e leia o QR Code com o seu celular para iniciar a sesso\",\n          },\n          connected: {\n            title: \"Conexo estabelecida!\",\n          },\n          timeout: {\n            title: \"A conexo com o celular foi perdida\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado  internet e o WhatsApp esteja aberto, ou clique no boto 'Desconectar' para obter um novo QR Code\",\n          },\n        },\n        table: {\n          name: \"Nome\",\n          status: \"Status\",\n          lastUpdate: \"ltima atualizao\",\n          default: \"Padro\",\n          actions: \"Aes\",\n          session: \"Sesso\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Adicionar WhatsApp\",\n          edit: \"Editar WhatsApp\",\n        },\n        form: {\n          name: \"Nome\",\n          default: \"Padro\",\n          farewellMessage: \"Mensagem de despedida\",\n          isMultidevice: \"Multidevice\",\n          transferTicketMessage: \"Mensagem de Transferncia do Atendimento\",\n          reopenLastTicket: \"Reabrir Ultimo Chamado\",\n          minutes: \"Minutos\",\n          newticketafter: \"Gerar um Novo Atendimento aps\",\n          titlenewticketafter: \"Ao receber uma mensagem\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"WhatsApp salvo com sucesso.\",\n      },\n      qrCode: {\n        message: \"Leia o QrCode para iniciar a sesso\",\n      },\n      contacts: {\n        title: \"Contatos\",\n        toasts: {\n          deleted: \"Contato excludo com sucesso!\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n        confirmationModal: {\n          deleteTitle: \"Deletar \",\n          importTitlte: \"Importar contatos\",\n          deleteMessage:\n            \"Tem certeza que deseja deletar este contato? Todos os atendimentos relacionados sero perdidos.\",\n          importMessage: \"Deseja importas todos os contatos do telefone?\",\n        },\n        buttons: {\n          import: \"Importar Contatos\",\n          add: \"Adicionar Contato\",\n        },\n        table: {\n          name: \"Nome\",\n          whatsapp: \"WhatsApp\",\n          email: \"Email\",\n          actions: \"Aes\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Adicionar contato\",\n          edit: \"Editar contato\",\n        },\n        form: {\n          mainInfo: \"Dados do contato\",\n          extraInfo: \"Informaes adicionais\",\n          name: \"Nome\",\n          number: \"Nmero do Whatsapp\",\n          email: \"Email\",\n          extraName: \"Nome do campo\",\n          extraValue: \"Valor\",\n        },\n        buttons: {\n          addExtraInfo: \"Adicionar informao\",\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Contato salvo com sucesso.\",\n      },\n      quickAnswersModal: {\n        title: {\n          add: \"Adicionar Resposta Rpida\",\n          edit: \"Editar Resposta Rpida\",\n        },\n        form: {\n          shortcut: \"Atalho\",\n          message: \"Resposta Rpida\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Resposta Rpida salva com sucesso.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Adicionar fila\",\n          edit: \"Editar fila\",\n        },\n        form: {\n          name: \"Nome\",\n          color: \"Cor\",\n          greetingMessage: \"Mensagem de saudao\",\n          transferQueueMessage: \"Mensagem de Transferncia entre Setor\",\n          outOfWorkMessage: \"Personalize a mensagem quando estiver fora do horrio de expediente\",\n          startWorkHour: \"Expediente: Abertura\",\n          endWorkHour: \"Expediente: Fechamento\",\n          monday: \"Segunda\",\n          tuesday: \"Tera\",\n          wednesday: \"Quarta\",\n          thursday: \"Quinta\",\n          friday: \"Sexta\",\n          saturday: \"Sbado\",\n          sunday: \"Domingo\",\n          holiday: \"Feriado\",\n          token: \"Token\",\n          checkHourExpedient: \"Checar Horrio de Expediente\"\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      userModal: {\n        title: {\n          add: \"Adicionar usurio\",\n          edit: \"Editar usurio\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n          profile: \"Perfil\",\n          whatsapp: \"Conexo Padro\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Usurio salvo com sucesso.\",\n      },\n      tagModal: {\n        title: {\n          add: \"Nova Tag\",\n          edit: \"Editar Tag\",\n        },\n        form: {\n          name: \"Nome\",\n          color: \"Cor\"\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Tag salvo com sucesso.\",\n      },\n      chat: {\n        noTicketMessage: \"Selecione um chamado para comear a conversar.\",\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"Novo\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Filas\",\n      },\n      tickets: {\n        toasts: {\n          deleted: \"O Atendimento que voc estava foi deletado.\",\n        },\n        notification: {\n          message: \"Mensagem de\",\n        },\n        tabs: {\n          open: { title: \"Inbox\" },\n          closed: { title: \"Resolvidos\" },\n          search: { title: \"Busca\" },\n        },\n        search: {\n          placeholder: \"Buscar Atendimentos e mensagens\",\n        },\n        buttons: {\n          showAll: \"Todos\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transferir Atendimento\",\n        fieldLabel: \"Digite para buscar usurios\",\n        fieldQueueLabel: \"Transferir para fila\",\n        fieldConnectionLabel: \"Transferir para conexo\",\n        fieldQueuePlaceholder: \"Selecione uma fila\",\n        fieldConnectionPlaceholder: \"Selecione uma conexo\",\n        noOptions: \"Nenhum usurio encontrado com esse nome\",\n        buttons: {\n          ok: \"Transferir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Aguardando\",\n        assignedHeader: \"Atendendo\",\n        noTicketsTitle: \"Nada aqui!\",\n        noTicketsMessage:\n          \"Nenhum Atendimento encontrado com esse status ou termo pesquisado\",\n        connectionTitle: \"Conexo que est sendo utilizada atualmente.\",\n        buttons: {\n          accept: \"Aceitar\",\n        },\n      },\n      newTicketModal: {\n        title: \"Criar Chamado\",\n        fieldLabel: \"Digite para pesquisar o contato\",\n        add: \"Adicionar\",\n        buttons: {\n          ok: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Conexes\",\n          tickets: \"Atendimentos\",\n          contacts: \"Contatos\",\n          quickAnswers: \"Respostas Rpidas\",\n          queues: \"Filas & Chatbot\",\n          schedules: \"Agendamentos\",\n          tags: \"Tags\",\n          administration: \"Administrao\",\n          users: \"Usurios\",\n          settings: \"Configuraes\",\n        },\n        appBar: {\n          user: {\n            profile: \"Perfil\",\n            logout: \"Sair\",\n          },\n        },\n      },\n      notifications: {\n        noTickets: \"Nenhuma notificao.\",\n      },\n      schedules: {\n        title: \"Agendamentos\",\n        confirmationModal: {\n          deleteTitle:\n            \"Voc tem certeza que quer excluir este Agendamento?\",\n          deleteMessage: \"Esta ao no pode ser revertida.\",\n        },\n        table: {\n          contact: \"Contato\",\n          body: \"Mensagem\",\n          sendAt: \"Data de Agendamento\",\n          sentAt: \"Data de Envio\",\n          status: \"Status\",\n          actions: \"Aes\",\n        },\n        buttons: {\n          add: \"Novo Agendamento\",\n        },\n        toasts: {\n          deleted: \"Agendamento excludo com sucesso.\",\n        }\n      },\n      scheduleModal: {\n        title: {\n          add: \"Novo Agendamento\",\n          edit: \"Editar Agendamento\",\n        },\n        form: {\n          body: \"Mensagem\",\n          contact: \"Contato\",\n          sendAt: \"Data de Agendamento\",\n          sentAt: \"Data de Envio\"\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Agendamento salvo com sucesso.\",\n      },\n      queues: {\n        title: \"Filas\",\n        table: {\n          name: \"Nome\",\n          color: \"Cor\",\n          greeting: \"Mensagem de saudao\",\n          actions: \"Aes\",\n        },\n        buttons: {\n          add: \"Adicionar fila\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Voc tem certeza? Essa ao no pode ser revertida! Os atendimentos dessa fila continuaro existindo, mas no tero mais nenhuma fila atribuda.\",\n        },\n      },\n      queueSelect: {\n        inputLabel: \"Filas\",\n      },\n      quickAnswers: {\n        title: \"Respostas Rpidas\",\n        table: {\n          shortcut: \"Atalho\",\n          message: \"Resposta Rpida\",\n          actions: \"Aes\",\n        },\n        buttons: {\n          add: \"Adicionar Resposta Rpida\",\n        },\n        toasts: {\n          deleted: \"Resposta Rpida excluda com sucesso.\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n        confirmationModal: {\n          deleteTitle:\n            \"Voc tem certeza que quer excluir esta Resposta Rpida: \",\n          deleteMessage: \"Esta ao no pode ser revertida.\",\n        },\n      },\n      users: {\n        title: \"Usurios\",\n        table: {\n          name: \"Nome\",\n          email: \"Email\",\n          profile: \"Perfil\",\n          whatsapp: \"Conexo Padro\",\n          actions: \"Aes\",\n        },\n        buttons: {\n          add: \"Adicionar usurio\",\n        },\n        toasts: {\n          deleted: \"Usurio excludo com sucesso.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Todos os dados do usurio sero perdidos. Os atendimentos abertos deste usurio sero movidos para a fila.\",\n        },\n      },\n      tags: {\n        title: \"Tags\",\n        confirmationModal: {\n          deleteTitle:\n            \"Voc tem certeza que quer excluir esta Tag?\",\n          deleteMessage: \"Esta ao no pode ser revertida.\",\n        },\n        table: {\n          name: \"Nome\",\n          color: \"Cor\",\n          tickets: \"Registros Tagdos\",\n          actions: \"Aes\",\n        },\n        buttons: {\n          add: \"Nova Tag\",\n        },\n        toasts: {\n          deleted: \"Tag excludo com sucesso.\",\n        }\n      },\n      settings: {\n        success: \"Configuraes salvas com sucesso.\",\n        title: \"Configuraes\",\n        settings: {\n          userCreation: {\n            name: \"Criao de usurio\",\n            options: {\n              enabled: \"Ativado\",\n              disabled: \"Desativado\",\n            },\n          },\n          timeCreateNewTicket: {\n            name: \"Mensagem de boas-vindas aps\",\n            note: \"Selecione o tempo que ser necessrio para abrir um novo Chamado, caso o cliente entre em contatos novamente\",\n            options: {\n              \"10\": \"10 Segundos\",\n              \"30\": \"30 Segundos\",\n              \"60\": \"1 minuto\",\n              \"300\": \"5 minutos\",\n              \"1800\" : \"30 minutos\",\n              \"3600\" : \"1 hora\",\n              \"7200\" : \"2 horas\",\n              \"21600\" : \"6 horas\",\n              \"43200\" : \"12 horas\",\n              \"86400\" : \"24 horas\",\n              \"172800\" : \"48 horas\",\n            },\n          },  \n          call: {\n            name: \"Aceitar chamadas\",\n            options: {\n              enabled: \"Ativado\",\n              disabled: \"Desativado\",\n            },\n          },\n          CheckMsgIsGroup: {\n            name: \"Ignorar Mensagens de Grupos\",\n            options: {\n                enabled: \"Ativado\",\n                disabled: \"Desativado\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Atribudo :\",\n          buttons: {\n            return: \"Retornar\",\n            resolve: \"Resolver\",\n            reopen: \"Reabrir\",\n            accept: \"Aceitar\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Digite uma mensagem ou tecle ''/'' para utilizar as respostas rpidas cadastrada\",\n        placeholderClosed:\n          \"Reabra ou aceite esse ticket para enviar uma mensagem.\",\n        signMessage: \"Assinar\",\n      },\n      contactDrawer: {\n        header: \"Dados do contato\",\n        buttons: {\n          edit: \"Editar contato\",\n        },\n        extraInfo: \"Outras informaes\",\n      },\n      ticketOptionsMenu: {\n        delete: \"Deletar\",\n        transfer: \"Transferir\",\n        confirmationModal: {\n          title: \"Deletar o ticket do contato\",\n          message:\n            \"Ateno! Todas as mensagens relacionadas ao Atendimento sero perdidas.\",\n        },\n        buttons: {\n          delete: \"Excluir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancelar\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Deletar\",\n        reply: \"Responder\",\n        confirmationModal: {\n          title: \"Apagar mensagem?\",\n          message: \"Esta ao no pode ser revertida.\",\n        },\n      },\n      backendErrors: {\n        ERR_TAG_NAME_ALREADY_EXISTS: \"J existe uma tag com esse nome.\",\n        ERR_NO_OTHER_WHATSAPP: \"Deve haver pelo menos um WhatsApp padro.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"Nenhum WhatsApp padro encontrado. Verifique a pgina de conexes.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"Esta sesso do WhatsApp no foi inicializada. Verifique a pgina de conexes.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"No foi possvel verificar o contato do WhatsApp. Verifique a pgina de conexes\",\n        ERR_WAPP_INVALID_CONTACT: \"Este no  um nmero de Whatsapp vlido.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"No foi possvel baixar mdia do WhatsApp. Verifique a pgina de conexes.\",\n        ERR_INVALID_CREDENTIALS:\n          \"Erro de autenticao. Por favor, tente novamente.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Erro ao enviar mensagem do WhatsApp. Verifique a pgina de conexes.\",\n        ERR_DELETE_WAPP_MSG: \"No foi possvel excluir a mensagem do WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET: \"J existe um tquete aberto para este contato.\",\n        ERR_SESSION_EXPIRED: \"Sesso expirada. Por favor entre.\",\n        ERR_USER_CREATION_DISABLED:\n          \"A criao do usurio foi desabilitada pelo administrador.\",\n        ERR_NO_PERMISSION: \"Voc no tem permisso para acessar este recurso.\",\n        ERR_DUPLICATED_CONTACT: \"J existe um contato com este nmero.\",\n        ERR_NO_SETTING_FOUND: \"Nenhuma configurao encontrada com este ID.\",\n        ERR_NO_CONTACT_FOUND: \"Nenhum contato encontrado com este ID.\",\n        ERR_NO_TICKET_FOUND: \"Nenhum tquete encontrado com este ID.\",\n        ERR_NO_USER_FOUND: \"Nenhum usurio encontrado com este ID.\",\n        ERR_NO_WAPP_FOUND: \"Nenhum WhatsApp encontrado com este ID.\",\n        ERR_CREATING_MESSAGE: \"Erro ao criar mensagem no banco de dados.\",\n        ERR_CREATING_TICKET: \"Erro ao criar tquete no banco de dados.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"Esta cor j est em uso, escolha outra.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"A mensagem de saudao  obrigatrio quando h mais de uma fila.\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","const messages = {\n  en: {\n    translations: {\n      signup: {\n        title: \"Sign up\",\n        toasts: {\n          success: \"User created successfully! Please login!\",\n          fail: \"Error creating user. Check the reported data.\",\n        },\n        form: {\n          name: \"Name\",\n          email: \"Email\",\n          password: \"Password\",\n        },\n        buttons: {\n          submit: \"Register\",\n          login: \"Already have an account? Log in!\",\n        },\n      },\n      login: {\n        title: \"Login\",\n        form: {\n          email: \"Email\",\n          password: \"Password\",\n        },\n        buttons: {\n          submit: \"Enter\",\n          register: \"Don't have an account? Register!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"Login successfully!\",\n        },\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Tickets today: \",\n          },\n        },\n        messages: {\n          inAttendance: {\n            title: \"In Service\"\n          },\n          waiting: {\n            title: \"Waiting\"\n          },\n          closed: {\n            title: \"Closed\"\n          }\n        }\n      },\n      connections: {\n        title: \"Connections\",\n        toasts: {\n          deleted: \"WhatsApp connection deleted sucessfully!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          deleteMessage: \"Are you sure? It cannot be reverted.\",\n          disconnectTitle: \"Disconnect\",\n          disconnectMessage: \"Are you sure? You'll need to read QR Code again.\",\n        },\n        buttons: {\n          add: \"Add WhatsApp\",\n          disconnect: \"Disconnect\",\n          tryAgain: \"Try Again\",\n          qrcode: \"QR CODE\",\n          newQr: \"New QR CODE\",\n          connecting: \"Connectiing\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"Failed to start WhatsApp session\",\n            content:\n              \"Make sure your cell phone is connected to the internet and try again, or request a new QR Code\",\n          },\n          qrcode: {\n            title: \"Waiting for QR Code read\",\n            content:\n              \"Click on 'QR CODE' button and read the QR Code with your cell phone to start session\",\n          },\n          connected: {\n            title: \"Connection established\",\n          },\n          timeout: {\n            title: \"Connection with cell phone has been lost\",\n            content:\n              \"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode\",\n          },\n        },\n        table: {\n          name: \"Name\",\n          status: \"Status\",\n          lastUpdate: \"Last Update\",\n          default: \"Default\",\n          actions: \"Actions\",\n          session: \"Session\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Add WhatsApp\",\n          edit: \"Edit WhatsApp\",\n        },\n        form: {\n          name: \"Name\",\n          default: \"Default\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"WhatsApp saved successfully.\",\n      },\n      qrCode: {\n        message: \"Read QrCode to start the session\",\n      },\n      contacts: {\n        title: \"Contacts\",\n        toasts: {\n          deleted: \"Contact deleted sucessfully!\",\n        },\n        searchPlaceholder: \"Search ...\",\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          importTitlte: \"Import contacts\",\n          deleteMessage:\n            \"Are you sure you want to delete this contact? All related tickets will be lost.\",\n          importMessage: \"Do you want to import all contacts from the phone?\",\n        },\n        buttons: {\n          import: \"Import Contacts\",\n          add: \"Add Contact\",\n        },\n        table: {\n          name: \"Name\",\n          whatsapp: \"WhatsApp\",\n          email: \"Email\",\n          actions: \"Actions\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Add contact\",\n          edit: \"Edit contact\",\n        },\n        form: {\n          mainInfo: \"Contact details\",\n          extraInfo: \"Additional information\",\n          name: \"Name\",\n          number: \"Whatsapp number\",\n          email: \"Email\",\n          extraName: \"Field name\",\n          extraValue: \"Value\",\n        },\n        buttons: {\n          addExtraInfo: \"Add information\",\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"Contact saved successfully.\",\n      },\n      quickAnswersModal: {\n        title: {\n          add: \"Add Quick Reply\",\n          edit: \"Edit Quick Answer\",\n        },\n        form: {\n          shortcut: \"Shortcut\",\n          message: \"Quick Reply\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"Quick Reply saved successfully.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Add queue\",\n          edit: \"Edit queue\",\n        },\n        form: {\n          name: \"Name\",\n          color: \"Color\",\n          greetingMessage: \"Greeting Message\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n      },\n      userModal: {\n        title: {\n          add: \"Add user\",\n          edit: \"Edit user\",\n        },\n        form: {\n          name: \"Name\",\n          email: \"Email\",\n          password: \"Password\",\n          profile: \"Profile\",\n          whatsapp: \"Default Connection\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"User saved successfully.\",\n      },\n      chat: {\n        noTicketMessage: \"Select a ticket to start chatting.\",\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"New\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Queues\",\n      },\n      tickets: {\n        toasts: {\n          deleted: \"The ticket you were on has been deleted.\",\n        },\n        notification: {\n          message: \"Message from\",\n        },\n        tabs: {\n          open: { title: \"Inbox\" },\n          closed: { title: \"Resolved\" },\n          search: { title: \"Search\" },\n        },\n        search: {\n          placeholder: \"Search tickets and messages.\",\n        },\n        buttons: {\n          showAll: \"All\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transfer Ticket\",\n        fieldLabel: \"Type to search for users\",\n        fieldQueueLabel: \"Transfer to queue\",\n        fieldConnectionLabel: \"Transfer to connection\",\n        fieldQueuePlaceholder: \"Please select a queue\",\n        fieldConnectionPlaceholder: \"Please select a connection\",\n        noOptions: \"No user found with this name\",\n        buttons: {\n          ok: \"Transfer\",\n          cancel: \"Cancel\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Queue\",\n        assignedHeader: \"Working on\",\n        noTicketsTitle: \"Nothing here!\",\n        noTicketsMessage: \"No tickets found with this status or search term.\",\n        connectionTitle: \"Connection that is currently being used.\",\n        buttons: {\n          accept: \"Accept\",\n        },\n      },\n      newTicketModal: {\n        title: \"Create Ticket\",\n        fieldLabel: \"Type to search for a contact\",\n        add: \"Add\",\n        buttons: {\n          ok: \"Save\",\n          cancel: \"Cancel\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Connections\",\n          tickets: \"Tickets\",\n          contacts: \"Contacts\",\n          quickAnswers: \"Quick Answers\",\n          queues: \"Queues\",\n          administration: \"Administration\",\n          users: \"Users\",\n          settings: \"Settings\",\n        },\n        appBar: {\n          user: {\n            profile: \"Profile\",\n            logout: \"Logout\",\n          },\n        },\n      },\n      notifications: {\n        noTickets: \"No notifications.\",\n      },\n      queues: {\n        title: \"Queues\",\n        table: {\n          name: \"Name\",\n          color: \"Color\",\n          greeting: \"Greeting message\",\n          actions: \"Actions\",\n        },\n        buttons: {\n          add: \"Add queue\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          deleteMessage:\n            \"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned.\",\n        },\n      },\n      queueSelect: {\n        inputLabel: \"Queues\",\n      },\n      quickAnswers: {\n        title: \"Quick Answers\",\n        table: {\n          shortcut: \"Shortcut\",\n          message: \"Quick Reply\",\n          actions: \"Actions\",\n        },\n        buttons: {\n          add: \"Add Quick Reply\",\n        },\n        toasts: {\n          deleted: \"Quick Reply deleted successfully.\",\n        },\n        searchPlaceholder: \"Search...\",\n        confirmationModal: {\n          deleteTitle: \"Are you sure you want to delete this Quick Reply: \",\n          deleteMessage: \"This action cannot be undone.\",\n        },\n      },\n      users: {\n        title: \"Users\",\n        table: {\n          name: \"Name\",\n          email: \"Email\",\n          profile: \"Profile\",\n          whatsapp: \"Default Connection\",\n          actions: \"Actions\",\n        },\n        buttons: {\n          add: \"Add user\",\n        },\n        toasts: {\n          deleted: \"User deleted sucessfully.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          deleteMessage:\n            \"All user data will be lost. Users' open tickets will be moved to queue.\",\n        },\n      },\n      settings: {\n        success: \"Settings saved successfully.\",\n        title: \"Settings\",\n        settings: {\n          userCreation: {\n            name: \"User creation\",\n            options: {\n              enabled: \"Enabled\",\n              disabled: \"Disabled\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Assigned to:\",\n          buttons: {\n            return: \"Return\",\n            resolve: \"Resolve\",\n            reopen: \"Reopen\",\n            accept: \"Accept\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Type a message or press ''/'' to use the registered quick responses\",\n        placeholderClosed: \"Reopen or accept this ticket to send a message.\",\n        signMessage: \"Sign\",\n      },\n      contactDrawer: {\n        header: \"Contact details\",\n        buttons: {\n          edit: \"Edit contact\",\n        },\n        extraInfo: \"Other information\",\n      },\n      ticketOptionsMenu: {\n        delete: \"Delete\",\n        transfer: \"Transfer\",\n        confirmationModal: {\n          title: \"Delete ticket #\",\n          titleFrom: \"from contact \",\n          message: \"Attention! All ticket's related messages will be lost.\",\n        },\n        buttons: {\n          delete: \"Delete\",\n          cancel: \"Cancel\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancel\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Delete\",\n        reply: \"Reply\",\n        confirmationModal: {\n          title: \"Delete message?\",\n          message: \"This action cannot be reverted.\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP:\n          \"There must be at lest one default WhatsApp connection.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"No default WhatsApp found. Check connections page.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"This WhatsApp session is not initialized. Check connections page.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"Could not check WhatsApp contact. Check connections page.\",\n        ERR_WAPP_INVALID_CONTACT: \"This is not a valid whatsapp number.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"Could not download media from WhatsApp. Check connections page.\",\n        ERR_INVALID_CREDENTIALS: \"Authentication error. Please try again.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Error sending WhatsApp message. Check connections page.\",\n        ERR_DELETE_WAPP_MSG: \"Couldn't delete message from WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET:\n          \"There's already an open ticket for this contact.\",\n        ERR_SESSION_EXPIRED: \"Session expired. Please login.\",\n        ERR_USER_CREATION_DISABLED:\n          \"User creation was disabled by administrator.\",\n        ERR_NO_PERMISSION: \"You don't have permission to access this resource.\",\n        ERR_DUPLICATED_CONTACT: \"A contact with this number already exists.\",\n        ERR_NO_SETTING_FOUND: \"No setting found with this ID.\",\n        ERR_NO_CONTACT_FOUND: \"No contact found with this ID.\",\n        ERR_NO_TICKET_FOUND: \"No ticket found with this ID.\",\n        ERR_NO_USER_FOUND: \"No user found with this ID.\",\n        ERR_NO_WAPP_FOUND: \"No WhatsApp found with this ID.\",\n        ERR_CREATING_MESSAGE: \"Error while creating message on database.\",\n        ERR_CREATING_TICKET: \"Error while creating ticket on database.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Error fetching the message in WhtasApp, maybe it is too old.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"This color is already in use, pick another one.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"Greeting message is required if there is more than one queue.\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","const messages = {\n  es: {\n    translations: {\n      signup: {\n        title: \"Registro\",\n        toasts: {\n          success:\n            \"El usuario ha sido creado satisfactoriamente! Ahora inicia sesin!\",\n          fail: \"Error creando el usuario. Verifica la data reportada.\",\n        },\n        form: {\n          name: \"Nombre\",\n          email: \"Correo Electrnico\",\n          password: \"Contrasea\",\n        },\n        buttons: {\n          submit: \"Regstrate\",\n          login: \"Ya tienes una cuenta? Inicia sesin!\",\n        },\n      },\n      login: {\n        title: \"Inicio de Sesin\",\n        form: {\n          email: \"Correo Electrnico\",\n          password: \"Contrasea\",\n        },\n        buttons: {\n          submit: \"Ingresa\",\n          register: \"No tienes cuenta? Regstrate!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"Inicio de sesin exitoso!\",\n        },\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Tickets hoy: \",\n          },\n        },\n        messages: {\n          inAttendance: {\n            title: \"En servicio\"\n          },\n          waiting: {\n            title: \"Esperando\"\n          },\n          closed: {\n            title: \"Finalizado\"\n          }\n        }\n      },\n      connections: {\n        title: \"Conexiones\",\n        toasts: {\n          deleted:\n            \"La conexin de WhatsApp ha sido borrada satisfactoriamente!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Borrar\",\n          deleteMessage: \"Ests seguro? Este proceso no puede ser revertido.\",\n          disconnectTitle: \"Desconectar\",\n          disconnectMessage: \"Ests seguro? Deber volver a leer el cdigo QR\",\n        },\n        buttons: {\n          add: \"Agrega WhatsApp\",\n          disconnect: \"Desconectar\",\n          tryAgain: \"Intntalo de nuevo\",\n          qrcode: \"QR CODE\",\n          newQr: \"Nuevo QR CODE\",\n          connecting: \"Conectando\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"No se pudo iniciar la sesin de WhatsApp\",\n            content:\n              \"Asegrese de que su telfono celular est conectado a Internet y vuelva a intentarlo o solicite un nuevo cdigo QR\",\n          },\n          qrcode: {\n            title: \"Esperando la lectura del cdigo QR\",\n            content:\n              \"Haga clic en el botn 'CDIGO QR' y lea el Cdigo QR con su telfono celular para iniciar la sesin\",\n          },\n          connected: {\n            title: \"Conexin establecida\",\n          },\n          timeout: {\n            title: \"Se perdi la conexin con el telfono celular\",\n            content:\n              \"Asegrese de que su telfono celular est conectado a Internet y que WhatsApp est abierto, o haga clic en el botn 'Desconectar' para obtener un nuevo cdigo QR\",\n          },\n        },\n        table: {\n          name: \"Nombre\",\n          status: \"Estado\",\n          lastUpdate: \"ltima Actualizacin\",\n          default: \"Por Defecto\",\n          actions: \"Acciones\",\n          session: \"Sesin\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Agrega WhatsApp\",\n          edit: \"Edita WhatsApp\",\n        },\n        form: {\n          name: \"Nombre\",\n          default: \"Por Defecto\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"WhatsApp guardado satisfactoriamente.\",\n      },\n      qrCode: {\n        message: \"Le el cdigo QR para empezar la sesin.\",\n      },\n      contacts: {\n        title: \"Contactos\",\n        toasts: {\n          deleted: \"Contacto borrado satisfactoriamente!\",\n        },\n        searchPlaceholder: \"Buscar...\",\n        confirmationModal: {\n          deleteTitle: \"Borrar\",\n          importTitlte: \"Importar contactos\",\n          deleteMessage:\n            \"Ests seguro que deseas borrar este contacto? Todos los tickets relacionados se perdern.\",\n          importMessage:\n            \"Quieres importar todos los contactos desde tu telfono?\",\n        },\n        buttons: {\n          import: \"Importar Contactos\",\n          add: \"Agregar Contacto\",\n        },\n        table: {\n          name: \"Nombre\",\n          whatsapp: \"WhatsApp\",\n          email: \"Correo Electrnico\",\n          actions: \"Acciones\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Agregar contacto\",\n          edit: \"Editar contacto\",\n        },\n        form: {\n          mainInfo: \"Detalles del contacto\",\n          extraInfo: \"Informacin adicional\",\n          name: \"Nombre\",\n          number: \"Nmero de Whatsapp\",\n          email: \"Correo Electrnico\",\n          extraName: \"Nombre del Campo\",\n          extraValue: \"Valor\",\n        },\n        buttons: {\n          addExtraInfo: \"Agregar informacin\",\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Contacto guardado satisfactoriamente.\",\n      },\n      quickAnswersModal: {\n        title: {\n          add: \"Agregar respuesta rpida\",\n          edit: \"Editar respuesta rpida\",\n        },\n        form: {\n          shortcut: \"Atajo\",\n          message: \"Respuesta rpida\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Respuesta rpida guardada correctamente.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Agregar cola\",\n          edit: \"Editar cola\",\n        },\n        form: {\n          name: \"Nombre\",\n          color: \"Color\",\n          greetingMessage: \"Mensaje de saludo\",\n        },\n        buttons: {\n          okAdd: \"Aadir\",\n          okEdit: \"Ahorrar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      userModal: {\n        title: {\n          add: \"Agregar usuario\",\n          edit: \"Editar usuario\",\n        },\n        form: {\n          name: \"Nombre\",\n          email: \"Correo Electrnico\",\n          password: \"Contrasea\",\n          profile: \"Perfil\",\n          whatsapp: \"Conexin estndar\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Usuario guardado satisfactoriamente.\",\n      },\n      chat: {\n        noTicketMessage: \"Selecciona un ticket para empezar a chatear.\",\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"Nuevo\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Linhas\",\n      },\n      tickets: {\n        toasts: {\n          deleted: \"El ticket en el que estabas ha sido borrado.\",\n        },\n        notification: {\n          message: \"Mensaje de\",\n        },\n        tabs: {\n          open: { title: \"Bandeja\" },\n          closed: { title: \"Resueltos\" },\n          search: { title: \"Buscar\" },\n        },\n        search: {\n          placeholder: \"Buscar tickets y mensajes.\",\n        },\n        buttons: {\n          showAll: \"Todos\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transferir Ticket\",\n        fieldLabel: \"Escriba para buscar usuarios\",\n        fieldQueueLabel: \"Transferir a la cola\",\n        fieldConnectionLabel: \"Transferir to conexin\",\n        fieldQueuePlaceholder: \"Seleccione una cola\",\n        fieldConnectionPlaceholder: \"Seleccione una conexin\",\n        noOptions: \"No se encontraron usuarios con ese nombre\",\n        buttons: {\n          ok: \"Transferir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Cola\",\n        assignedHeader: \"Trabajando en\",\n        noTicketsTitle: \"Nada ac!\",\n        connectionTitle: \"Conexin que se est utilizando actualmente.\",\n        noTicketsMessage:\n          \"No se encontraron tickets con este estado o trmino de bsqueda\",\n        buttons: {\n          accept: \"Acceptar\",\n        },\n      },\n      newTicketModal: {\n        title: \"Crear Ticket\",\n        fieldLabel: \"Escribe para buscar un contacto\",\n        add: \"Aadir\",\n        buttons: {\n          ok: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Conexiones\",\n          tickets: \"Tickets\",\n          contacts: \"Contactos\",\n          quickAnswers: \"Respuestas rpidas\",\n          queues: \"Linhas\",\n          administration: \"Administracin\",\n          users: \"Usuarios\",\n          settings: \"Configuracin\",\n        },\n        appBar: {\n          user: {\n            profile: \"Perfil\",\n            logout: \"Cerrar Sesin\",\n          },\n        },\n      },\n      notifications: {\n        noTickets: \"Sin notificaciones.\",\n      },\n      queues: {\n        title: \"Linhas\",\n        table: {\n          name: \"Nombre\",\n          color: \"Color\",\n          greeting: \"Mensaje de saludo\",\n          actions: \"Comportamiento\",\n        },\n        buttons: {\n          add: \"Agregar cola\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Eliminar\",\n          deleteMessage:\n            \"Ests seguro? Esta accin no se puede revertir! Los tickets en esa cola seguirn existiendo, pero ya no tendrn ninguna cola asignada.\",\n        },\n      },\n      queueSelect: {\n        inputLabel: \"Linhas\",\n      },\n      quickAnswers: {\n        title: \"Respuestas rpidas\",\n        table: {\n          shortcut: \"Atajo\",\n          message: \"Respuesta rpida\",\n          actions: \"Acciones\",\n        },\n        buttons: {\n          add: \"Agregar respuesta rpida\",\n        },\n        toasts: {\n          deleted: \"Respuesta rpida eliminada correctamente\",\n        },\n        searchPlaceholder: \"Buscar ...\",\n        confirmationModal: {\n          deleteTitle:\n            \"Est seguro de que desea eliminar esta respuesta rpida?\",\n          deleteMessage: \"Esta accin no se puede deshacer.\",\n        },\n      },\n      users: {\n        title: \"Usuarios\",\n        table: {\n          name: \"Nombre\",\n          email: \"Correo Electrnico\",\n          profile: \"Perfil\",\n          whatsapp: \"Conexin estndar\",\n          actions: \"Acciones\",\n        },\n        buttons: {\n          add: \"Agregar usuario\",\n        },\n        toasts: {\n          deleted: \"Usuario borrado satisfactoriamente.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Borrar\",\n          deleteMessage:\n            \"Toda la informacin del usuario se perder. Los tickets abiertos de los usuarios se movern a la cola.\",\n        },\n      },\n      settings: {\n        success: \"Configuracin guardada satisfactoriamente.\",\n        title: \"Configuracin\",\n        settings: {\n          userCreation: {\n            name: \"Creacin de usuarios\",\n            options: {\n              enabled: \"Habilitado\",\n              disabled: \"Deshabilitado\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Asignado a:\",\n          buttons: {\n            return: \"Devolver\",\n            resolve: \"Resolver\",\n            reopen: \"Reabrir\",\n            accept: \"Aceptar\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Escriba un mensaje o presione '' / '' para usar las respuestas rpidas registradas\",\n        placeholderClosed:\n          \"Vuelva a abrir o acepte este ticket para enviar un mensaje.\",\n        signMessage: \"Firmar\",\n      },\n      contactDrawer: {\n        header: \"Detalles del contacto\",\n        buttons: {\n          edit: \"Editar contacto\",\n        },\n        extraInfo: \"Otra informacin\",\n      },\n      ticketOptionsMenu: {\n        delete: \"Borrar\",\n        transfer: \"Transferir\",\n        confirmationModal: {\n          title: \"Borrar ticket #\",\n          titleFrom: \"del contacto \",\n          message:\n            \"Atencin! Todos los mensajes Todos los mensajes relacionados con el ticket se perdern.\",\n        },\n        buttons: {\n          delete: \"Borrar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancelar\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Borrar\",\n        reply: \"Responder\",\n        confirmationModal: {\n          title: \"Borrar mensaje?\",\n          message: \"Esta accin no puede ser revertida.\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP:\n          \"Debe haber al menos una conexin de WhatsApp predeterminada.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"No se encontr WhatsApp predeterminado. Verifique la pgina de conexiones.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"Esta sesin de WhatsApp no est inicializada. Verifique la pgina de conexiones.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"No se pudo verificar el contacto de WhatsApp. Verifique la pgina de conexiones.\",\n        ERR_WAPP_INVALID_CONTACT: \"Este no es un nmero de whatsapp vlido.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"No se pudieron descargar los medios de WhatsApp. Verifique la pgina de conexiones.\",\n        ERR_INVALID_CREDENTIALS: \"Error de autenticacin. Vuelva a intentarlo.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Error al enviar el mensaje de WhatsApp. Verifique la pgina de conexiones.\",\n        ERR_DELETE_WAPP_MSG: \"No se pudo borrar el mensaje de WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET: \"Ya hay un ticket abierto para este contacto.\",\n        ERR_SESSION_EXPIRED: \"Sesin caducada. Inicie sesin.\",\n        ERR_USER_CREATION_DISABLED:\n          \"La creacin de usuarios fue deshabilitada por el administrador.\",\n        ERR_NO_PERMISSION: \"No tienes permiso para acceder a este recurso.\",\n        ERR_DUPLICATED_CONTACT: \"Ya existe un contacto con este nmero.\",\n        ERR_NO_SETTING_FOUND:\n          \"No se encontr ninguna configuracin con este ID.\",\n        ERR_NO_CONTACT_FOUND: \"No se encontr ningn contacto con este ID.\",\n        ERR_NO_TICKET_FOUND: \"No se encontr ningn ticket con este ID.\",\n        ERR_NO_USER_FOUND: \"No se encontr ningn usuario con este ID.\",\n        ERR_NO_WAPP_FOUND: \"No se encontr WhatsApp con este ID.\",\n        ERR_CREATING_MESSAGE: \"Error al crear el mensaje en la base de datos.\",\n        ERR_CREATING_TICKET: \"Error al crear el ticket en la base de datos.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Error al obtener el mensaje en WhtasApp, tal vez sea demasiado antiguo.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"Este color ya est en uso, elija otro.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"El mensaje de saludo es obligatorio cuando hay ms de una cola.\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","import i18n from \"i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\n\nimport { messages } from \"./languages\";\n\ni18n.use(LanguageDetector).init({\n\tdebug: false,\n\tdefaultNS: [\"translations\"],\n\tfallbackLng: \"en\",\n\tns: [\"translations\"],\n\tresources: messages,\n});\n\nexport { i18n };\n","import axios from \"axios\";\nimport { getBackendUrl } from \"../config\";\n\nconst api = axios.create({\n\tbaseURL: getBackendUrl(),\n\twithCredentials: true,\n});\n\nexport default api;\n","import { toast } from \"react-toastify\";\nimport { i18n } from \"../translate/i18n\";\n\nconst toastError = err => {\n\tconst errorMsg = err.response?.data?.message || err.response.data.error;\n\tif (errorMsg) {\n\t\tif (i18n.exists(`backendErrors.${errorMsg}`)) {\n\t\t\ttoast.error(i18n.t(`backendErrors.${errorMsg}`), {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t});\n\t\t} else {\n\t\t\ttoast.error(errorMsg, {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t});\n\t\t}\n\t} else {\n\t\ttoast.error(\"An error occurred!\");\n\t}\n};\n\nexport default toastError;\n","import { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport openSocket from \"../../services/socket-io\";\n\nimport { toast } from \"react-toastify\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useAuth = () => {\n\tconst history = useHistory();\n\tconst [isAuth, setIsAuth] = useState(false);\n\tconst [loading, setLoading] = useState(true);\n\tconst [user, setUser] = useState({});\n\n\tapi.interceptors.request.use(\n\t\tconfig => {\n\t\t\tconst token = localStorage.getItem(\"token\");\n\t\t\tif (token) {\n\t\t\t\tconfig.headers[\"Authorization\"] = `Bearer ${JSON.parse(token)}`;\n\t\t\t\tsetIsAuth(true);\n\t\t\t}\n\t\t\treturn config;\n\t\t},\n\t\terror => {\n\t\t\tPromise.reject(error);\n\t\t}\n\t);\n\n\tapi.interceptors.response.use(\n\t\tresponse => {\n\t\t\treturn response;\n\t\t},\n\t\tasync error => {\n\t\t\tconst originalRequest = error.config;\n\t\t\tif (error?.response?.status === 403 && !originalRequest._retry) {\n\t\t\t\toriginalRequest._retry = true;\n\n\t\t\t\tconst { data } = await api.post(\"/auth/refresh_token\");\n\t\t\t\tif (data) {\n\t\t\t\t\tlocalStorage.setItem(\"token\", JSON.stringify(data.token));\n\t\t\t\t\tapi.defaults.headers.Authorization = `Bearer ${data.token}`;\n\t\t\t\t}\n\t\t\t\treturn api(originalRequest);\n\t\t\t}\n\t\t\tif (error?.response?.status === 401) {\n\t\t\t\tlocalStorage.removeItem(\"token\");\n\t\t\t\tapi.defaults.headers.Authorization = undefined;\n\t\t\t\tsetIsAuth(false);\n\t\t\t}\n\t\t\treturn Promise.reject(error);\n\t\t}\n\t);\n\n\tuseEffect(() => {\n\t\tconst token = localStorage.getItem(\"token\");\n\t\t(async () => {\n\t\t\tif (token) {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.post(\"/auth/refresh_token\");\n\t\t\t\t\tapi.defaults.headers.Authorization = `Bearer ${data.token}`;\n\t\t\t\t\tsetIsAuth(true);\n\t\t\t\t\tsetUser(data.user);\n\t\t\t\t} catch (err) {\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetLoading(false);\n\t\t})();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket();\n\n\t\tsocket.on(\"user\", data => {\n\t\t\tif (data.action === \"update\" && data.user.id === user.id) {\n\t\t\t\tsetUser(data.user);\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [user]);\n\n\tconst handleLogin = async userData => {\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tconst { data } = await api.post(\"/auth/login\", userData);\n\t\t\tlocalStorage.setItem(\"token\", JSON.stringify(data.token));\n\t\t\tapi.defaults.headers.Authorization = `Bearer ${data.token}`;\n\t\t\tsetUser(data.user);\n\t\t\tsetIsAuth(true);\n\t\t\ttoast.success(i18n.t(\"auth.toasts.success\"));\n\t\t\thistory.push(\"/tickets\");\n\t\t\tsetLoading(false);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst handleLogout = async () => {\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tawait api.delete(\"/auth/logout\");\n\t\t\tsetIsAuth(false);\n\t\t\tsetUser({});\n\t\t\tlocalStorage.removeItem(\"token\");\n\t\t\tapi.defaults.headers.Authorization = undefined;\n\t\t\tsetLoading(false);\n\t\t\thistory.push(\"/login\");\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn { isAuth, user, loading, handleLogin, handleLogout };\n};\n\nexport default useAuth;\n","import React, { createContext } from \"react\";\n\nimport useAuth from \"../../hooks/useAuth.js\";\n\nconst AuthContext = createContext();\n\nconst AuthProvider = ({ children }) => {\n\tconst { loading, user, isAuth, handleLogin, handleLogout } = useAuth();\n\n\treturn (\n\t\t<AuthContext.Provider\n\t\t\tvalue={{ loading, user, isAuth, handleLogin, handleLogout }}\n\t\t>\n\t\t\t{children}\n\t\t</AuthContext.Provider>\n\t);\n};\n\nexport { AuthContext, AuthProvider };\n","import { useState, useEffect, useReducer } from \"react\";\nimport openSocket from \"../../services/socket-io\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst reducer = (state, action) => {\n\tif (action.type === \"LOAD_WHATSAPPS\") {\n\t\tconst whatsApps = action.payload;\n\n\t\treturn [...whatsApps];\n\t}\n\n\tif (action.type === \"UPDATE_WHATSAPPS\") {\n\t\tconst whatsApp = action.payload;\n\t\tconst whatsAppIndex = state.findIndex(s => s.id === whatsApp.id);\n\n\t\tif (whatsAppIndex !== -1) {\n\t\t\tstate[whatsAppIndex] = whatsApp;\n\t\t\treturn [...state];\n\t\t} else {\n\t\t\treturn [whatsApp, ...state];\n\t\t}\n\t}\n\n\tif (action.type === \"UPDATE_SESSION\") {\n\t\tconst whatsApp = action.payload;\n\t\tconst whatsAppIndex = state.findIndex(s => s.id === whatsApp.id);\n\n\t\tif (whatsAppIndex !== -1) {\n\t\t\tstate[whatsAppIndex].status = whatsApp.status;\n\t\t\tstate[whatsAppIndex].updatedAt = whatsApp.updatedAt;\n\t\t\tstate[whatsAppIndex].qrcode = whatsApp.qrcode;\n\t\t\tstate[whatsAppIndex].retries = whatsApp.retries;\n\t\t\treturn [...state];\n\t\t} else {\n\t\t\treturn [...state];\n\t\t}\n\t}\n\n\tif (action.type === \"DELETE_WHATSAPPS\") {\n\t\tconst whatsAppId = action.payload;\n\n\t\tconst whatsAppIndex = state.findIndex(s => s.id === whatsAppId);\n\t\tif (whatsAppIndex !== -1) {\n\t\t\tstate.splice(whatsAppIndex, 1);\n\t\t}\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"RESET\") {\n\t\treturn [];\n\t}\n};\n\nconst useWhatsApps = () => {\n\tconst [whatsApps, dispatch] = useReducer(reducer, []);\n\tconst [loading, setLoading] = useState(true);\n\n\tuseEffect(() => {\n\t\tsetLoading(true);\n\t\tconst fetchSession = async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/whatsapp/\");\n\t\t\t\tdispatch({ type: \"LOAD_WHATSAPPS\", payload: data });\n\t\t\t\tsetLoading(false);\n\t\t\t} catch (err) {\n\t\t\t\tsetLoading(false);\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\t\tfetchSession();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket();\n\n\t\tsocket.on(\"whatsapp\", data => {\n\t\t\tif (data.action === \"update\") {\n\t\t\t\tdispatch({ type: \"UPDATE_WHATSAPPS\", payload: data.whatsapp });\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"whatsapp\", data => {\n\t\t\tif (data.action === \"delete\") {\n\t\t\t\tdispatch({ type: \"DELETE_WHATSAPPS\", payload: data.whatsappId });\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"whatsappSession\", data => {\n\t\t\tif (data.action === \"update\") {\n\t\t\t\tdispatch({ type: \"UPDATE_SESSION\", payload: data.session });\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, []);\n\n\treturn { whatsApps, loading };\n};\n\nexport default useWhatsApps;\n","import React, { createContext } from \"react\";\n\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\n\nconst WhatsAppsContext = createContext();\n\nconst WhatsAppsProvider = ({ children }) => {\n\tconst { loading, whatsApps } = useWhatsApps();\n\n\treturn (\n\t\t<WhatsAppsContext.Provider value={{ whatsApps, loading }}>\n\t\t\t{children}\n\t\t</WhatsAppsContext.Provider>\n\t);\n};\n\nexport { WhatsAppsContext, WhatsAppsProvider };\n","const rules = {\n\tuser: {\n\t\tstatic: [],\n\t},\n\n\tadmin: {\n\t\tstatic: [\n\t\t\t\"drawer-admin-items:view\",\n\t\t\t\"tickets-manager:showall\",\n\t\t\t\"user-modal:editProfile\",\n\t\t\t\"user-modal:editQueues\",\n\t\t\t\"ticket-options:deleteTicket\",\n\t\t\t\"ticket-options:transferWhatsapp\",\n\t\t\t\"contacts-page:deleteContact\",\n\t\t],\n\t},\n};\n\nexport default rules;\n","import rules from \"../../rules\";\n\nconst check = (role, action, data) => {\n\tconst permissions = rules[role];\n\tif (!permissions) {\n\t\t// role is not present in the rules\n\t\treturn false;\n\t}\n\n\tconst staticPermissions = permissions.static;\n\n\tif (staticPermissions && staticPermissions.includes(action)) {\n\t\t// static rule not provided for action\n\t\treturn true;\n\t}\n\n\tconst dynamicPermissions = permissions.dynamic;\n\n\tif (dynamicPermissions) {\n\t\tconst permissionCondition = dynamicPermissions[action];\n\t\tif (!permissionCondition) {\n\t\t\t// dynamic rule not provided for action\n\t\t\treturn false;\n\t\t}\n\n\t\treturn permissionCondition(data);\n\t}\n\treturn false;\n};\n\nconst Can = ({ role, perform, data, yes, no }) =>\n\tcheck(role, perform, data) ? yes() : no();\n\nCan.defaultProps = {\n\tyes: () => null,\n\tno: () => null,\n};\n\nexport { Can };\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport VpnKeyIcon from \"@material-ui/icons/VpnKey\";\r\nimport MenuBookIcon from \"@material-ui/icons/MenuBook\";\r\nimport { AddCircleOutline, ChatBubbleOutlineOutlined, LibraryBooks } from \"@material-ui/icons\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport { Badge } from \"@material-ui/core\";\r\nimport DashboardOutlinedIcon from \"@material-ui/icons/DashboardOutlined\";\r\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\r\nimport SyncAltIcon from \"@material-ui/icons/SyncAlt\";\r\nimport SettingsOutlinedIcon from \"@material-ui/icons/SettingsOutlined\";\r\nimport PeopleAltOutlinedIcon from \"@material-ui/icons/PeopleAltOutlined\";\r\nimport ContactPhoneOutlinedIcon from \"@material-ui/icons/ContactPhoneOutlined\";\r\nimport AccountTreeOutlinedIcon from \"@material-ui/icons/AccountTreeOutlined\";\r\nimport QuestionAnswerOutlinedIcon from \"@material-ui/icons/QuestionAnswerOutlined\";\r\nimport LocalOfferIcon from '@material-ui/icons/LocalOffer';\r\nimport EventIcon from '@material-ui/icons/Event';\r\nimport { i18n } from \"../translate/i18n\";\r\nimport { WhatsAppsContext } from \"../context/WhatsApp/WhatsAppsContext\";\r\nimport { AuthContext } from \"../context/Auth/AuthContext\";\r\nimport { Can } from \"../components/Can\";\r\n\r\nfunction ListItemLink(props) {\r\n  const { icon, primary, to, className } = props;\r\n\r\n  const renderLink = React.useMemo(\r\n    () =>\r\n      React.forwardRef((itemProps, ref) => (\r\n        <RouterLink to={to} ref={ref} {...itemProps} />\r\n      )),\r\n    [to]\r\n  );\r\n\r\n  return (\r\n    <li>\r\n      <ListItem button component={renderLink} className={className}>\r\n        {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\r\n        <ListItemText primary={primary} />\r\n      </ListItem>\r\n    </li>\r\n  );\r\n}\r\n\r\nconst MainListItems = (props) => {\r\n  const { drawerClose } = props;\r\n  const { whatsApps } = useContext(WhatsAppsContext);\r\n  const { user } = useContext(AuthContext);\r\n  const [connectionWarning, setConnectionWarning] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const delayDebounceFn = setTimeout(() => {\r\n      if (whatsApps.length > 0) {\r\n        const offlineWhats = whatsApps.filter((whats) => {\r\n          return (\r\n            whats.status === \"qrcode\" ||\r\n            whats.status === \"PAIRING\" ||\r\n            whats.status === \"DISCONNECTED\" ||\r\n            whats.status === \"TIMEOUT\" ||\r\n            whats.status === \"OPENING\"\r\n          );\r\n        });\r\n        if (offlineWhats.length > 0) {\r\n          setConnectionWarning(true);\r\n        } else {\r\n          setConnectionWarning(false);\r\n        }\r\n      }\r\n    }, 2000);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [whatsApps]);\r\n\r\n  return (\r\n    <div onClick={drawerClose}>\r\n      <ListItemLink\r\n        to=\"/\"\r\n        primary=\"Dashboard\"\r\n        icon={<DashboardOutlinedIcon />}\r\n      />\r\n      <ListItemLink\r\n        to=\"/connections\"\r\n        primary={i18n.t(\"mainDrawer.listItems.connections\")}\r\n        icon={\r\n          <Badge\r\n            overlap=\"rectangular\"\r\n            badgeContent={connectionWarning ? \"!\" : 0}\r\n            color=\"error\"\r\n          >\r\n            <SyncAltIcon />\r\n          </Badge>\r\n        }\r\n      />\r\n      <ListItemLink\r\n        to=\"/tickets\"\r\n        primary={i18n.t(\"mainDrawer.listItems.tickets\")}\r\n        icon={<WhatsAppIcon />}\r\n      />\r\n\r\n      <ListItemLink\r\n        to=\"/contacts\"\r\n        primary={i18n.t(\"mainDrawer.listItems.contacts\")}\r\n        icon={<ContactPhoneOutlinedIcon />}\r\n      />\r\n      <ListItemLink\r\n        to=\"/quickAnswers\"\r\n        primary={i18n.t(\"mainDrawer.listItems.quickAnswers\")}\r\n        icon={<QuestionAnswerOutlinedIcon />}\r\n      />\r\n      <ListItemLink\r\n              to=\"/schedules\"\r\n              primary={i18n.t(\"mainDrawer.listItems.schedules\")}\r\n              icon={<EventIcon />}\r\n            />\r\n                  <ListItemLink\r\n        to=\"/tags\"\r\n        primary={i18n.t(\"mainDrawer.listItems.tags\")}\r\n        icon={<LocalOfferIcon />}\r\n      />\r\n      <Can\r\n        role={user.profile}\r\n        perform=\"drawer-admin-items:view\"\r\n        yes={() => (\r\n          <>\r\n            <Divider />\r\n            <ListSubheader inset>\r\n              Gerenciar Campanhas\r\n            </ListSubheader>\r\n       \r\n           <ListItemLink\r\n              to=\"/BulkMessage\"\r\n              primary=\"Campanhas\"\r\n              icon={<ChatBubbleOutlineOutlined />}\r\n            />\r\n            <ListItemLink\r\n              to=\"/ShippingReport\"\r\n              primary=\"Relatrio Envios\"\r\n              icon={<LibraryBooks />}\r\n            />\r\n            <ListItemLink\r\n              to=\"/SettingsMessage\"\r\n              primary=\"Config. Envios\"\r\n              icon={<AddCircleOutline />}\r\n            />\r\n            <Divider />\r\n            <ListSubheader inset>\r\n              {i18n.t(\"mainDrawer.listItems.administration\")}\r\n            </ListSubheader>\r\n            <ListItemLink\r\n              to=\"/users\"\r\n              primary={i18n.t(\"mainDrawer.listItems.users\")}\r\n              icon={<PeopleAltOutlinedIcon />}\r\n            />\r\n            <ListItemLink\r\n              to=\"/queues\"\r\n              primary={i18n.t(\"mainDrawer.listItems.queues\")}\r\n              icon={<AccountTreeOutlinedIcon />}\r\n            />\r\n            \r\n            <ListItemLink\r\n              to=\"/settings\"\r\n              primary={i18n.t(\"mainDrawer.listItems.settings\")}\r\n              icon={<SettingsOutlinedIcon />}\r\n            />\r\n          <Divider />\r\n            <ListSubheader inset>\r\n              {i18n.t(\"API\")}\r\n            </ListSubheader>\r\n       \r\n           <ListItemLink\r\n              to=\"/tokens\"\r\n              primary={i18n.t(\"TOKEN\")}\r\n              icon={<VpnKeyIcon />}\r\n            />\r\n                <ListItemLink\r\n              to=\"/docs\"\r\n              primary=\"Manual\"\r\n              icon={<MenuBookIcon />}\r\n            />\r\n\r\n          </>\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainListItems;\r\n","import React from \"react\";\nimport Markdown from \"markdown-to-jsx\";\n\nconst elements = [\n\t\"a\",\n\t\"abbr\",\n\t\"address\",\n\t\"area\",\n\t\"article\",\n\t\"aside\",\n\t\"audio\",\n\t\"b\",\n\t\"base\",\n\t\"bdi\",\n\t\"bdo\",\n\t\"big\",\n\t\"blockquote\",\n\t\"body\",\n\t\"br\",\n\t\"button\",\n\t\"canvas\",\n\t\"caption\",\n\t\"cite\",\n\t\"code\",\n\t\"col\",\n\t\"colgroup\",\n\t\"data\",\n\t\"datalist\",\n\t\"dd\",\n\t\"del\",\n\t\"details\",\n\t\"dfn\",\n\t\"dialog\",\n\t\"div\",\n\t\"dl\",\n\t\"dt\",\n\t\"em\",\n\t\"embed\",\n\t\"fieldset\",\n\t\"figcaption\",\n\t\"figure\",\n\t\"footer\",\n\t\"form\",\n\t\"h1\",\n\t\"h2\",\n\t\"h3\",\n\t\"h4\",\n\t\"h5\",\n\t\"h6\",\n\t\"head\",\n\t\"header\",\n\t\"hgroup\",\n\t\"hr\",\n\t\"html\",\n\t\"i\",\n\t\"iframe\",\n\t\"img\",\n\t\"input\",\n\t\"ins\",\n\t\"kbd\",\n\t\"keygen\",\n\t\"label\",\n\t\"legend\",\n\t\"li\",\n\t\"link\",\n\t\"main\",\n\t\"map\",\n\t\"mark\",\n\t\"marquee\",\n\t\"menu\",\n\t\"menuitem\",\n\t\"meta\",\n\t\"meter\",\n\t\"nav\",\n\t\"noscript\",\n\t\"object\",\n\t\"ol\",\n\t\"optgroup\",\n\t\"option\",\n\t\"output\",\n\t\"p\",\n\t\"param\",\n\t\"picture\",\n\t\"pre\",\n\t\"progress\",\n\t\"q\",\n\t\"rp\",\n\t\"rt\",\n\t\"ruby\",\n\t\"s\",\n\t\"samp\",\n\t\"script\",\n\t\"section\",\n\t\"select\",\n\t\"small\",\n\t\"source\",\n\t\"span\",\n\t\"strong\",\n\t\"style\",\n\t\"sub\",\n\t\"summary\",\n\t\"sup\",\n\t\"table\",\n\t\"tbody\",\n\t\"td\",\n\t\"textarea\",\n\t\"tfoot\",\n\t\"th\",\n\t\"thead\",\n\t\"time\",\n\t\"title\",\n\t\"tr\",\n\t\"track\",\n\t\"u\",\n\t\"ul\",\n\t\"var\",\n\t\"video\",\n\t\"wbr\",\n\n\t// SVG\n\t\"circle\",\n\t\"clipPath\",\n\t\"defs\",\n\t\"ellipse\",\n\t\"foreignObject\",\n\t\"g\",\n\t\"image\",\n\t\"line\",\n\t\"linearGradient\",\n\t\"marker\",\n\t\"mask\",\n\t\"path\",\n\t\"pattern\",\n\t\"polygon\",\n\t\"polyline\",\n\t\"radialGradient\",\n\t\"rect\",\n\t\"stop\",\n\t\"svg\",\n\t\"text\",\n\t\"tspan\",\n];\n\nconst allowedElements = [\"a\", \"b\", \"strong\", \"em\", \"u\", \"code\", \"del\"];\n\nconst CustomLink = ({ children, ...props }) => (\n\t<a {...props} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t{children}\n\t</a>\n);\n\nconst MarkdownWrapper = ({ children }) => {\n\tconst boldRegex = /\\*(.*?)\\*/g;\n\tconst tildaRegex = /~(.*?)~/g;\n\t\n\tif(children && children.includes('BEGIN:VCARD'))\n\t\t//children = \"Diga ol ao seu novo contato clicando em *conversar*!\";\n\t\tchildren = null;\n\t\n\tif(children && children.includes('data:image/'))\n\t\tchildren = null;\n\t\n\tif (children && boldRegex.test(children)) {\n\t\tchildren = children.replace(boldRegex, \"**$1**\");\n\t}\n\tif (children && tildaRegex.test(children)) {\n\t\tchildren = children.replace(tildaRegex, \"~~$1~~\");\n\t}\n\n\tconst options = React.useMemo(() => {\n\t\tconst markdownOptions = {\n\t\t\tdisableParsingRawHTML: true,\n\t\t\tforceInline: true,\n\t\t\toverrides: {\n\t\t\t\ta: { component: CustomLink },\n\t\t\t},\n\t\t};\n\n\t\telements.forEach(element => {\n\t\t\tif (!allowedElements.includes(element)) {\n\t\t\t\tmarkdownOptions.overrides[element] = el => el.children || null;\n\t\t\t}\n\t\t});\n\n\t\treturn markdownOptions;\n\t}, []);\n\n\tif (!children) return null;\n\t\n\treturn <Markdown options={options}>{children}</Markdown>;\n};\n\nexport default MarkdownWrapper;","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\n\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { parseISO, format, isSameDay } from \"date-fns\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport ReplayIcon from '@material-ui/icons/Replay';\r\nimport StopIcon from '@material-ui/icons/Stop';\r\nimport api from \"../../services/api\";\r\nimport ClearOutlinedIcon from '@material-ui/icons/ClearOutlined';\r\n//import ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport MarkdownWrapper from \"../MarkdownWrapper\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tticket: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tpendingTicket: {\r\n\t\tcursor: \"unset\",\r\n\t},\r\n\r\n\tnoTicketsDiv: {\r\n\t\tdisplay: \"flex\",\r\n\t\theight: \"100px\",\r\n\t\tmargin: 40,\r\n\t\tflexDirection: \"column\",\r\n\t\talignItems: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t},\r\n\r\n\tnoTicketsText: {\r\n\t\ttextAlign: \"center\",\r\n\t\tcolor: \"rgb(104, 121, 146)\",\r\n\t\tfontSize: \"14px\",\r\n\t\tlineHeight: \"1.4\",\r\n\t},\r\n\r\n\tnoTicketsTitle: {\r\n\t\ttextAlign: \"center\",\r\n\t\tfontSize: \"16px\",\r\n\t\tfontWeight: \"600\",\r\n\t\tmargin: \"0px\",\r\n\t},\r\n\r\n\tcontactNameWrapper: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"space-between\",\r\n\t},\r\n\r\n\tlastMessageTime: {\r\n\t\tjustifySelf: \"flex-end\",\r\n\t},\r\n\r\n\tclosedBadge: {\r\n\t\talignSelf: \"center\",\r\n\t\tjustifySelf: \"flex-end\",\r\n\t\tmarginRight: 32,\r\n\t\tmarginLeft: \"auto\",\r\n\t},\r\n\r\n\tcontactLastMessage: {\r\n\t\tpaddingRight: 20,\r\n\t},\r\n\r\n\tnewMessagesCount: {\r\n\t\talignSelf: \"center\",\r\n\t\tmarginRight: 8,\r\n\t\tmarginLeft: \"auto\",\r\n\t},\r\n\r\n\tbottomButton: {\r\n\t\ttop: \"12px\",\r\n\t},\r\n\r\n\tbadgeStyle: {\r\n\t\tcolor: \"white\",\r\n\t\tbackgroundColor: green[500],\r\n\t},\r\n\r\n\tacceptButton: {\r\n\t\tposition: \"absolute\",\r\n\t\tleft: \"50%\",\r\n\t},\r\n\r\n\tticketQueueColor: {\r\n\t\tflex: \"none\",\r\n\t\twidth: \"8px\",\r\n\t\theight: \"100%\",\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"0%\",\r\n\t\tleft: \"0%\",\r\n\t},\r\n\r\n\tuserTag: {\r\n\t\tposition: \"absolute\",\r\n\t\tmarginRight: 5,\r\n\t\tright: 20,\r\n\t\tbottom: 30,\r\n\t\tbackground: \"#2576D2\",\r\n\t\tcolor: \"#ffffff\",\r\n\t\tborder: \"1px solid #CCC\",\r\n\t\tpadding: 1,\r\n\t\tpaddingLeft: 5,\r\n\t\tpaddingRight: 5,\r\n\t\tborderRadius: 10,\r\n\t\tfontSize: \"0.9em\"\r\n\t},\r\n}));\r\n\r\nconst TicketListItem = ({ ticket }) => {\r\n\tconst classes = useStyles();\r\n\tconst history = useHistory();\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst { ticketId } = useParams();\r\n\tconst isMounted = useRef(true);\r\n\tconst { user } = useContext(AuthContext);\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tisMounted.current = false;\r\n\t\t};\r\n\t}, []);\r\n\r\n\tconst handleAcepptTicket = async id => {\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\tawait api.put(`/tickets/${id}`, {\r\n\t\t\t\tstatus: \"open\",\r\n\t\t\t\tuserId: user?.id,\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tsetLoading(false);\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t\tif (isMounted.current) {\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t\thistory.push(`/tickets/${id}`);\r\n\t};\r\n\r\n\tconst handleReopenTicket = async id => {\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\tawait api.put(`/tickets/${id}`, {\r\n\t\t\t\tstatus: \"open\",\r\n\t\t\t\tuserId: user?.id,\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tsetLoading(false);\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t\tif (isMounted.current) {\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t\thistory.push(`/tickets/${id}`);\r\n\t};\r\n\r\n\tconst handleViewTicket = async id => {\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\tawait api.put(`/tickets/${id}`, {\r\n\t\t\t\tstatus: \"pending\",\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tsetLoading(false);\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t\tif (isMounted.current) {\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t\thistory.push(`/tickets/${id}`);\r\n\t};\t\r\n\r\n\tconst handleClosedTicket = async id => {\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\tawait api.put(`/tickets/${id}`, {\r\n\t\t\t\tstatus: \"closed\",\r\n\t\t\t\tuserId: user?.id,\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tsetLoading(false);\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t\tif (isMounted.current) {\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t\t//history.push(`/tickets/${id}`);\r\n\t};\t\t\r\n\r\n\t\r\n\tconst handleSelectTicket = id => {\r\n\t\thistory.push(`/tickets/${id}`);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<React.Fragment key={ticket.id}>\r\n\t\t\t<ListItem\r\n\t\t\t\tdense\r\n\t\t\t\tbutton\r\n\t\t\t\tonClick={e => {\r\n\t\t\t\t\tif (ticket.status === \"pending\") return;\r\n\t\t\t\t\thandleSelectTicket(ticket.id);\r\n\t\t\t\t}}\r\n\t\t\t\tselected={ticketId && +ticketId === ticket.id}\r\n\t\t\t\tclassName={clsx(classes.ticket, {\r\n\t\t\t\t\t[classes.pendingTicket]: ticket.status === \"pending\",\r\n\t\t\t\t})}\r\n\t\t\t>\r\n\t\t\t\t<Tooltip\r\n\t\t\t\t\tarrow\r\n\t\t\t\t\tplacement=\"right\"\r\n\t\t\t\t\ttitle={ticket.queue?.name || \"Sem fila\"}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tstyle={{ backgroundColor: ticket.queue?.color || \"#7C7C7C\" }}\r\n\t\t\t\t\t\tclassName={classes.ticketQueueColor}\r\n\t\t\t\t\t></span>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t<Avatar src={ticket?.contact?.profilePicUrl} />\r\n\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tdisableTypography\r\n\t\t\t\t\tprimary={\r\n\t\t\t\t\t\t<span className={classes.contactNameWrapper}>\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t\t\tcomponent=\"span\"\r\n\t\t\t\t\t\t\t\tvariant=\"body2\"\r\n\t\t\t\t\t\t\t\tcolor=\"textPrimary\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ticket.contact.name}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t{ticket.lastMessage && (\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tclassName={classes.lastMessageTime}\r\n\t\t\t\t\t\t\t\t\tcomponent=\"span\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"body2\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\r\n\t\t\t\t\t\t\t\t\t\t<>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{ticket.whatsappId && (\r\n\t\t\t\t\t\t\t\t<div className={classes.userTag} title={i18n.t(\"ticketsList.connectionTitle\")}>{ticket.whatsapp?.name}</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsecondary={\r\n\t\t\t\t\t\t<span className={classes.contactNameWrapper}>\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tclassName={classes.contactLastMessage}\r\n\t\t\t\t\t\t\t\tnoWrap\r\n\t\t\t\t\t\t\t\tcomponent=\"span\"\r\n\t\t\t\t\t\t\t\tvariant=\"body2\"\r\n\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{ticket.lastMessage ? (\r\n\t\t\t\t\t\t\t\t\t<MarkdownWrapper>{ticket.lastMessage}</MarkdownWrapper>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\tclassName={classes.newMessagesCount}\r\n\t\t\t\t\t\t\t\tbadgeContent={ticket.unreadMessages}\r\n\t\t\t\t\t\t\t\tclasses={{\r\n\t\t\t\t\t\t\t\t\tbadge: classes.badgeStyle,\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t{ticket.status === \"pending\" && (\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\tclassName={classes.bottomButton}\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tonClick={e => handleAcepptTicket(ticket.id)} >\r\n\t\t\t\t\t<DoneIcon />\r\n\t\t\t\t  \t</IconButton>\t\r\n\t\t\t\t)}\r\n\t\t\t\t {ticket.status === \"pending\" && (\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\tclassName={classes.bottomButton}\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tonClick={e => handleViewTicket(ticket.id)} >\r\n\t\t\t\t\t<VisibilityIcon />\r\n\t\t\t\t  \t</IconButton>\t\t\t\t\t\t\t\t\r\n\t\t\t\t)}\t\r\n\t\t\t\t {ticket.status === \"pending\" && (\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\tclassName={classes.bottomButton}\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tonClick={e => handleClosedTicket(ticket.id)} >\r\n\t\t\t\t\t<ClearOutlinedIcon />\r\n\t\t\t\t  \t</IconButton>\t\t\t\t\t\t\t\t\r\n\t\t\t\t)}\t\t\t\t\r\n\t\t\t\t{ticket.status === \"open\" && (\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\tclassName={classes.bottomButton}\r\n\t\t\t\t\tcolor=\"primary\" \r\n\t\t\t\t\tonClick={e => handleViewTicket(ticket.id)} >\r\n\t\t\t\t\t<ReplayIcon />\r\n\t\t\t\t  \t</IconButton>\t\r\n\t\t\t\t)}\r\n\t\t\t\t {ticket.status === \"open\" && (\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\tclassName={classes.bottomButton}\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tonClick={e => handleClosedTicket(ticket.id)} >\r\n\t\t\t\t\t<ClearOutlinedIcon />\r\n\t\t\t\t  \t</IconButton>\t\t\t\t\t\t\t\t\r\n\t\t\t\t)}\t\t\t\t\t\t\r\n\t\t\t\t{ticket.status === \"closed\" && (\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\tclassName={classes.bottomButton}\r\n\t\t\t\t\tcolor=\"primary\" \r\n\t\t\t\t\tonClick={e => handleReopenTicket(ticket.id)} >\r\n\t\t\t\t\t<ReplayIcon />\r\n\t\t\t\t  \t</IconButton>\t\r\n\t\t\t\t)}\t\t\r\n\t\t\t\t{ticket.status === \"closed\" && (\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\tclassName={classes.bottomButton}\r\n\t\t\t\t\tcolor=\"primary\" >\r\n\t\t\t\t  \t</IconButton>\t\r\n\t\t\t\t)}\t\t\t\t\r\n\t\t\t</ListItem>\r\n\t\t\t<Divider variant=\"inset\" component=\"li\" />\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nexport default TicketListItem;","import { useState, useEffect } from \"react\";\nimport { getHoursCloseTicketsAuto } from \"../../config\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst useTickets = ({\n    searchParam,\n    pageNumber,\n    status,\n    date,\n    showAll,\n    queueIds,\n    withUnreadMessages,\n    tags,\n}) => {\n    const [loading, setLoading] = useState(true);\n    const [hasMore, setHasMore] = useState(false);\n    const [tickets, setTickets] = useState([]);\n    const [count, setCount] = useState(0);\n\n    useEffect(() => {\n        setLoading(true);\n        const delayDebounceFn = setTimeout(() => {\n            const fetchTickets = async() => {\n                try {\n                    const { data } = await api.get(\"/tickets\", {\n                        params: {\n                            searchParam,\n                            pageNumber,\n                            status,\n                            date,\n                            showAll,\n                            queueIds,\n                            withUnreadMessages,\n                            tags,\n                        },\n                    })\n                    setTickets(data.tickets)\n\n                    let horasFecharAutomaticamente = getHoursCloseTicketsAuto(); \n\n                    if (status === \"open\" && horasFecharAutomaticamente && horasFecharAutomaticamente !== \"\" &&\n                        horasFecharAutomaticamente !== \"0\" && Number(horasFecharAutomaticamente) > 0) {\n\n                        let dataLimite = new Date()\n                        dataLimite.setHours(dataLimite.getHours() - Number(horasFecharAutomaticamente))\n\n                        data.tickets.forEach(ticket => {\n                            if (ticket.status !== \"closed\") {\n                                let dataUltimaInteracaoChamado = new Date(ticket.updatedAt)\n                                if (dataUltimaInteracaoChamado < dataLimite)\n                                    closeTicket(ticket)\n                            }\n                        })\n                    }\n\n                    setHasMore(data.hasMore)\n                    setCount(data.count)\n                    setLoading(false)\n                } catch (err) {\n                    setLoading(false)\n                    toastError(err)\n                }\n            }\n\n            const closeTicket = async(ticket) => {\n                await api.put(`/tickets/${ticket.id}`, {\n                    status: \"closed\",\n                    userId: ticket.userId || null,\n                })\n            }\n\n            fetchTickets()\n        }, 500)\n        return () => clearTimeout(delayDebounceFn)\n    }, [\n        searchParam,\n        pageNumber,\n        status,\n        date,\n        showAll,\n        queueIds,\n        withUnreadMessages,\n        tags,\n    ])\n\n    return { tickets, loading, hasMore, count };\n};\n\nexport default useTickets;","import React, { useState, useRef, useEffect, useContext } from \"react\";\n\nimport { useHistory } from \"react-router-dom\";\nimport { format } from \"date-fns\";\nimport openSocket from \"../../services/socket-io\";\nimport useSound from \"use-sound\";\n\nimport Popover from \"@material-ui/core/Popover\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Badge from \"@material-ui/core/Badge\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\n\nimport TicketListItem from \"../TicketListItem\";\nimport { i18n } from \"../../translate/i18n\";\nimport useTickets from \"../../hooks/useTickets\";\nimport alertSound from \"../../assets/sound.mp3\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles(theme => ({\n\ttabContainer: {\n\t\toverflowY: \"auto\",\n\t\tmaxHeight: 350,\n\t\t...theme.scrollbarStyles,\n\t},\n\tpopoverPaper: {\n\t\twidth: \"100%\",\n\t\tmaxWidth: 350,\n\t\tmarginLeft: theme.spacing(2),\n\t\tmarginRight: theme.spacing(1),\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tmaxWidth: 270,\n\t\t},\n\t},\n\tnoShadow: {\n\t\tboxShadow: \"none !important\",\n\t},\n}));\n\nconst NotificationsPopOver = () => {\n\tconst classes = useStyles();\n\n\tconst history = useHistory();\n\tconst { user } = useContext(AuthContext);\n\tconst ticketIdUrl = +history.location.pathname.split(\"/\")[2];\n\tconst ticketIdRef = useRef(ticketIdUrl);\n\tconst anchorEl = useRef();\n\tconst [isOpen, setIsOpen] = useState(false);\n\tconst [notifications, setNotifications] = useState([]);\n\n\tconst [, setDesktopNotifications] = useState([]);\n\n\tconst { tickets } = useTickets({ withUnreadMessages: \"true\" });\n\tconst [play] = useSound(alertSound);\n\tconst soundAlertRef = useRef();\n\n\tconst historyRef = useRef(history);\n\n\tuseEffect(() => {\n\t\tsoundAlertRef.current = play;\n\n\t\tif (!(\"Notification\" in window)) {\n\t\t\tconsole.log(\"This browser doesn't support notifications\");\n\t\t} else {\n\t\t\tNotification.requestPermission();\n\t\t}\n\t}, [play]);\n\n\tuseEffect(() => {\n\t\tsetNotifications(tickets);\n\t}, [tickets]);\n\n\tuseEffect(() => {\n\t\tticketIdRef.current = ticketIdUrl;\n\t}, [ticketIdUrl]);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket();\n\n\t\tsocket.on(\"connect\", () => socket.emit(\"joinNotification\"));\n\n\t\tsocket.on(\"ticket\", data => {\n\t\t\tif (data.action === \"updateUnread\" || data.action === \"delete\") {\n\t\t\t\tsetNotifications(prevState => {\n\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticketId);\n\t\t\t\t\tif (ticketIndex !== -1) {\n\t\t\t\t\t\tprevState.splice(ticketIndex, 1);\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn prevState;\n\t\t\t\t});\n\n\t\t\t\tsetDesktopNotifications(prevState => {\n\t\t\t\t\tconst notfiticationIndex = prevState.findIndex(\n\t\t\t\t\t\tn => n.tag === String(data.ticketId)\n\t\t\t\t\t);\n\t\t\t\t\tif (notfiticationIndex !== -1) {\n\t\t\t\t\t\tprevState[notfiticationIndex].close();\n\t\t\t\t\t\tprevState.splice(notfiticationIndex, 1);\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn prevState;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"appMessage\", data => {\n\t\t\tif (\n\t\t\t\tdata.action === \"create\" &&\n\t\t\t\t!data.message.read &&\n\t\t\t\t(data.ticket.userId === user?.id || !data.ticket.userId)\n\t\t\t) {\n\t\t\t\tsetNotifications(prevState => {\n\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticket.id);\n\t\t\t\t\tif (ticketIndex !== -1) {\n\t\t\t\t\t\tprevState[ticketIndex] = data.ticket;\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn [data.ticket, ...prevState];\n\t\t\t\t});\n\n\t\t\t\tconst shouldNotNotificate =\n\t\t\t\t\t(data.message.ticketId === ticketIdRef.current &&\n\t\t\t\t\t\tdocument.visibilityState === \"visible\") ||\n\t\t\t\t\t(data.ticket.userId && data.ticket.userId !== user?.id) ||\n\t\t\t\t\tdata.ticket.isGroup;\n\n\t\t\t\tif (shouldNotNotificate) return;\n\n\t\t\t\thandleNotifications(data);\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [user]);\n\n\tconst handleNotifications = data => {\n\t\tconst { message, contact, ticket } = data;\n\n\t\tconst options = {\n\t\t\tbody: `${message.body} - ${format(new Date(), \"HH:mm\")}`,\n\t\t\ticon: contact.profilePicUrl,\n\t\t\ttag: ticket.id,\n\t\t\trenotify: true,\n\t\t};\n\n\t\tconst notification = new Notification(\n\t\t\t`${i18n.t(\"tickets.notification.message\")} ${contact.name}`,\n\t\t\toptions\n\t\t);\n\n\t\tnotification.onclick = e => {\n\t\t\te.preventDefault();\n\t\t\twindow.focus();\n\t\t\thistoryRef.current.push(`/tickets/${ticket.id}`);\n\t\t};\n\n\t\tsetDesktopNotifications(prevState => {\n\t\t\tconst notfiticationIndex = prevState.findIndex(\n\t\t\t\tn => n.tag === notification.tag\n\t\t\t);\n\t\t\tif (notfiticationIndex !== -1) {\n\t\t\t\tprevState[notfiticationIndex] = notification;\n\t\t\t\treturn [...prevState];\n\t\t\t}\n\t\t\treturn [notification, ...prevState];\n\t\t});\n\n\t\tsoundAlertRef.current();\n\t};\n\n\tconst handleClick = () => {\n\t\tsetIsOpen(prevState => !prevState);\n\t};\n\n\tconst handleClickAway = () => {\n\t\tsetIsOpen(false);\n\t};\n\n\tconst NotificationTicket = ({ children }) => {\n\t\treturn <div onClick={handleClickAway}>{children}</div>;\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<IconButton\n\t\t\t\tonClick={handleClick}\n\t\t\t\tref={anchorEl}\n\t\t\t\taria-label=\"Open Notifications\"\n\t\t\t\tcolor=\"inherit\"\n\t\t\t>\n\t\t\t\t<Badge badgeContent={notifications.length} color=\"secondary\">\n\t\t\t\t\t<ChatIcon />\n\t\t\t\t</Badge>\n\t\t\t</IconButton>\n\t\t\t<Popover\n\t\t\t\tdisableScrollLock\n\t\t\t\topen={isOpen}\n\t\t\t\tanchorEl={anchorEl.current}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\tclasses={{ paper: classes.popoverPaper }}\n\t\t\t\tonClose={handleClickAway}\n\t\t\t>\n\t\t\t\t<List dense className={classes.tabContainer}>\n\t\t\t\t\t{notifications.length === 0 ? (\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<ListItemText>{i18n.t(\"notifications.noTickets\")}</ListItemText>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tnotifications.map(ticket => (\n\t\t\t\t\t\t\t<NotificationTicket key={ticket.id}>\n\t\t\t\t\t\t\t\t<TicketListItem ticket={ticket} />\n\t\t\t\t\t\t\t</NotificationTicket>\n\t\t\t\t\t\t))\n\t\t\t\t\t)}\n\t\t\t\t</List>\n\t\t\t</Popover>\n\t\t</>\n\t);\n};\n\nexport default NotificationsPopOver;","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n}));\n\nconst QueueSelect = ({ selectedQueueIds, onChange }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/queue\");\n\t\t\t\tsetQueues(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\t}, []);\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ marginTop: 6 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tlabelWidth={60}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={selected => (\n\t\t\t\t\t\t<div className={classes.chips}>\n\t\t\t\t\t\t\t{selected?.length > 0 &&\n\t\t\t\t\t\t\t\tselected.map(id => {\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\n\t\t\t\t\t\t\t\t\treturn queue ? (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelect;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n\tCircularProgress,\n\tSelect,\n\tInputLabel,\n\tMenuItem,\n\tFormControl,\n\tTextField,\n\tInputAdornment,\n\tIconButton\n  } from '@material-ui/core';\n\nimport { Visibility, VisibilityOff } from '@material-ui/icons';\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst UserModal = ({ open, onClose, userId }) => {\n\tconst classes = useStyles();\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t\tprofile: \"user\"\n\t};\n\n\tconst { user: loggedInUser } = useContext(AuthContext);\n\n\tconst [user, setUser] = useState(initialState);\n\tconst [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\tconst [showPassword, setShowPassword] = useState(false);\n\tconst [whatsappId, setWhatsappId] = useState(false);\n\tconst {loading, whatsApps} = useWhatsApps();\n\n\tuseEffect(() => {\n\t\tconst fetchUser = async () => {\n\t\t\tif (!userId) return;\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/users/${userId}`);\n\t\t\t\tsetUser(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t\tconst userQueueIds = data.queues?.map(queue => queue.id);\n\t\t\t\tsetSelectedQueueIds(userQueueIds);\n\t\t\t\tsetWhatsappId(data.whatsappId ? data.whatsappId : '');\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchUser();\n\t}, [userId, open]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetUser(initialState);\n\t};\n\n\tconst handleSaveUser = async values => {\n\t\tconst userData = { ...values, whatsappId, queueIds: selectedQueueIds };\n\t\ttry {\n\t\t\tif (userId) {\n\t\t\t\tawait api.put(`/users/${userId}`, userData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/users\", userData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"userModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{userId\n\t\t\t\t\t\t? `${i18n.t(\"userModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"userModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveUser(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.password\")}\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword((e) => !e)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <VisibilityOff /> : <Visibility />}\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\n\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"profile-selection-input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"profile\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"profile-selection-label\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"profile-selection\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"admin\">Admin</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"user\">User</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editQueues\"\n\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t<QueueSelect\n\t\t\t\t\t\t\t\t\t\t\tselectedQueueIds={selectedQueueIds}\n\t\t\t\t\t\t\t\t\t\t\tonChange={values => setSelectedQueueIds(values)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editQueues\"\n\t\t\t\t\t\t\t\t\tyes={() => (!loading &&\n\t\t\t\t\t\t\t\t\t\t<FormControl variant=\"outlined\" margin=\"dense\" className={classes.maxWidth} fullWidth>\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel>{i18n.t(\"userModal.form.whatsapp\")}</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={whatsappId}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setWhatsappId(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.whatsapp\")}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={''}>&nbsp;</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsApps.map((whatsapp) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={whatsapp.id} value={whatsapp.id}>{whatsapp.name}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{userId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"userModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"userModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default UserModal;\n","import React from \"react\";\n\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tbackdrop: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tcolor: \"#fff\",\n\t},\n}));\n\nconst BackdropLoading = () => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<Backdrop className={classes.backdrop} open={true}>\n\t\t\t<CircularProgress color=\"inherit\" />\n\t\t</Backdrop>\n\t);\n};\n\nexport default BackdropLoading;\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport clsx from \"clsx\";\r\n\r\nimport {\r\n  makeStyles,\r\n  Drawer,\r\n  AppBar,\r\n  Toolbar,\r\n  List,\r\n  Typography,\r\n  Divider,\r\n  MenuItem,\r\n  IconButton,\r\n  Menu,\r\n} from \"@material-ui/core\";\r\n\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\n\r\nimport MainListItems from \"./MainListItems\";\r\nimport NotificationsPopOver from \"../components/NotificationsPopOver\";\r\nimport UserModal from \"../components/UserModal\";\r\nimport { AuthContext } from \"../context/Auth/AuthContext\";\r\nimport BackdropLoading from \"../components/BackdropLoading\";\r\nimport logodash from \"../assets/logo-dash.png\";\r\nimport { i18n } from \"../translate/i18n\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    height: \"100vh\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      height: \"calc(100vh - 56px)\",\r\n    },\r\n  },\r\n\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-end\",\r\n    padding: \"0 8px\",\r\n    minHeight: \"48px\",\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: \"none\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: \"relative\",\r\n    whiteSpace: \"nowrap\",\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: \"hidden\",\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: {\r\n    minHeight: \"48px\",\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    overflow: \"auto\",\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n  },\r\n}));\r\n\r\nconst LoggedInLayout = ({ children }) => {\r\n  const classes = useStyles();\r\n  const [userModalOpen, setUserModalOpen] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const { handleLogout, loading } = useContext(AuthContext);\r\n  const [drawerOpen, setDrawerOpen] = useState(false);\r\n  const [drawerVariant, setDrawerVariant] = useState(\"permanent\");\r\n  const { user } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    if (document.body.offsetWidth > 600) {\r\n      setDrawerOpen(true);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (document.body.offsetWidth < 600) {\r\n      setDrawerVariant(\"temporary\");\r\n    } else {\r\n      setDrawerVariant(\"permanent\");\r\n    }\r\n  }, [drawerOpen]);\r\n\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setMenuOpen(true);\r\n  };\r\n\r\n  const handleCloseMenu = () => {\r\n    setAnchorEl(null);\r\n    setMenuOpen(false);\r\n  };\r\n\r\n  const handleOpenUserModal = () => {\r\n    setUserModalOpen(true);\r\n    handleCloseMenu();\r\n  };\r\n\r\n  const handleClickLogout = () => {\r\n    handleCloseMenu();\r\n    handleLogout();\r\n  };\r\n\r\n  const drawerClose = () => {\r\n    if (document.body.offsetWidth < 600) {\r\n      setDrawerOpen(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <BackdropLoading />;\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Drawer\r\n        variant={drawerVariant}\r\n        className={drawerOpen ? classes.drawerPaper : classes.drawerPaperClose}\r\n        classes={{\r\n          paper: clsx(\r\n            classes.drawerPaper,\r\n            !drawerOpen && classes.drawerPaperClose\r\n          ),\r\n        }}\r\n        open={drawerOpen}\r\n      >\r\n        <div className={classes.toolbarIcon}>\r\n\t\t<img src={logodash} alt=\"logo\" />\r\n          <IconButton onClick={() => setDrawerOpen(!drawerOpen)}>\r\n            <ChevronLeftIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List>\r\n          <MainListItems drawerClose={drawerClose} />\r\n        </List>\r\n        <Divider />\r\n      </Drawer>\r\n      <UserModal\r\n        open={userModalOpen}\r\n        onClose={() => setUserModalOpen(false)}\r\n        userId={user?.id}\r\n      />\r\n      <AppBar\r\n        position=\"absolute\"\r\n        className={clsx(classes.appBar, drawerOpen && classes.appBarShift)}\r\n        color={process.env.NODE_ENV === \"development\" ? \"inherit\" : \"primary\"}\r\n      >\r\n        <Toolbar variant=\"dense\" className={classes.toolbar}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={() => setDrawerOpen(!drawerOpen)}\r\n            className={clsx(\r\n              classes.menuButton,\r\n              drawerOpen && classes.menuButtonHidden\r\n            )}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography\r\n            component=\"h1\"\r\n            variant=\"h6\"\r\n            color=\"inherit\"\r\n            noWrap\r\n            className={classes.title}\r\n          >\r\n            WhatsPainel | Seu WhatsApp Web em vrios computadores!\r\n          </Typography>\r\n          {user.id && <NotificationsPopOver />}\r\n\r\n          <div>\r\n            <IconButton\r\n              aria-label=\"account of current user\"\r\n              aria-controls=\"menu-appbar\"\r\n              aria-haspopup=\"true\"\r\n              onClick={handleMenu}\r\n              color=\"inherit\"\r\n            >\r\n              <AccountCircle />\r\n            </IconButton>\r\n            <Menu\r\n              id=\"menu-appbar\"\r\n              anchorEl={anchorEl}\r\n              getContentAnchorEl={null}\r\n              anchorOrigin={{\r\n                vertical: \"bottom\",\r\n                horizontal: \"right\",\r\n              }}\r\n              transformOrigin={{\r\n                vertical: \"top\",\r\n                horizontal: \"right\",\r\n              }}\r\n              open={menuOpen}\r\n              onClose={handleCloseMenu}\r\n            >\r\n              <MenuItem onClick={handleOpenUserModal}>\r\n                {i18n.t(\"mainDrawer.appBar.user.profile\")}\r\n              </MenuItem>\r\n              <MenuItem onClick={handleClickLogout}>\r\n                {i18n.t(\"mainDrawer.appBar.user.logout\")}\r\n              </MenuItem>\r\n            </Menu>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.content}>\r\n        <div className={classes.appBarSpacer} />\r\n\r\n        {children ? children : null}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoggedInLayout;\r\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    flex: 1,\n    padding: 16,\n    height: `calc(100% - 48px)`\n  },\n\n  contentWrapper: {\n    height: \"100%\",\n    overflowY: \"hidden\",\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n}));\n\nconst MainContainer = ({ children }) => {\n  const classes = useStyles();\n\n  return (\n    <Container className={classes.mainContainer} maxWidth={false}>\n      <div className={classes.contentWrapper}>{children}</div>\n    </Container>\n  );\n};\n\nexport default MainContainer;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tcontactsHeader: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpadding: \"0px 6px 6px 6px\",\n\t},\n}));\n\nconst MainHeader = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.contactsHeader}>{children}</div>;\n};\n\nexport default MainHeader;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tMainHeaderButtonsWrapper: {\n\t\tflex: \"none\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n}));\n\nconst MainHeaderButtonsWrapper = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.MainHeaderButtonsWrapper}>{children}</div>;\n};\n\nexport default MainHeaderButtonsWrapper;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function Title(props) {\n\treturn (\n\t\t<Typography variant=\"h5\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n}\n","import React from \"react\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n}));\n\nconst TableRowSkeleton = ({ avatar, columns }) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<>\n\t\t\t<TableRow>\n\t\t\t\t{avatar && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<TableCell style={{ paddingRight: 0 }}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\t\t\t\twidth={40}\n\t\t\t\t\t\t\t\theight={40}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<Skeleton animation=\"wave\" height={30} width={80} />\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{Array.from({ length: columns }, (_, index) => (\n\t\t\t\t\t<TableCell align=\"center\" key={index}>\n\t\t\t\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\theight={30}\n\t\t\t\t\t\t\t\twidth={80}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t</TableRow>\n\t\t</>\n\t);\n};\n\nexport default TableRowSkeleton;\n","import React, { useState, useEffect } from \"react\";\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport {\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  Button,\n  DialogActions,\n  CircularProgress,\n  TextField,\n  Switch,\n  FormControlLabel,\n  FormControl,\n  FormGroup,\n  Tooltip,\n  Paper,\n  Grid,\n  Checkbox,\n} from \"@material-ui/core\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\n\nconst longText = `\nDesmarque esta opo para definir um horrio de expediente para os atendimentos.\nQuando um usurio escolher ser direcionado a um atendente, o sistema ir\nverificar o horrio e o dia, se estiver fora do expediente, envia um aviso\nao usurio e no direciona ao atendente escolhido.\n`;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n\n  expediente: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  tituloReceberMsg: {\n    fontSize: 12,\n    marginLeft: theme.spacing(1),\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n  reabrirTicket: {\n    fontSize: 12,\n    display: \"flex\",\n    marginLeft: theme.spacing(2),\n  },\n  textSize: {\n    fontSize: 12,\n  },\n  paperReceberMsg: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n  diasSemana: {\n    marginLeft: theme.spacing(1),\n  },\n  hora: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    width: 250,\n  },\n  textoExpediente: {\n    marginTop: theme.spacing(2),\n    marginLeft: theme.spacing(1),\n    marginBottom: theme.spacing(3),\n    width: \"100%\",\n  },\n}));\n\nconst SessionSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst WhatsAppModal = ({ open, onClose, whatsAppId }) => {\n  const classes = useStyles();\n  const initialState = {\n    name: \"\",\n    greetingMessage: \"\",\n    farewellMessage: \"\",\n    isDefault: false,\n    isMultidevice: true,\n    transferTicketMessage: \"\",\n  };\n  const [whatsApp, setWhatsApp] = useState(initialState);\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\n  const [defineWorkHours, SetDefineWorkHours] = useState(false);\n  const [outOfWorkMessage, setOutOfWorkMessage] = useState(\"\");\n  const [startWorkHour, setStartWorkHour] = useState(\"08:00\");\n  const [endWorkHour, setEndWorkHour] = useState(\"17:30\");\n  const [startWorkHourWeekend, setStartWorkHourWeekend] = useState(\"08:00\");\n  const [endWorkHourWeekend, setEndWorkHourWeekend] = useState(\"17:30\");\n  const [seg, setSeg] = useState(true);\n  const [ter, setTer] = useState(true);\n  const [quar, setQuar] = useState(true);\n  const [quin, setQuin] = useState(true);\n  const [sex, setSex] = useState(true);\n  const [sab, setSab] = useState(false);\n  const [dom, setDom] = useState(false);\n\n  useEffect(() => {\n    const fetchSession = async () => {\n      if (!whatsAppId) return;\n\n      try {\n        const { data } = await api.get(`whatsapp/${whatsAppId}`);\n        setWhatsApp(data);\n        setSeg(data.monday);\n        setTer(data.tuesday);\n        setQuar(data.wednesday);\n        setQuin(data.thursday);\n        setSex(data.friday);\n        setSab(data.saturday);\n        setDom(data.sunday);\n        SetDefineWorkHours(data.defineWorkHours);\n        setOutOfWorkMessage(data.outOfWorkMessage);\n        setStartWorkHour(data.startWorkHour);\n        setEndWorkHour(data.endWorkHour);\n        setStartWorkHourWeekend(data.startWorkHourWeekend);\n        setEndWorkHourWeekend(data.endWorkHourWeekend);\n        const whatsQueueIds = data.queues?.map((queue) => queue.id);\n        setSelectedQueueIds(whatsQueueIds);\n      } catch (err) {\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, [whatsAppId]);\n\n  const handleChange = (e) => {\n    if (e.target.value === \"MON\") {\n      setSeg(e.target.checked);\n    }\n    if (e.target.value === \"TUE\") {\n      setTer(e.target.checked);\n    }\n    if (e.target.value === \"WED\") {\n      setQuar(e.target.checked);\n    }\n    if (e.target.value === \"THU\") {\n      setQuin(e.target.checked);\n    }\n    if (e.target.value === \"FRI\") {\n      setSex(e.target.checked);\n    }\n    if (e.target.value === \"SAT\") {\n      setSab(e.target.checked);\n    }\n    if (e.target.value === \"SUN\") {\n      setDom(e.target.checked);\n    }\n\n    if (e.target.value === \"defineWorkHours\") {\n      SetDefineWorkHours(e.target.checked);\n    }\n  };\n\n  const handleSaveWhatsApp = async (values) => {\n    const whatsappData = {\n      ...values,\n      queueIds: selectedQueueIds,\n      startWorkHour: startWorkHour,\n      endWorkHour: endWorkHour,\n      defineWorkHours: defineWorkHours,\n      outOfWorkMessage: outOfWorkMessage,\n      startWorkHourWeekend: startWorkHourWeekend,\n      endWorkHourWeekend: endWorkHourWeekend,\n      monday: seg,\n      tuesday: ter,\n      wednesday: quar,\n      thursday: quin,\n      friday: sex,\n      saturday: sab,\n      sunday: dom,\n    };\n\n    try {\n      if (whatsAppId) {\n        await api.put(`/whatsapp/${whatsAppId}`, whatsappData);\n      } else {\n        await api.post(\"/whatsapp\", whatsappData);\n      }\n      toast.success(i18n.t(\"whatsappModal.success\"));\n      handleClose();\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleClose = () => {\n    onClose();\n    setWhatsApp(initialState);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"sm\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle>\n          {whatsAppId\n            ? i18n.t(\"whatsappModal.title.edit\")\n            : i18n.t(\"whatsappModal.title.add\")}\n        </DialogTitle>\n        <Formik\n          initialValues={whatsApp}\n          enableReinitialize={true}\n          validationSchema={SessionSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveWhatsApp(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, touched, errors, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.multFieldLine}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"whatsappModal.form.name\")}\n                    autoFocus\n                    name=\"name\"\n                    error={touched.name && Boolean(errors.name)}\n                    helperText={touched.name && errors.name}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    className={classes.textField}\n                  />\n                  <FormControlLabel\n                    control={\n                      <Field\n                        as={Switch}\n                        color=\"primary\"\n                        name=\"isDefault\"\n                        checked={values.isDefault}\n                      />\n                    }\n                    label={i18n.t(\"whatsappModal.form.default\")}\n                  />\n\n              \n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.greetingMessage\")}\n                    type=\"greetingMessage\"\n                    multiline\n                    rows={5}\n                    fullWidth\n                    name=\"greetingMessage\"\n                    error={\n                      touched.greetingMessage && Boolean(errors.greetingMessage)\n                    }\n                    helperText={\n                      touched.greetingMessage && errors.greetingMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"whatsappModal.form.farewellMessage\")}\n                    type=\"farewellMessage\"\n                    multiline\n                    rows={5}\n                    fullWidth\n                    name=\"farewellMessage\"\n                    error={\n                      touched.farewellMessage && Boolean(errors.farewellMessage)\n                    }\n                    helperText={\n                      touched.farewellMessage && errors.farewellMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n\n                <div>\n                  <Field\n                    as={TextField}\n                    label=\"Mensagem de trasnferencia de atendimento\"\n                    type=\"transferTicketMessage\"\n                    multiline\n                    rows={5}\n                    fullWidth\n                    name=\"transferTicketMessage\"\n                    error={\n                      touched.transferTicketMessage &&\n                      Boolean(errors.transferTicketMessage)\n                    }\n                    helperText={\n                      touched.transferTicketMessage &&\n                      errors.transferTicketMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n\n                <div>\n                  {/* Expediente */}\n\n                  {defineWorkHours === true ? (\n                    <div\n                    // className={classes.textoExpediente}\n                    >\n                      <TextField\n                        label={i18n.t(\"queueModal.form.outOfWorkMessage\")}\n                        rows={4}\n                        multiline\n                        fullWidth\n                        name=\"outOfWorkMessage\"\n                        value={outOfWorkMessage}\n                        error={\n                          touched.outOfWorkMessage &&\n                          Boolean(errors.outOfWorkMessage)\n                        }\n                        helperText={\n                          touched.outOfWorkMessage && errors.outOfWorkMessage\n                        }\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        onChange={(e) => setOutOfWorkMessage(e.target.value)}\n                      />\n                    </div>\n                  ) : (\n                    \"\"\n                  )}\n                  <Grid container spacing={2}>\n                    <Grid item xs={12} sm={12} className={classes.diasSemana}>\n                      <FormControl component=\"fieldset\">\n                        <FormGroup\n                          aria-label=\"position\"\n                          row\n                          sx={{\n                            width: {\n                              xs: 100,\n                              sm: 200,\n                              md: 300,\n                              lg: 600,\n                              xl: 700,\n                            },\n                          }}\n                        >\n                          <Tooltip title={longText} placement=\"top\">\n                            <FormControlLabel\n                              value=\"defineWorkHours\"\n                              control={\n                                <Checkbox\n                                  size=\"small\"\n                                  checked={defineWorkHours}\n                                  onChange={handleChange}\n                                />\n                              }\n                              label=\"Definir horrio de expediente\"\n                              labelPlacement=\"end\"\n                            />\n                          </Tooltip>\n                        </FormGroup>\n                      </FormControl>\n                    </Grid>\n                    {defineWorkHours === true ? (\n                      <>\n                        <Grid item xs={12} sm={6}>\n                          <TextField\n                            className={classes.hora}\n                            type=\"time\"\n                            label={i18n.t(\"queueModal.form.startWorkHour\")}\n                            name=\"startWorkHour\"\n                            value={startWorkHour}\n                            onChange={(e) => setStartWorkHour(e.target.value)}\n                          />\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                          <TextField\n                            className={classes.hora}\n                            type=\"time\"\n                            label={i18n.t(\"queueModal.form.endWorkHour\")}\n                            name=\"endWorkHour\"\n                            value={endWorkHour}\n                            onChange={(e) => setEndWorkHour(e.target.value)}\n                          />\n                        </Grid>\n                      </>\n                    ) : (\n                      \"\"\n                    )}\n                  </Grid>\n                  {defineWorkHours === true ? (\n                    <>\n                      <Grid item xs={12} sm={12} className={classes.diasSemana}>\n                        <FormControl component=\"fieldset\">\n                          <FormGroup\n                            aria-label=\"position\"\n                            row\n                            sx={{\n                              width: {\n                                xs: 100,\n                                sm: 200,\n                                md: 300,\n                                lg: 600,\n                                xl: 700,\n                              },\n                            }}\n                          >\n                            <FormControlLabel\n                              value=\"MON\"\n                              control={\n                                <Checkbox\n                                  size=\"small\"\n                                  checked={seg}\n                                  onChange={handleChange}\n                                />\n                              }\n                              label={i18n.t(\"queueModal.form.monday\")}\n                              labelPlacement=\"end\"\n                            />\n                            <FormControlLabel\n                              value=\"TUE\"\n                              control={\n                                <Checkbox\n                                  size=\"small\"\n                                  checked={ter}\n                                  onChange={handleChange}\n                                />\n                              }\n                              label={i18n.t(\"queueModal.form.tuesday\")}\n                              labelPlacement=\"end\"\n                            />\n                            <FormControlLabel\n                              value=\"WED\"\n                              control={\n                                <Checkbox\n                                  size=\"small\"\n                                  checked={quar}\n                                  onChange={handleChange}\n                                />\n                              }\n                              label={i18n.t(\"queueModal.form.wednesday\")}\n                              labelPlacement=\"end\"\n                            />\n                            <FormControlLabel\n                              value=\"THU\"\n                              control={\n                                <Checkbox\n                                  size=\"small\"\n                                  checked={quin}\n                                  onChange={handleChange}\n                                />\n                              }\n                              label={i18n.t(\"queueModal.form.thursday\")}\n                              labelPlacement=\"end\"\n                            />\n                            <FormControlLabel\n                              value=\"FRI\"\n                              control={\n                                <Checkbox\n                                  size=\"small\"\n                                  checked={sex}\n                                  onChange={handleChange}\n                                />\n                              }\n                              label={i18n.t(\"queueModal.form.friday\")}\n                              labelPlacement=\"end\"\n                            />\n                          </FormGroup>\n                        </FormControl>\n                      </Grid>\n                    </>\n                  ) : (\n                    \"\"\n                  )}\n                  {defineWorkHours === true ? (\n                    <>\n                      <Paper>\n                        <Grid container spacing={2} style={{ marginTop: 10 }}>\n                          <Grid item xs={12} sm={6}>\n                            <TextField\n                              className={classes.hora}\n                              type=\"time\"\n                              label={i18n.t(\"queueModal.form.startWorkHour\")}\n                              name=\"StartWorkHourWeekend\"\n                              value={startWorkHourWeekend}\n                              onChange={(e) =>\n                                setStartWorkHourWeekend(e.target.value)\n                              }\n                            />\n                          </Grid>\n                          <Grid item xs={12} sm={6}>\n                            <TextField\n                              className={classes.hora}\n                              type=\"time\"\n                              label={i18n.t(\"queueModal.form.endWorkHour\")}\n                              name=\"EndWorkHourWeekend\"\n                              value={endWorkHourWeekend}\n                              onChange={(e) =>\n                                setEndWorkHourWeekend(e.target.value)\n                              }\n                            />\n                          </Grid>\n                        </Grid>\n                        <Grid\n                          item\n                          xs={12}\n                          sm={12}\n                          className={classes.diasSemana}\n                        >\n                          <FormControl component=\"fieldset\">\n                            <FormGroup\n                              aria-label=\"position\"\n                              row\n                              sx={{\n                                width: {\n                                  xs: 100,\n                                  sm: 200,\n                                  md: 300,\n                                  lg: 600,\n                                  xl: 700,\n                                },\n                              }}\n                            >\n                              <FormControlLabel\n                                value=\"SAT\"\n                                control={\n                                  <Checkbox\n                                    size=\"small\"\n                                    checked={sab}\n                                    onChange={handleChange}\n                                  />\n                                }\n                                label={i18n.t(\"queueModal.form.saturday\")}\n                                labelPlacement=\"end\"\n                              />\n                              <FormControlLabel\n                                value=\"SUN\"\n                                control={\n                                  <Checkbox\n                                    size=\"small\"\n                                    checked={dom}\n                                    onChange={handleChange}\n                                  />\n                                }\n                                label={i18n.t(\"queueModal.form.sunday\")}\n                                labelPlacement=\"end\"\n                              />\n                            </FormGroup>\n                          </FormControl>\n                        </Grid>\n                      </Paper>\n                    </>\n                  ) : (\n                    \"\"\n                  )}\n                </div>\n\n                <QueueSelect\n                  selectedQueueIds={selectedQueueIds}\n                  onChange={(selectedIds) => setSelectedQueueIds(selectedIds)}\n                />\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"whatsappModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {whatsAppId\n                    ? i18n.t(\"whatsappModal.buttons.okEdit\")\n                    : i18n.t(\"whatsappModal.buttons.okAdd\")}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default React.memo(WhatsAppModal);\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst ConfirmationModal = ({ title, children, open, onClose, onConfirm }) => {\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tonClose={() => onClose(false)}\n\t\t\taria-labelledby=\"confirm-dialog\"\n\t\t>\n\t\t\t<DialogTitle id=\"confirm-dialog\">{title}</DialogTitle>\n\t\t\t<DialogContent dividers>\n\t\t\t\t<Typography>{children}</Typography>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => onClose(false)}\n\t\t\t\t\tcolor=\"default\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tonClose(false);\n\t\t\t\t\t\tonConfirm();\n\t\t\t\t\t}}\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.confirm\")}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n};\n\nexport default ConfirmationModal;\n","import React, { useEffect, useState } from \"react\";\nimport QRCode from \"qrcode.react\";\nimport openSocket from \"../../services/socket-io\";\nimport toastError from \"../../errors/toastError\";\n\nimport { Dialog, DialogContent, Paper, Typography } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\n\nconst QrcodeModal = ({ open, onClose, whatsAppId }) => {\n\tconst [qrCode, setQrCode] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tconst fetchSession = async () => {\n\t\t\tif (!whatsAppId) return;\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/whatsapp/${whatsAppId}`);\n\t\t\t\tsetQrCode(data.qrcode);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\t\tfetchSession();\n\t}, [whatsAppId]);\n\n\tuseEffect(() => {\n\t\tif (!whatsAppId) return;\n\t\tconst socket = openSocket();\n\n\t\tsocket.on(\"whatsappSession\", data => {\n\t\t\tif (data.action === \"update\" && data.session.id === whatsAppId) {\n\t\t\t\tsetQrCode(data.session.qrcode);\n\t\t\t}\n\n\t\t\tif (data.action === \"update\" && data.session.qrcode === \"\") {\n\t\t\t\tonClose();\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [whatsAppId, onClose]);\n\n\treturn (\n\t\t<Dialog open={open} onClose={onClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t<DialogContent>\n\t\t\t\t<Paper elevation={0}>\n\t\t\t\t\t<Typography color=\"primary\" gutterBottom>\n\t\t\t\t\t\t{i18n.t(\"qrCode.message\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{qrCode ? (\n\t\t\t\t\t\t<QRCode value={qrCode} size={256} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span>Waiting for QR Code</span>\n\t\t\t\t\t)}\n\t\t\t\t</Paper>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t);\n};\n\nexport default React.memo(QrcodeModal);\n","import React, { useState, useCallback, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { format, parseISO } from \"date-fns\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport {\n\tButton,\n\tTableBody,\n\tTableRow,\n\tTableCell,\n\tIconButton,\n\tTable,\n\tTableHead,\n\tPaper,\n\tTooltip,\n\tTypography,\n\tCircularProgress,\n} from \"@material-ui/core\";\nimport {\n\tEdit,\n\tCheckCircle,\n\tSignalCellularConnectedNoInternet2Bar,\n\tSignalCellularConnectedNoInternet0Bar,\n\tSignalCellular4Bar,\n\tCropFree,\n\tDeleteOutline,\n} from \"@material-ui/icons\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\n\nimport api from \"../../services/api\";\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport QrcodeModal from \"../../components/QrcodeModal\";\nimport { i18n } from \"../../translate/i18n\";\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\tmainPaper: {\n\t\tflex: 1,\n\t\tpadding: theme.spacing(1),\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n\ttooltip: {\n\t\tbackgroundColor: \"#f5f5f9\",\n\t\tcolor: \"rgba(0, 0, 0, 0.87)\",\n\t\tfontSize: theme.typography.pxToRem(14),\n\t\tborder: \"1px solid #dadde9\",\n\t\tmaxWidth: 450,\n\t},\n\ttooltipPopper: {\n\t\ttextAlign: \"center\",\n\t},\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t},\n}));\n\nconst CustomToolTip = ({ title, content, children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Tooltip\n\t\t\tarrow\n\t\t\tclasses={{\n\t\t\t\ttooltip: classes.tooltip,\n\t\t\t\tpopper: classes.tooltipPopper,\n\t\t\t}}\n\t\t\ttitle={\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Typography gutterBottom color=\"inherit\">\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{content && <Typography>{content}</Typography>}\n\t\t\t\t</React.Fragment>\n\t\t\t}\n\t\t>\n\t\t\t{children}\n\t\t</Tooltip>\n\t);\n};\n\nconst Connections = () => {\n\tconst classes = useStyles();\n\n\tconst { whatsApps, loading } = useContext(WhatsAppsContext);\n\tconst [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\n\tconst [qrModalOpen, setQrModalOpen] = useState(false);\n\tconst [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\n\tconst [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\tconst confirmationModalInitialState = {\n\t\taction: \"\",\n\t\ttitle: \"\",\n\t\tmessage: \"\",\n\t\twhatsAppId: \"\",\n\t\topen: false,\n\t};\n\tconst [confirmModalInfo, setConfirmModalInfo] = useState(\n\t\tconfirmationModalInitialState\n\t);\n\n\tconst handleStartWhatsAppSession = async whatsAppId => {\n\t\ttry {\n\t\t\tawait api.post(`/whatsappsession/${whatsAppId}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleRequestNewQrCode = async whatsAppId => {\n\t\ttry {\n\t\t\tawait api.put(`/whatsappsession/${whatsAppId}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleOpenWhatsAppModal = () => {\n\t\tsetSelectedWhatsApp(null);\n\t\tsetWhatsAppModalOpen(true);\n\t};\n\n\tconst handleCloseWhatsAppModal = useCallback(() => {\n\t\tsetWhatsAppModalOpen(false);\n\t\tsetSelectedWhatsApp(null);\n\t}, [setSelectedWhatsApp, setWhatsAppModalOpen]);\n\n\tconst handleOpenQrModal = whatsApp => {\n\t\tsetSelectedWhatsApp(whatsApp);\n\t\tsetQrModalOpen(true);\n\t};\n\n\tconst handleCloseQrModal = useCallback(() => {\n\t\tsetSelectedWhatsApp(null);\n\t\tsetQrModalOpen(false);\n\t}, [setQrModalOpen, setSelectedWhatsApp]);\n\n\tconst handleEditWhatsApp = whatsApp => {\n\t\tsetSelectedWhatsApp(whatsApp);\n\t\tsetWhatsAppModalOpen(true);\n\t};\n\n\tconst handleOpenConfirmationModal = (action, whatsAppId) => {\n\t\tif (action === \"disconnect\") {\n\t\t\tsetConfirmModalInfo({\n\t\t\t\taction: action,\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\n\t\t\t\twhatsAppId: whatsAppId,\n\t\t\t});\n\t\t}\n\n\t\tif (action === \"delete\") {\n\t\t\tsetConfirmModalInfo({\n\t\t\t\taction: action,\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.deleteTitle\"),\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.deleteMessage\"),\n\t\t\t\twhatsAppId: whatsAppId,\n\t\t\t});\n\t\t}\n\t\tsetConfirmModalOpen(true);\n\t};\n\n\tconst handleSubmitConfirmationModal = async () => {\n\t\tif (confirmModalInfo.action === \"disconnect\") {\n\t\t\ttry {\n\t\t\t\tawait api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\n\t\tif (confirmModalInfo.action === \"delete\") {\n\t\t\ttry {\n\t\t\t\tawait api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\n\t\t\t\ttoast.success(i18n.t(\"connections.toasts.deleted\"));\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\n\t\tsetConfirmModalInfo(confirmationModalInitialState);\n\t};\n\n\tconst renderActionButtons = whatsApp => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={() => handleOpenQrModal(whatsApp)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.qrcode\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={() => handleStartWhatsAppSession(whatsApp.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.tryAgain\")}\n\t\t\t\t\t\t</Button>{\" \"}\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={() => handleRequestNewQrCode(whatsApp.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.newQr\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{(whatsApp.status === \"CONNECTED\" ||\n\t\t\t\t\twhatsApp.status === \"PAIRING\" ||\n\t\t\t\t\twhatsApp.status === \"TIMEOUT\") && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\thandleOpenConfirmationModal(\"disconnect\", whatsApp.id);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.disconnect\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\n\t\t\t\t\t<Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.connecting\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</>\n\t\t);\n\t};\n\n\tconst renderStatusToolTips = whatsApp => {\n\t\treturn (\n\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.disconnected.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.disconnected.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\n\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.qrcode.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.qrcode.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CropFree />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"CONNECTED\" && (\n\t\t\t\t\t<CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\n\t\t\t\t\t\t<SignalCellular4Bar style={{ color: green[500] }} />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.timeout.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.timeout.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<MainContainer>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={confirmModalInfo.title}\n\t\t\t\topen={confirmModalOpen}\n\t\t\t\tonClose={setConfirmModalOpen}\n\t\t\t\tonConfirm={handleSubmitConfirmationModal}\n\t\t\t>\n\t\t\t\t{confirmModalInfo.message}\n\t\t\t</ConfirmationModal>\n\t\t\t<QrcodeModal\n\t\t\t\topen={qrModalOpen}\n\t\t\t\tonClose={handleCloseQrModal}\n\t\t\t\twhatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\n\t\t\t/>\n\t\t\t<WhatsAppModal\n\t\t\t\topen={whatsAppModalOpen}\n\t\t\t\tonClose={handleCloseWhatsAppModal}\n\t\t\t\twhatsAppId={!qrModalOpen && selectedWhatsApp?.id}\n\t\t\t/>\n\t\t\t<MainHeader>\n\t\t\t\t<Title>{i18n.t(\"connections.title\")}</Title>\n\t\t\t\t<MainHeaderButtonsWrapper>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={handleOpenWhatsAppModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.add\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</MainHeaderButtonsWrapper>\n\t\t\t</MainHeader>\n\t\t\t<Paper className={classes.mainPaper} variant=\"outlined\">\n\t\t\t\t<Table size=\"small\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.name\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.status\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.session\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.lastUpdate\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.default\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.actions\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t<TableRowSkeleton />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{whatsApps?.length > 0 &&\n\t\t\t\t\t\t\t\t\twhatsApps.map(whatsApp => (\n\t\t\t\t\t\t\t\t\t\t<TableRow key={whatsApp.id}>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">{whatsApp.name}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{renderStatusToolTips(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{renderActionButtons(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{format(parseISO(whatsApp.updatedAt), \"dd/MM/yy HH:mm\")}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsApp.isDefault && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircle style={{ color: green[500] }} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleEditWhatsApp(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleOpenConfirmationModal(\"delete\", whatsApp.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutline />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</Paper>\n\t\t</MainContainer>\n\t);\n};\n\nexport default Connections;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\textraAttr: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ContactSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\"),\n});\n\nconst ContactModal = ({ open, onClose, contactId, initialValues, onSave }) => {\n\tconst classes = useStyles();\n\tconst isMounted = useRef(true);\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tnumber: \"\",\n\t\temail: \"\",\n\t};\n\n\tconst [contact, setContact] = useState(initialState);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst fetchContact = async () => {\n\t\t\tif (initialValues) {\n\t\t\t\tsetContact(prevState => {\n\t\t\t\t\treturn { ...prevState, ...initialValues };\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!contactId) return;\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/contacts/${contactId}`);\n\t\t\t\tif (isMounted.current) {\n\t\t\t\t\tsetContact(data);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchContact();\n\t}, [contactId, open, initialValues]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetContact(initialState);\n\t};\n\n\tconst handleSaveContact = async values => {\n\t\ttry {\n\t\t\tif (contactId) {\n\t\t\t\tawait api.put(`/contacts/${contactId}`, values);\n\t\t\t\thandleClose();\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/contacts\", values);\n\t\t\t\tif (onSave) {\n\t\t\t\t\tonSave(data);\n\t\t\t\t}\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{contactId\n\t\t\t\t\t\t? `${i18n.t(\"contactModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"contactModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={contact}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={ContactSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveContact(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ values, errors, touched, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" gutterBottom>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.mainInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.name\")}\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.number\")}\n\t\t\t\t\t\t\t\t\tname=\"number\"\n\t\t\t\t\t\t\t\t\terror={touched.number && Boolean(errors.number)}\n\t\t\t\t\t\t\t\t\thelperText={touched.number && errors.number}\n\t\t\t\t\t\t\t\t\tplaceholder=\"5513912344321\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email address\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.extraInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<FieldArray name=\"extraInfo\">\n\t\t\t\t\t\t\t\t\t{({ push, remove }) => (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{values.extraInfo &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.length > 0 &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.map((info, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraAttr}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-info`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraName\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].name`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraValue\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].value`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => remove(index)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlineIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.extraAttr}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 1, marginTop: 8 }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => push({ name: \"\", value: \"\" })}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`+ ${i18n.t(\"contactModal.buttons.addExtraInfo\")}`}\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</FieldArray>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{contactId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default ContactModal;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport openSocket from \"../../services/socket-io\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactModal from \"../../components/ContactModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal/\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTS\") {\n    const contacts = action.payload;\n    const newContacts = [];\n\n    contacts.forEach((contact) => {\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\n      if (contactIndex !== -1) {\n        state[contactIndex] = contact;\n      } else {\n        newContacts.push(contact);\n      }\n    });\n\n    return [...state, ...newContacts];\n  }\n\n  if (action.type === \"UPDATE_CONTACTS\") {\n    const contact = action.payload;\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\n\n    if (contactIndex !== -1) {\n      state[contactIndex] = contact;\n      return [...state];\n    } else {\n      return [contact, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACT\") {\n    const contactId = action.payload;\n\n    const contactIndex = state.findIndex((c) => c.id === contactId);\n    if (contactIndex !== -1) {\n      state.splice(contactIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Contacts = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contacts, dispatch] = useReducer(reducer, []);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const [deletingContact, setDeletingContact] = useState(null);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(\"/contacts/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const socket = openSocket();\n\n    socket.on(\"contact\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.contact });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.contactId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n\n  const handleSaveTicket = async (contactId) => {\n    if (!contactId) return;\n    setLoading(true);\n    try {\n      const { data: ticket } = await api.post(\"/tickets\", {\n        contactId: contactId,\n        userId: user?.id,\n        status: \"open\",\n      });\n      history.push(`/tickets/${ticket.id}`);\n    } catch (err) {\n      toastError(err);\n    }\n    setLoading(false);\n  };\n\n  const hadleEditContact = (contactId) => {\n    setSelectedContactId(contactId);\n    setContactModalOpen(true);\n  };\n\n  const handleDeleteContact = async (contactId) => {\n    try {\n      await api.delete(`/contacts/${contactId}`);\n      toast.success(i18n.t(\"contacts.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContact(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const handleimportContact = async () => {\n    try {\n      await api.post(\"/contacts/import\");\n      history.go(0);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <ContactModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactId={selectedContactId}\n      ></ContactModal>\n      <ConfirmationModal\n        title={\n          deletingContact\n            ? `${i18n.t(\"contacts.confirmationModal.deleteTitle\")} ${\n                deletingContact.name\n              }?`\n            : `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\n        }\n        open={confirmOpen}\n        onClose={setConfirmOpen}\n        onConfirm={(e) =>\n          deletingContact\n            ? handleDeleteContact(deletingContact.id)\n            : handleimportContact()\n        }\n      >\n        {deletingContact\n          ? `${i18n.t(\"contacts.confirmationModal.deleteMessage\")}`\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\n      </ConfirmationModal>\n      <MainHeader>\n        <Title>{i18n.t(\"contacts.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={(e) => setConfirmOpen(true)}\n          >\n            {i18n.t(\"contacts.buttons.import\")}\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenContactModal}\n          >\n            {i18n.t(\"contacts.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell padding=\"checkbox\" />\n              <TableCell>{i18n.t(\"contacts.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.whatsapp\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {contacts.map((contact) => (\n                <TableRow key={contact.id}>\n                  <TableCell style={{ paddingRight: 0 }}>\n                    {<Avatar src={contact.profilePicUrl} />}\n                  </TableCell>\n                  <TableCell>{contact.name}</TableCell>\n                  <TableCell align=\"center\">{contact.number}</TableCell>\n                  <TableCell align=\"center\">{contact.email}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleSaveTicket(contact.id)}\n                    >\n                      <WhatsAppIcon />\n                    </IconButton>\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => hadleEditContact(contact.id)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n                    <Can\n                      role={user.profile}\n                      perform=\"contacts-page:deleteContact\"\n                      yes={() => (\n                        <IconButton\n                          size=\"small\"\n                          onClick={(e) => {\n                            setConfirmOpen(true);\n                            setDeletingContact(contact);\n                          }}\n                        >\n                          <DeleteOutlineIcon />\n                        </IconButton>\n                      )}\n                    />\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton avatar columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Contacts;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst Title = props => {\n\treturn (\n\t\t<Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n};\n\nexport default Title;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport {\n\tBarChart,\n\tCartesianGrid,\n\tBar,\n\tXAxis,\n\tYAxis,\n\tLabel,\n\tResponsiveContainer,\n} from \"recharts\";\nimport { startOfHour, parseISO, format } from \"date-fns\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport Title from \"./Title\";\nimport useTickets from \"../../hooks/useTickets\";\n\nconst Chart = () => {\n\tconst theme = useTheme();\n\n\tconst date = useRef(new Date().toISOString());\n\tconst { tickets } = useTickets({ date: date.current });\n\n\tconst [chartData, setChartData] = useState([\n\t\t{ time: \"08:00\", amount: 0 },\n\t\t{ time: \"09:00\", amount: 0 },\n\t\t{ time: \"10:00\", amount: 0 },\n\t\t{ time: \"11:00\", amount: 0 },\n\t\t{ time: \"12:00\", amount: 0 },\n\t\t{ time: \"13:00\", amount: 0 },\n\t\t{ time: \"14:00\", amount: 0 },\n\t\t{ time: \"15:00\", amount: 0 },\n\t\t{ time: \"16:00\", amount: 0 },\n\t\t{ time: \"17:00\", amount: 0 },\n\t\t{ time: \"18:00\", amount: 0 },\n\t\t{ time: \"19:00\", amount: 0 },\n\t]);\n\n\tuseEffect(() => {\n\t\tsetChartData(prevState => {\n\t\t\tlet aux = [...prevState];\n\n\t\t\taux.forEach(a => {\n\t\t\t\ttickets.forEach(ticket => {\n\t\t\t\t\tformat(startOfHour(parseISO(ticket.createdAt)), \"HH:mm\") === a.time &&\n\t\t\t\t\t\ta.amount++;\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn aux;\n\t\t});\n\t}, [tickets]);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Title>{`${i18n.t(\"dashboard.charts.perDay.title\")}${\n\t\t\t\ttickets.length\n\t\t\t}`}</Title>\n\t\t\t<ResponsiveContainer>\n\t\t\t\t<BarChart\n\t\t\t\t\tdata={chartData}\n\t\t\t\t\tbarSize={40}\n\t\t\t\t\twidth={730}\n\t\t\t\t\theight={250}\n\t\t\t\t\tmargin={{\n\t\t\t\t\t\ttop: 16,\n\t\t\t\t\t\tright: 16,\n\t\t\t\t\t\tbottom: 0,\n\t\t\t\t\t\tleft: 24,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\n\t\t\t\t\t<XAxis dataKey=\"time\" stroke={theme.palette.text.secondary} />\n\t\t\t\t\t<YAxis\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tallowDecimals={false}\n\t\t\t\t\t\tstroke={theme.palette.text.secondary}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\tangle={270}\n\t\t\t\t\t\t\tposition=\"left\"\n\t\t\t\t\t\t\tstyle={{ textAnchor: \"middle\", fill: theme.palette.text.primary }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tTickets\n\t\t\t\t\t\t</Label>\n\t\t\t\t\t</YAxis>\n\t\t\t\t\t<Bar dataKey=\"amount\" fill={theme.palette.primary.main} />\n\t\t\t\t</BarChart>\n\t\t\t</ResponsiveContainer>\n\t\t</React.Fragment>\n\t);\n};\n\nexport default Chart;\n","import React, { useContext } from \"react\"\r\n\r\nimport Paper from \"@material-ui/core/Paper\"\r\nimport Container from \"@material-ui/core/Container\"\r\nimport Grid from \"@material-ui/core/Grid\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport useTickets from \"../../hooks/useTickets\"\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport Chart from \"./Chart\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcontainer: {\r\n\t\tpaddingTop: theme.spacing(4),\r\n\t\tpaddingBottom: theme.spacing(4),\r\n\t},\r\n\tfixedHeightPaper: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tdisplay: \"flex\",\r\n\t\toverflow: \"auto\",\r\n\t\tflexDirection: \"column\",\r\n\t\theight: 240,\r\n\t},\r\n\tcustomFixedHeightPaper: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tdisplay: \"flex\",\r\n\t\toverflow: \"auto\",\r\n\t\tflexDirection: \"column\",\r\n\t\theight: 120,\r\n\t},\r\n\tcustomFixedHeightPaperLg: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tdisplay: \"flex\",\r\n\t\toverflow: \"auto\",\r\n\t\tflexDirection: \"column\",\r\n\t\theight: \"100%\",\r\n\t},\r\n}))\r\n\r\nconst Dashboard = () => {\r\n\tconst classes = useStyles()\r\n\r\n\tconst { user } = useContext(AuthContext);\r\n\tvar userQueueIds = [];\r\n\r\n\tif (user.queues && user.queues.length > 0) {\r\n\t\tuserQueueIds = user.queues.map(q => q.id);\r\n\t}\r\n\r\n\tconst GetTickets = (status, showAll, withUnreadMessages) => {\r\n\r\n\t\tconst { count } = useTickets({\r\n\t\t\tstatus: status,\r\n\t\t\tshowAll: showAll,\r\n\t\t\twithUnreadMessages: withUnreadMessages,\r\n\t\t\tqueueIds: JSON.stringify(userQueueIds)\r\n\t\t});\r\n\t\treturn count;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Container maxWidth=\"lg\" className={classes.container}>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t<Paper className={classes.customFixedHeightPaper} style={{ overflow: \"hidden\" }}>\r\n\t\t\t\t\t\t\t<Typography component=\"h3\" variant=\"h6\" color=\"primary\" paragraph>\r\n\t\t\t\t\t\t\t\t{i18n.t(\"dashboard.messages.inAttendance.title\")}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t<Typography component=\"h1\" variant=\"h4\">\r\n\t\t\t\t\t\t\t\t\t{GetTickets(\"open\", \"true\", \"false\")}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t<Paper className={classes.customFixedHeightPaper} style={{ overflow: \"hidden\" }}>\r\n\t\t\t\t\t\t\t<Typography component=\"h3\" variant=\"h6\" color=\"primary\" paragraph>\r\n\t\t\t\t\t\t\t\t{i18n.t(\"dashboard.messages.waiting.title\")}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t<Typography component=\"h1\" variant=\"h4\">\r\n\t\t\t\t\t\t\t\t\t{GetTickets(\"pending\", \"true\", \"false\")}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={4}>\r\n\t\t\t\t\t\t<Paper className={classes.customFixedHeightPaper} style={{ overflow: \"hidden\" }}>\r\n\t\t\t\t\t\t\t<Typography component=\"h3\" variant=\"h6\" color=\"primary\" paragraph>\r\n\t\t\t\t\t\t\t\t{i18n.t(\"dashboard.messages.closed.title\")}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t<Typography component=\"h1\" variant=\"h4\">\r\n\t\t\t\t\t\t\t\t\t{GetTickets(\"closed\", \"true\", \"false\")}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Paper className={classes.fixedHeightPaper}>\r\n\t\t\t\t\t\t\t<Chart />\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Dashboard","import React, { useState, useContext } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\n\nimport {\n  Button,\n  CssBaseline,\n  TextField,\n  Grid,\n  Box,\n  Typography,\n  Container,\n  InputAdornment,\n  IconButton,\n  Link\n} from '@material-ui/core';\n\nimport { Visibility, VisibilityOff } from '@material-ui/icons';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { i18n } from \"../../translate/i18n\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { versionSystem } from \"../../../package.json\";\nimport { nomeEmpresa } from \"../../../package.json\";\nimport logo from '../../assets/logo.png';\n\nconst Copyright = () => {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n       {new Date().getFullYear()}\n      {\" - \"}\n      <Link color=\"inherit\" href=\"#\">\n        { nomeEmpresa } - v { versionSystem }\n      </Link>\n      {\".\"}\n    </Typography>\n  );\n};\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst Login = () => {\n  const classes = useStyles();\n\n  const [user, setUser] = useState({ email: \"\", password: \"\" });\n  const [showPassword, setShowPassword] = useState(false);\n\n  const { handleLogin } = useContext(AuthContext);\n\n  const handleChangeInput = (e) => {\n    setUser({ ...user, [e.target.name]: e.target.value });\n  };\n\n  const handlSubmit = (e) => {\n    e.preventDefault();\n    handleLogin(user);\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <img alt=\"logo\" src={logo}></img>\n        <form className={classes.form} noValidate onSubmit={handlSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label={i18n.t(\"login.form.email\")}\n            name=\"email\"\n            value={user.email}\n            onChange={handleChangeInput}\n            autoComplete=\"email\"\n            autoFocus\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label={i18n.t(\"login.form.password\")}\n            id=\"password\"\n            value={user.password}\n            onChange={handleChangeInput}\n            autoComplete=\"current-password\"\n            type={showPassword ? 'text' : 'password'}\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    aria-label=\"toggle password visibility\"\n                    onClick={() => setShowPassword((e) => !e)}\n                  >\n                    {showPassword ? <VisibilityOff /> : <Visibility />}\n                  </IconButton>\n                </InputAdornment>\n              )\n            }}\n          />\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            {i18n.t(\"login.buttons.submit\")}\n          </Button>\n          \n        </form>\n      </div>\n      <Box mt={8}><Copyright /></Box>\n    </Container>\n  );\n};\n\nexport default Login;\n","import { Dialog } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\n\nimport { GithubPicker } from \"react-color\";\n\nconst ColorPicker = ({ onChange, currentColor, handleClose, open }) => {\n  const [selectedColor, setSelectedColor] = useState(currentColor);\n  const colors = [\n    \"#B80000\",\n    \"#DB3E00\",\n    \"#FCCB00\",\n    \"#008B02\",\n    \"#006B76\",\n    \"#1273DE\",\n    \"#004DCF\",\n    \"#5300EB\",\n    \"#EB9694\",\n    \"#FAD0C3\",\n    \"#FEF3BD\",\n    \"#C1E1C5\",\n    \"#BEDADC\",\n    \"#C4DEF6\",\n    \"#BED3F3\",\n    \"#D4C4FB\",\n    \"#4D4D4D\",\n    \"#999999\",\n    \"#FFFFFF\",\n    \"#F44E3B\",\n    \"#FE9200\",\n    \"#FCDC00\",\n    \"#DBDF00\",\n    \"#A4DD00\",\n    \"#68CCCA\",\n    \"#73D8FF\",\n    \"#AEA1FF\",\n    \"#FDA1FF\",\n    \"#333333\",\n    \"#808080\",\n    \"#cccccc\",\n    \"#D33115\",\n    \"#E27300\",\n    \"#FCC400\",\n    \"#B0BC00\",\n    \"#68BC00\",\n    \"#16A5A5\",\n    \"#009CE0\",\n    \"#7B64FF\",\n    \"#FA28FF\",\n    \"#666666\",\n    \"#B3B3B3\",\n    \"#9F0500\",\n    \"#C45100\",\n    \"#FB9E00\",\n    \"#808900\",\n    \"#194D33\",\n    \"#0C797D\",\n    \"#0062B1\",\n    \"#653294\",\n    \"#AB149E\",\n  ];\n\n  const handleChange = (color) => {\n    setSelectedColor(color.hex);\n    handleClose();\n  };\n\n  return (\n    <Dialog\n      onClose={handleClose}\n      aria-labelledby=\"simple-dialog-title\"\n      open={open}\n      maxWidth=\"xs\"\n      paperFullWidth\n    >\n      <GithubPicker\n        width={\"100%\"}\n        triangle=\"hide\"\n        color={selectedColor}\n        colors={colors}\n        onChange={handleChange}\n        onChangeComplete={(color) => onChange(color.hex)}\n      />\n    </Dialog>\n  );\n};\n\nexport default ColorPicker;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n\tTooltip,\n\tTypography,\n} from \"@material-ui/core\";\n\n\nimport { green } from \"@material-ui/core/colors\";\n\nconst useStyles = makeStyles(theme => ({\n\tmainPaper: {\n\t\tflex: 1,\n\t\tpadding: theme.spacing(1),\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n\ttooltip: {\n\t\tbackgroundColor: \"#f5f5f9\",\n\t\tcolor: \"rgba(0, 0, 0, 0.87)\",\n\t\tfontSize: theme.typography.pxToRem(14),\n\t\tborder: \"1px solid #dadde9\",\n\t\tmaxWidth: 450,\n\t},\n\ttooltipPopper: {\n\t\ttextAlign: \"center\",\n\t},\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t},\n}));\n\nconst ToolTip = ({ title, content, children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Tooltip\n\t\t\tarrow\n      // placement=\"bottom\"\n\t\t\tclasses={{\n\t\t\t\ttooltip: classes.tooltip,\n\t\t\t\tpopper: classes.tooltipPopper,\n\t\t\t}}\n\t\t\ttitle={\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Typography gutterBottom color=\"inherit\">\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{content && <Typography>{content}</Typography>}\n\t\t\t\t</React.Fragment>\n\t\t\t}\n\t\t>\n\t\t\t{children}\n\t\t</Tooltip>\n\t);\n};\n\nexport default ToolTip","import React from \"react\";\nimport * as Yup from \"yup\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport StepContent from \"@material-ui/core/StepContent\";\nimport api from \"../../services/api\";\nimport Typography from \"@material-ui/core/Typography\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { IconButton } from \"@material-ui/core\";\nimport { Formik, Field, FieldArray } from \"formik\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport TextField from \"@material-ui/core/TextField\";\nimport toastError from \"../../errors/toastError\";\nimport { toast } from \"react-toastify\";\nimport HelpOutlineOutlinedIcon from \"@material-ui/icons/HelpOutlineOutlined\";\nimport CustomToolTip from \"../ToolTips\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { i18n } from \"../../translate/i18n\";\nimport Switch from \"@material-ui/core/Switch\";\nimport { FormControlLabel } from \"@material-ui/core\";\n\nconst QueueSchema = Yup.object().shape({\n  options: Yup.array()\n    .of(\n      Yup.object().shape({\n        name: Yup.string().min(4, \"too short\").required(\"Required\"),\n      })\n    )\n    .required(\"Must have friends\"),\n});\n\nconst useStyles = makeStyles((theme) => ({\n  greetingMessage: {\n    cursor: \"pointer\",\n    display: \"flex\",\n    alignItems: \"center\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n  Box: {\n    cursor: \"pointer\",\n    alignItems: \"center\",\n  },\n}));\n\nfunction getStepContent(step) {\n  return <VerticalLinearStepper chatBotId={step} />;\n}\n\nexport default function VerticalLinearStepper(props) {\n  const initialState = {\n    name: \"\",\n    greetingMessage: \"\",\n    options: [],\n  };\n\n  const classes = useStyles();\n  const [activeStep, setActiveStep] = React.useState(-1);\n  const [steps, setSteps] = React.useState(initialState);\n  const [loading, setLoading] = React.useState(false);\n  const [isStepContent, setIsStepContent] = React.useState(true);\n  const [isNameEdit, setIsNamedEdit] = React.useState(null);\n  const [isGreetingMessageEdit, setGreetingMessageEdit] = React.useState(null);\n  const [selectedQueue, setSelectedQueue] = React.useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = React.useState(false);\n\n  const handleSaveBot = async (values) => {\n    try {\n      if (props.chatBotId) {\n        await api.put(`/chatbot/${props.chatBotId}`, values);\n      } else {\n        await api.post(\"/chatbot\", values);\n      }\n      toast.success(\"Bot saved successfully\");\n      // setActiveStep(-1)\n      const { data } = await api.get(`/chatbot/${props.chatBotId}`);\n\n      setSteps(initialState);\n      setSteps(data);\n      setIsNamedEdit(null);\n      setGreetingMessageEdit(null);\n\n      setSteps(data);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  React.useEffect(() => {\n    setLoading(true);\n\n    const delayDebounceFn = setTimeout(() => {\n      const fetchList = async () => {\n        try {\n          const { data } = await api.get(`/chatbot/${props.chatBotId}`);\n          setSteps(data);\n          setLoading(false);\n        } catch (err) {\n          console.log(err);\n        }\n      };\n      fetchList();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [props.chatBotId]);\n\n  React.useEffect(() => {\n    if (activeStep === isNameEdit) {\n      setIsStepContent(false);\n    } else {\n      setIsStepContent(true);\n    }\n  }, [isNameEdit, activeStep]);\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleDeleteQueue = async (queueId) => {\n    try {\n      await api.delete(`/chatbot/${queueId}`);\n      const { data } = await api.get(`/chatbot/${props.chatBotId}`);\n      setSteps(initialState);\n      setSteps(data);\n      setIsNamedEdit(null);\n      setGreetingMessageEdit(null);\n      setSteps(data);\n      toast.success(i18n.t(\"Queue deleted successfully!\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setSelectedQueue(null);\n  };\n\n  return (\n    <div className={classes.root}>\n      <ConfirmationModal\n        title={\n          selectedQueue &&\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${\n            selectedQueue.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\n      >\n        {i18n.t(\"Tem certeza? Todas as opes internas tambm sero excludas\")}\n      </ConfirmationModal>\n\n      {!loading && (\n        <div>\n          <Formik\n            initialValues={steps}\n            validateOnChange={false}\n            enableReinitialize={true}\n            validationSchema={QueueSchema}\n            render={({\n              touched,\n              errors,\n              isSubmitting,\n              values,\n              handleSubmit,\n            }) => (\n              <FieldArray name=\"options\">\n                {({ push, remove }) => (\n                  <>\n                    <Stepper\n                      nonLinear\n                      activeStep={activeStep}\n                      orientation=\"vertical\"\n                    >\n                      {values.options &&\n                        values.options.length > 0 &&\n                        values.options.map((info, index) => (\n                          <Step\n                            key={`${info.id ? info.id : index}-options`}\n                            onClick={() => setActiveStep(index)}\n                          >\n                            <StepLabel key={`${info.id}-options`}>\n                              {isNameEdit !== index &&\n                              steps.options[index]?.name ? (\n                                <div\n                                  className={classes.greetingMessage}\n                                  variant=\"body1\"\n                                >\n                                  {values.options[index].name}\n\n                                  <IconButton\n                                    size=\"small\"\n                                    onClick={() => {\n                                      setIsNamedEdit(index);\n                                      setIsStepContent(false);\n                                    }}\n                                  >\n                                    <EditIcon />\n                                  </IconButton>\n\n                                  <IconButton\n                                    onClick={() => {\n                                      setSelectedQueue(info);\n                                      setConfirmModalOpen(true);\n                                    }}\n                                    size=\"small\"\n                                  >\n                                    <DeleteOutline />\n                                  </IconButton>\n                                </div>\n                              ) : (\n                                <>\n                                  <Field\n                                    as={TextField}\n                                    name={`options[${index}].name`}\n                                    variant=\"standard\"\n                                    color=\"primary\"\n                                    disabled={isSubmitting}\n                                    autoFocus\n                                    error={\n                                      touched?.options?.[index]?.name &&\n                                      Boolean(errors.options?.[index]?.name)\n                                    }\n                                    className={classes.textField}\n                                  />\n\n                                  <FormControlLabel\n                                    control={\n                                      <Field\n                                        as={Switch}\n                                        color=\"primary\"\n                                        name={`options[${index}].isAgent`}\n                                        checked={\n                                          values.options[index].isAgent || false\n                                        }\n                                      />\n                                    }\n                                    label=\"Atendente\"\n                                  />\n\n                                  <IconButton\n                                    size=\"small\"\n                                    onClick={() =>\n                                      values.options[index].name\n                                        ? handleSaveBot(values)\n                                        : null\n                                    }\n                                    disabled={isSubmitting}\n                                  >\n                                    <SaveIcon />\n                                  </IconButton>\n\n                                  <IconButton\n                                    size=\"small\"\n                                    onClick={() => remove(index)}\n                                    disabled={isSubmitting}\n                                  >\n                                    <DeleteOutline />\n                                  </IconButton>\n                                </>\n                              )}\n                            </StepLabel>\n\n                            {isStepContent && steps.options[index] && (\n                              <StepContent>\n                                <>\n                                  {isGreetingMessageEdit !== index ? (\n                                    <div className={classes.greetingMessage}>\n                                      <Typography\n                                        color=\"textSecondary\"\n                                        variant=\"body1\"\n                                      >\n                                        Message:\n                                      </Typography>\n\n                                      {values.options[index].greetingMessage}\n\n                                      {!steps.options[index]\n                                        ?.greetingMessage && (\n                                        <CustomToolTip\n                                          title=\"A mensagem  obrigatria para seguir ao prximo nvel\"\n                                          content=\"Se a mensagem no estiver definida, o bot no seguir adiante\"\n                                        >\n                                          <HelpOutlineOutlinedIcon\n                                            color=\"secondary\"\n                                            style={{ marginLeft: \"4px\" }}\n                                            fontSize=\"small\"\n                                          />\n                                        </CustomToolTip>\n                                      )}\n\n                                      <IconButton\n                                        size=\"small\"\n                                        onClick={() =>\n                                          setGreetingMessageEdit(index)\n                                        }\n                                      >\n                                        <EditIcon />\n                                      </IconButton>\n                                    </div>\n                                  ) : (\n                                    <div className={classes.greetingMessage}>\n                                      <Field\n                                        as={TextField}\n                                        name={`options[${index}].greetingMessage`}\n                                        variant=\"standard\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                        multiline\n                                        error={\n                                          touched.greetingMessage &&\n                                          Boolean(errors.greetingMessage)\n                                        }\n                                        helperText={\n                                          touched.greetingMessage &&\n                                          errors.greetingMessage\n                                        }\n                                        className={classes.textField}\n                                      />\n\n                                      <IconButton\n                                        size=\"small\"\n                                        onClick={() => handleSaveBot(values)}\n                                        disabled={isSubmitting}\n                                      >\n                                        {\" \"}\n                                        <SaveIcon />\n                                      </IconButton>\n                                    </div>\n                                  )}\n\n                                  {getStepContent(info.id)}\n                                </>\n                              </StepContent>\n                            )}\n                          </Step>\n                        ))}\n\n                      <Step>\n                        <StepLabel\n                          onClick={() =>\n                            push({\n                              name: undefined,\n                              greetingMessage: undefined,\n                            })\n                          }\n                        >\n                          Adiconar opes\n                        </StepLabel>\n                      </Step>\n                    </Stepper>\n                  </>\n                )}\n              </FieldArray>\n            )}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { FormControlLabel } from \"@material-ui/core\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport HelpOutlineOutlinedIcon from \"@material-ui/icons/HelpOutlineOutlined\";\nimport { i18n } from \"../../translate/i18n\";\nimport Switch from \"@material-ui/core/Switch\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport ColorPicker from \"../ColorPicker\";\nimport { IconButton, InputAdornment } from \"@material-ui/core\";\nimport { Colorize } from \"@material-ui/icons\";\nimport Typography from \"@material-ui/core/Typography\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport StepContent from \"@material-ui/core/StepContent\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport OptionsChatBot from \"../ChatBots/options\";\nimport CustomToolTip from \"../ToolTips\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  colorAdorment: {\n    width: 20,\n    height: 20,\n  },\n  greetingMessage: {\n    cursor: \"pointer\",\n    display: \"flex\",\n    alignItems: \"center\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n  custom: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst QueueSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  color: Yup.string().min(3, \"Too Short!\").max(9, \"Too Long!\").required(),\n  greetingMessage: Yup.string(),\n  chatbots: Yup.array()\n    .of(\n      Yup.object().shape({\n        name: Yup.string().min(4, \"too short\").required(\"Required\"),\n      })\n    )\n    .required(\"Must have friends\"),\n});\n\nconst QueueModal = ({ open, onClose, queueId, onEdit }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    name: \"\",\n    color: \"\",\n    greetingMessage: \"\",\n    chatbots: [],\n  };\n\n  const [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\n  const [queue, setQueue] = useState(initialState);\n  const greetingRef = useRef();\n  const [activeStep, setActiveStep] = React.useState(null);\n  const [selectedQueue, setSelectedQueue] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [isStepContent, setIsStepContent] = React.useState(true);\n  const [isNameEdit, setIsNamedEdit] = React.useState(null);\n  const [isGreetingMessageEdit, setGreetingMessageEdit] = React.useState(null);\n\n  useEffect(() => {\n    (async () => {\n      if (!queueId) return;\n      try {\n        const { data } = await api.get(`/queue/${queueId}`);\n        setQueue((prevState) => {\n          return { ...prevState, ...data };\n        });\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n\n    return () => {\n      setQueue({\n        name: \"\",\n        color: \"\",\n        greetingMessage: \"\",\n        chatbots: [],\n      });\n    };\n  }, [queueId, open]);\n\n  useEffect(() => {\n    console.log(activeStep);\n    console.log(isNameEdit);\n\n    if (activeStep === isNameEdit) {\n      setIsStepContent(false);\n    } else {\n      setIsStepContent(true);\n    }\n  }, [isNameEdit, activeStep]);\n\n  const handleClose = () => {\n    onClose();\n    setIsNamedEdit(null);\n    setActiveStep(null);\n    setGreetingMessageEdit(null);\n  };\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleDeleteQueue = async (optionsId) => {\n    try {\n      await api.delete(`/chatbot/${optionsId}`);\n      const { data } = await api.get(`/queue/${queueId}`);\n      setQueue(initialState);\n      setQueue(data);\n      setIsNamedEdit(null);\n      setGreetingMessageEdit(null);\n      toast.success(i18n.t(\"Queue deleted successfully!\"));\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleSaveQueue = async (values) => {\n    try {\n      console.log(queueId);\n      if (queueId) {\n        await api.put(`/queue/${queueId}`, values);\n      } else {\n        await api.post(\"/queue\", values);\n      }\n\n      toast.success(\"Queue saved successfully\");\n      handleClose();\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  // const handleSaveBot = async (values) => {\n  //   try {\n  //     if (queueId) {\n  //       const { data } = await api.put(`/queue/${queueId}`, values);\n  //       console.log(data)\n  //       setQueue(initialState);\n  //       setQueue(data);\n  //       setIsNamedEdit(null);\n  //       setGreetingMessageEdit(null);\n  //       setQueue(data);\n  //       toast.success(\"Queue saved successfully\");\n  //     } else {\n  //       const { data } = await api.post(\"/queue\", values);\n  //       console.log(data)\n  //       setQueue(initialState);\n  //       setQueue(data);\n  //       setIsNamedEdit(null);\n  //       setGreetingMessageEdit(null);\n  //       setQueue(data);\n  //       toast.success(\"Queue saved successfully\");\n  //     }\n\n  //   } catch (err) {\n  //     toastError(err);\n  //   }\n  // };\n\n  \tconst handleSaveBot = async (values) => {\n    try {\n      if (queueId) {\n        const {data} = await api.put(`/queue/${queueId}`, values);\n\t\t\t\tif (data.chatbots && data.chatbots.length) {\n          onEdit(data);\n\t\t\t\t\tsetQueue(data);\n        }\n      } else {\n        const { data } = await api.post(\"/queue\", values);\n        if (data.chatbots && data.chatbots.length) {\n\t\t\t\t\tsetQueue(data);\n          onEdit(data);\n\t\t\t\t\thandleClose();\n        }\n      }\n\n\t\t\tsetIsNamedEdit(null)\n\t\t\tsetGreetingMessageEdit(null)\n      toast.success(\"Queue saved successfully\");\n     \n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n\n  return (\n    <div className={classes.root}>\n      <ConfirmationModal\n        title={\n          selectedQueue &&\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${\n            selectedQueue.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\n      >\n        {i18n.t(\"Tem certeza? Todas as opes internas tambm sero excludas\")}\n      </ConfirmationModal>\n      <Dialog\n        maxWidth=\"md\"\n        fullWidth\n        open={open}\n        onClose={handleClose}\n        scroll=\"paper\"\n      >\n        <DialogTitle>\n          {queueId\n            ? `${i18n.t(\"queueModal.title.edit\")}`\n            : `${i18n.t(\"queueModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={queue}\n          validateOnChange={false}\n          enableReinitialize={true}\n          validationSchema={QueueSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveQueue(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ handleChange, touched, errors, isSubmitting, values }) => (\n            <Form>\n              <DialogContent dividers>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"queueModal.form.name\")}\n                  autoFocus\n                  name=\"name\"\n                  error={touched.name && Boolean(errors.name)}\n                  helperText={touched.name && errors.name}\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  className={classes.textField}\n                />\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"queueModal.form.color\")}\n                  name=\"color\"\n                  id=\"color\"\n                  onFocus={() => {\n                    setColorPickerModalOpen(true);\n                    greetingRef.current.focus();\n                  }}\n                  error={touched.color && Boolean(errors.color)}\n                  helperText={touched.color && errors.color}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <div\n                          style={{ backgroundColor: values.color }}\n                          className={classes.colorAdorment}\n                        ></div>\n                      </InputAdornment>\n                    ),\n                    endAdornment: (\n                      <IconButton\n                        size=\"small\"\n                        color=\"default\"\n                        onClick={() => setColorPickerModalOpen(true)}\n                      >\n                        <Colorize />\n                      </IconButton>\n                    ),\n                  }}\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                />\n                <ColorPicker\n                  open={colorPickerModalOpen}\n                  handleClose={() => setColorPickerModalOpen(false)}\n                  onChange={(color) => {\n                    values.color = color;\n                    setQueue(() => {\n                      return { ...values, color };\n                    });\n                  }}\n                />\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.greetingMessage\")}\n                    type=\"greetingMessage\"\n                    multiline\n                    inputRef={greetingRef}\n                    minRows={5}\n                    fullWidth\n                    name=\"greetingMessage\"\n                    error={\n                      touched.greetingMessage && Boolean(errors.greetingMessage)\n                    }\n                    helperText={\n                      touched.greetingMessage && errors.greetingMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n\n                <Typography variant=\"subtitle1\">\n                  Opes\n                  <CustomToolTip\n                    title=\"Adicione opes para construir um chatbot\"\n                    content=\"Se houver apenas uma opo, ela ser escolhida automaticamente, fazendo com que o bot responda com a mensagem da opo e siga adiante\"\n                  >\n                    <HelpOutlineOutlinedIcon\n                      style={{ marginLeft: \"14px\" }}\n                      fontSize=\"small\"\n                    />\n                  </CustomToolTip>\n                </Typography>\n\n                <div>\n                  <FieldArray name=\"chatbots\">\n                    {({ push, remove }) => (\n                      <>\n                        <Stepper\n                          nonLinear\n                          activeStep={activeStep}\n                          orientation=\"vertical\"\n                        >\n                          {values.chatbots &&\n                            values.chatbots.length > 0 &&\n                            values.chatbots.map((info, index) => (\n                              <Step\n                                key={`${info.id ? info.id : index}-chatbots`}\n                                onClick={() => setActiveStep(index)}\n                              >\n                                <StepLabel key={`${info.id}-chatbots`}>\n                                  {isNameEdit !== index &&\n                                  queue.chatbots[index]?.name ? (\n                                    <div\n                                      className={classes.greetingMessage}\n                                      variant=\"body1\"\n                                    >\n                                      {values.chatbots[index].name}\n\n                                      <IconButton\n                                        size=\"small\"\n                                        onClick={() => {\n                                          setIsNamedEdit(index);\n                                          setIsStepContent(false);\n                                        }}\n                                      >\n                                        <EditIcon />\n                                      </IconButton>\n\n                                      <IconButton\n                                        onClick={() => {\n                                          setSelectedQueue(info);\n                                          setConfirmModalOpen(true);\n                                        }}\n                                        size=\"small\"\n                                      >\n                                        <DeleteOutline />\n                                      </IconButton>\n                                    </div>\n                                  ) : (\n                                    <>\n                                      <Field\n                                        as={TextField}\n                                        name={`chatbots[${index}].name`}\n                                        variant=\"standard\"\n                                        color=\"primary\"\n                                        disabled={isSubmitting}\n                                        autoFocus\n                                        error={\n                                          touched?.chatbots?.[index]?.name &&\n                                          Boolean(\n                                            errors.chatbots?.[index]?.name\n                                          )\n                                        }\n                                        className={classes.textField}\n                                      />\n\n                                      <FormControlLabel\n                                        control={\n                                          <Field\n                                            as={Switch}\n                                            color=\"primary\"\n                                            name={`chatbots[${index}].isAgent`}\n                                            checked={\n                                              values.chatbots[index].isAgent ||\n                                              false\n                                            }\n                                          />\n                                        }\n                                        label=\"Atendente\"\n                                      />\n\n                                      <IconButton\n                                        size=\"small\"\n                                        onClick={() =>\n                                          values.chatbots[index].name\n                                            ? handleSaveBot(values)\n                                            : null\n                                        }\n                                        disabled={isSubmitting}\n                                      >\n                                        <SaveIcon />\n                                      </IconButton>\n\n                                      <IconButton\n                                        size=\"small\"\n                                        onClick={() => remove(index)}\n                                        disabled={isSubmitting}\n                                      >\n                                        <DeleteOutline />\n                                      </IconButton>\n                                    </>\n                                  )}\n                                </StepLabel>\n\n                                {isStepContent && queue.chatbots[index] && (\n                                  <StepContent>\n                                    <>\n                                      {isGreetingMessageEdit !== index ? (\n                                        <div\n                                          className={classes.greetingMessage}\n                                        >\n                                          <Typography\n                                            color=\"textSecondary\"\n                                            variant=\"body1\"\n                                          >\n                                            Message:\n                                          </Typography>\n\n                                          {\n                                            values.chatbots[index]\n                                              .greetingMessage\n                                          }\n\n                                          {!queue.chatbots[index]\n                                            ?.greetingMessage && (\n                                            <CustomToolTip\n                                              title=\"A mensagem  obrigatria para seguir ao prximo nvel\"\n                                              content=\"Se a mensagem no estiver definida, o bot no seguir adiante\"\n                                            >\n                                              <HelpOutlineOutlinedIcon\n                                                color=\"secondary\"\n                                                style={{ marginLeft: \"4px\" }}\n                                                fontSize=\"small\"\n                                              />\n                                            </CustomToolTip>\n                                          )}\n\n                                          <IconButton\n                                            size=\"small\"\n                                            onClick={() =>\n                                              setGreetingMessageEdit(index)\n                                            }\n                                          >\n                                            <EditIcon />\n                                          </IconButton>\n                                        </div>\n                                      ) : (\n                                        <div\n                                          className={classes.greetingMessage}\n                                        >\n                                          <Field\n                                            as={TextField}\n                                            name={`chatbots[${index}].greetingMessage`}\n                                            variant=\"standard\"\n                                            margin=\"dense\"\n                                            fullWidth\n                                            multiline\n                                            error={\n                                              touched.greetingMessage &&\n                                              Boolean(errors.greetingMessage)\n                                            }\n                                            helperText={\n                                              touched.greetingMessage &&\n                                              errors.greetingMessage\n                                            }\n                                            className={classes.textField}\n                                          />\n\n                                          <IconButton\n                                            size=\"small\"\n                                            onClick={() =>\n                                              handleSaveBot(values)\n                                            }\n                                            disabled={isSubmitting}\n                                          >\n                                            {\" \"}\n                                            <SaveIcon />\n                                          </IconButton>\n                                        </div>\n                                      )}\n\n                                      <OptionsChatBot chatBotId={info.id} />\n                                    </>\n                                  </StepContent>\n                                )}\n                              </Step>\n                            ))}\n\n                          <Step>\n                            <StepLabel\n                            onClick={() => push({ name: \"\", value: \"\" })}\n                            >\n                              Adiconar opes\n                            </StepLabel>\n                          </Step>\n                        </Stepper>\n                      </>\n                    )}\n                  </FieldArray>\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  // color=\"secondary\"\n                  disabled={isSubmitting}\n                  // variant=\"outlined\"\n                >\n                  {i18n.t(\"queueModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {queueId\n                    ? `${i18n.t(\"queueModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"queueModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default QueueModal;\n","import React, { useEffect, useReducer, useState } from \"react\";\n\nimport openSocket from \"socket.io-client\";\n\nimport {\n  Button,\n  IconButton,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Typography,\n} from \"@material-ui/core\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\nimport QueueModal from \"../../components/QueueModal\";\nimport { toast } from \"react-toastify\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUEUES\") {\n    const queues = action.payload;\n    const newQueues = [];\n\n    queues.forEach((queue) => {\n      const queueIndex = state.findIndex((q) => q.id === queue.id);\n      if (queueIndex !== -1) {\n        state[queueIndex] = queue;\n      } else {\n        newQueues.push(queue);\n      }\n    });\n\n    return [...state, ...newQueues];\n  }\n\n  if (action.type === \"UPDATE_QUEUES\") {\n    const queue = action.payload;\n    const queueIndex = state.findIndex((u) => u.id === queue.id);\n\n    if (queueIndex !== -1) {\n      state[queueIndex] = queue;\n      return [...state];\n    } else {\n      return [queue, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUEUE\") {\n    const queueId = action.payload;\n    const queueIndex = state.findIndex((q) => q.id === queueId);\n    if (queueIndex !== -1) {\n      state.splice(queueIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst Queues = () => {\n  const classes = useStyles();\n\n  const [queues, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(false);\n\n  const [queueModalOpen, setQueueModalOpen] = useState(false);\n  const [selectedQueue, setSelectedQueue] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const { data } = await api.get(\"/queue\");\n        dispatch({ type: \"LOAD_QUEUES\", payload: data });\n\n        setLoading(false);\n      } catch (err) {\n        toastError(err);\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    const token = JSON.parse(localStorage.getItem(\"token\"));\n\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL, {query: {token}});\n    socket.on(\"connect\", () => {\n      socket.emit(\"joinCompany\")\n    });\n\n    socket.on(\"queue\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUEUES\", payload: data.queue });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_QUEUE\", payload: data.queueId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenQueueModal = () => {\n    setQueueModalOpen(true);\n    setSelectedQueue(null);\n  };\n\n\n  const handleCloseQueueModal = () => {\n    console.log('fechou modal')\n    setQueueModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleEditQueue = (queue) => {\n    setSelectedQueue(queue);\n    setQueueModalOpen(true);\n  };\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleDeleteQueue = async (queueId) => {\n    try {\n      await api.delete(`/queue/${queueId}`);\n      toast.success(i18n.t(\"Queue deleted successfully!\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setSelectedQueue(null);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          selectedQueue &&\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${\n            selectedQueue.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\n      >\n        {i18n.t(\"queues.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QueueModal\n        open={queueModalOpen}\n        onClose={handleCloseQueueModal}\n        queueId={selectedQueue?.id}\n        onEdit={(res) => {\n          if(res) {\n              setTimeout(() => {\n                // setQueueModalOpen(true)\n                // setSelectedQueue(res.id)\n                handleEditQueue(res)\n                // handleOpenQueueModalChatbot(res.id)\n              }, 200)\n          }\n        }}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"queues.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenQueueModal}\n          >\n            {i18n.t(\"queues.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.name\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.color\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.greeting\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {queues.map((queue) => (\n                <TableRow key={queue.id}>\n                  <TableCell align=\"center\">{queue.name}</TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <span\n                        style={{\n                          backgroundColor: queue.color,\n                          width: 60,\n                          height: 20,\n                          alignSelf: \"center\",\n                        }}\n                      />\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <Typography\n                        style={{ width: 300, align: \"center\" }}\n                        noWrap\n                        variant=\"body2\"\n                      >\n                        {queue.greetingMessage}\n                      </Typography>\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditQueue(queue)}\n                    >\n                      <Edit />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => {\n                        setSelectedQueue(queue);\n                        setConfirmModalOpen(true);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Queues;","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n  makeStyles,\n  Button,\n  TextField,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { green } from \"@material-ui/core/colors\";\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    width: \"100%\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  textQuickAnswerContainer: {\n    width: \"100%\",\n  },\n}));\n\nconst QuickAnswerSchema = Yup.object().shape({\n  shortcut: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(15, \"Too Long!\")\n    .required(\"Required\"),\n  message: Yup.string()\n    .min(8, \"Too Short!\")\n    .max(30000, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst QuickAnswersModal = ({\n  open,\n  onClose,\n  quickAnswerId,\n  initialValues,\n  onSave,\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const initialState = {\n    shortcut: \"\",\n    message: \"\",\n  };\n\n  const [quickAnswer, setQuickAnswer] = useState(initialState);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    const fetchQuickAnswer = async () => {\n      if (initialValues) {\n        setQuickAnswer((prevState) => {\n          return { ...prevState, ...initialValues };\n        });\n      }\n\n      if (!quickAnswerId) return;\n\n      try {\n        const { data } = await api.get(`/quickAnswers/${quickAnswerId}`);\n        if (isMounted.current) {\n          setQuickAnswer(data);\n        }\n      } catch (err) {\n        toastError(err);\n      }\n    };\n\n    fetchQuickAnswer();\n  }, [quickAnswerId, open, initialValues]);\n\n  const handleClose = () => {\n    onClose();\n    setQuickAnswer(initialState);\n  };\n\n  const handleSaveQuickAnswer = async (values) => {\n    try {\n      if (quickAnswerId) {\n        await api.put(`/quickAnswers/${quickAnswerId}`, values);\n        handleClose();\n      } else {\n        const { data } = await api.post(\"/quickAnswers\", values);\n        if (onSave) {\n          onSave(data);\n        }\n        handleClose();\n      }\n      toast.success(i18n.t(\"quickAnswersModal.success\"));\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"sm\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {quickAnswerId\n            ? `${i18n.t(\"quickAnswersModal.title.edit\")}`\n            : `${i18n.t(\"quickAnswersModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={quickAnswer}\n          enableReinitialize={true}\n          validationSchema={QuickAnswerSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveQuickAnswer(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, errors, touched, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.textQuickAnswerContainer}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"quickAnswersModal.form.shortcut\")}\n                    name=\"shortcut\"\n                    autoFocus\n                    error={touched.shortcut && Boolean(errors.shortcut)}\n                    helperText={touched.shortcut && errors.shortcut}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    className={classes.textField}\n                    fullWidth\n                  />\n                </div>\n                <div className={classes.textQuickAnswerContainer}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"quickAnswersModal.form.message\")}\n                    name=\"message\"\n                    error={touched.message && Boolean(errors.message)}\n                    helperText={touched.message && errors.message}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    className={classes.textField}\n                    multiline\n                    rows={5}\n                    fullWidth\n                  />\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"quickAnswersModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {quickAnswerId\n                    ? `${i18n.t(\"quickAnswersModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"quickAnswersModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default QuickAnswersModal;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport openSocket from \"../../services/socket-io\";\n\nimport {\n  Button,\n  IconButton,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  InputAdornment,\n  TextField,\n} from \"@material-ui/core\";\nimport { Edit, DeleteOutline } from \"@material-ui/icons\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport QuickAnswersModal from \"../../components/QuickAnswersModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport { toast } from \"react-toastify\";\nimport toastError from \"../../errors/toastError\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUICK_ANSWERS\") {\n    const quickAnswers = action.payload;\n    const newQuickAnswers = [];\n\n    quickAnswers.forEach((quickAnswer) => {\n      const quickAnswerIndex = state.findIndex((q) => q.id === quickAnswer.id);\n      if (quickAnswerIndex !== -1) {\n        state[quickAnswerIndex] = quickAnswer;\n      } else {\n        newQuickAnswers.push(quickAnswer);\n      }\n    });\n\n    return [...state, ...newQuickAnswers];\n  }\n\n  if (action.type === \"UPDATE_QUICK_ANSWERS\") {\n    const quickAnswer = action.payload;\n    const quickAnswerIndex = state.findIndex((q) => q.id === quickAnswer.id);\n\n    if (quickAnswerIndex !== -1) {\n      state[quickAnswerIndex] = quickAnswer;\n      return [...state];\n    } else {\n      return [quickAnswer, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUICK_ANSWERS\") {\n    const quickAnswerId = action.payload;\n\n    const quickAnswerIndex = state.findIndex((q) => q.id === quickAnswerId);\n    if (quickAnswerIndex !== -1) {\n      state.splice(quickAnswerIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst QuickAnswers = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [quickAnswers, dispatch] = useReducer(reducer, []);\n  const [selectedQuickAnswers, setSelectedQuickAnswers] = useState(null);\n  const [quickAnswersModalOpen, setQuickAnswersModalOpen] = useState(false);\n  const [deletingQuickAnswers, setDeletingQuickAnswers] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchQuickAnswers = async () => {\n        try {\n          const { data } = await api.get(\"/quickAnswers/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_QUICK_ANSWERS\", payload: data.quickAnswers });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchQuickAnswers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const socket = openSocket();\n\n    socket.on(\"quickAnswer\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUICK_ANSWERS\", payload: data.quickAnswer });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({\n          type: \"DELETE_QUICK_ANSWERS\",\n          payload: +data.quickAnswerId,\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenQuickAnswersModal = () => {\n    setSelectedQuickAnswers(null);\n    setQuickAnswersModalOpen(true);\n  };\n\n  const handleCloseQuickAnswersModal = () => {\n    setSelectedQuickAnswers(null);\n    setQuickAnswersModalOpen(false);\n  };\n\n  const handleEditQuickAnswers = (quickAnswer) => {\n    setSelectedQuickAnswers(quickAnswer);\n    setQuickAnswersModalOpen(true);\n  };\n\n  const handleDeleteQuickAnswers = async (quickAnswerId) => {\n    try {\n      await api.delete(`/quickAnswers/${quickAnswerId}`);\n      toast.success(i18n.t(\"quickAnswers.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingQuickAnswers(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingQuickAnswers &&\n          `${i18n.t(\"quickAnswers.confirmationModal.deleteTitle\")} ${\n            deletingQuickAnswers.shortcut\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteQuickAnswers(deletingQuickAnswers.id)}\n      >\n        {i18n.t(\"quickAnswers.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QuickAnswersModal\n        open={quickAnswersModalOpen}\n        onClose={handleCloseQuickAnswersModal}\n        aria-labelledby=\"form-dialog-title\"\n        quickAnswerId={selectedQuickAnswers && selectedQuickAnswers.id}\n      ></QuickAnswersModal>\n      <MainHeader>\n        <Title>{i18n.t(\"quickAnswers.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"quickAnswers.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenQuickAnswersModal}\n          >\n            {i18n.t(\"quickAnswers.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickAnswers.table.shortcut\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickAnswers.table.message\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickAnswers.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {quickAnswers.map((quickAnswer) => (\n                <TableRow key={quickAnswer.id}>\n                  <TableCell align=\"center\">{quickAnswer.shortcut}</TableCell>\n                  <TableCell align=\"center\">{quickAnswer.message}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditQuickAnswers(quickAnswer)}\n                    >\n                      <Edit />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingQuickAnswers(quickAnswer);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default QuickAnswers;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { FormControl } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport moment from \"moment\"\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { isArray, capitalize } from \"lodash\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst ScheduleSchema = Yup.object().shape({\n\tbody: Yup.string()\n\t\t.min(5, \"Mensagem muito curta\")\n\t\t.required(\"Obrigatrio\"),\n\tcontactId: Yup.number().required(\"Obrigatrio\"),\n\tsendAt: Yup.string().required(\"Obrigatrio\")\n});\n\nconst ScheduleModal = ({ open, onClose, scheduleId, contactId, cleanContact, reload, setContactId }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst { user } = useContext(AuthContext);\n\n\tconst initialState = {\n\t\tbody: \"\",\n\t\tcontactId: \"\",\n\t\tsendAt: moment().add(1, 'hour').format('YYYY-MM-DDTHH:mm'),\n\t\tsentAt: \"\"\n\t};\n\n\tconst initialContact = {\n\t\tid: \"\",\n\t\tname: \"\"\n\t}\n\n\tconst [schedule, setSchedule] = useState(initialState);\n\tconst [currentContact, setCurrentContact] = useState(initialContact);\n\tconst [contacts, setContacts] = useState([initialContact]);\n\n\tuseEffect(() => {\n\t\tif (contactId && contacts.length) {\n\t\t\tconst contact = contacts.find(c => c.id === contactId);\n\t\t\tif (contact) {\n\t\t\t\tsetCurrentContact(contact);\n\t\t\t}\n\t\t}\n\t}, [contactId, contacts]);\n\n\tuseEffect(() => {\n\t\ttry {\n\t\t\t(async () => {\n\t\t\t\tconst { data: contactList } = await api.get('/contacts/list');\n\t\t\t\tlet customList = contactList.map((c) => ({id: c.id, name: c.name}));\n\t\t\t\tif (isArray(customList)) {\n\t\t\t\t\tsetContacts([{id: \"\", name: \"\"}, ...customList]);\n\t\t\t\t}\n\t\t\t\tif (contactId) {\n\t\t\t\t\tsetSchedule(prevState => {\n\t\t\t\t\t\treturn { ...prevState, contactId }\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (!scheduleId) return;\n\n\t\t\t\tconst { data } = await api.get(`/schedules/${scheduleId}`);\n\t\t\t\tsetSchedule(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data, sendAt: moment(data.sendAt).format('YYYY-MM-DDTHH:mm') };\n\t\t\t\t});\n\t\t\t\tsetCurrentContact(data.contact);\n\t\t\t})()\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t}, [scheduleId, contactId, open]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetSchedule(initialState);\n\t};\n\n\tconst handleSaveSchedule = async values => {\n\t\tconst scheduleData = { ...values, userId: user.id };\n\t\ttry {\n\t\t\tif (scheduleId) {\n\t\t\t\tawait api.put(`/schedules/${scheduleId}`, scheduleData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/schedules\", scheduleData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"scheduleModal.success\"));\n\t\t\tif (typeof reload == 'function') {\n\t\t\t\treload();\n\t\t\t}\n\t\t\tsetCurrentContact(initialContact);\n\t\t\tsetSchedule(initialState);\n\t\t\thistory.push('/schedules')\n\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{schedule.status === 'ERRO' ? 'Erro de Envio' : `Mensagem ${capitalize(schedule.status)}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={schedule}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={ScheduleSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveSchedule(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, values }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvalue={currentContact}\n\t\t\t\t\t\t\t\t\t\t\toptions={contacts}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e, contact) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst contactId = contact ? contact.id : '';\n\t\t\t\t\t\t\t\t\t\t\t\tsetSchedule({ ...schedule, contactId });\n\t\t\t\t\t\t\t\t\t\t\t\tsetCurrentContact(contact ? contact : initialContact);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option.name}\n\t\t\t\t\t\t\t\t\t\t\tgetOptionSelected={(option, value) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn value.id === option.id\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} variant=\"outlined\" placeholder=\"Contato\" />}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\trows={9}\n\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.body\")}\n\t\t\t\t\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\t\t\t\t\terror={touched.body && Boolean(errors.body)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.body && errors.body}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.sendAt\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"datetime-local\"\n\t\t\t\t\t\t\t\t\t\tname=\"sendAt\"\n\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\t\t\t  shrink: true,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\terror={touched.sendAt && Boolean(errors.sendAt)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.sendAt && errors.sendAt}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"scheduleModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{ (schedule.sentAt === null || schedule.sentAt === \"\") && (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{scheduleId\n\t\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"scheduleModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"scheduleModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default ScheduleModal;\n","import React, { useState, useEffect, useReducer, useCallback } from \"react\";\nimport { toast } from \"react-toastify\";\nimport openSocket from \"socket.io-client\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ScheduleModal from \"../../components/ScheduleModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport moment from 'moment';\nimport { capitalize } from 'lodash';\n\n// A custom hook that builds on useLocation to parse\n// the query string for you.\nconst getUrlParam = (param) => {\n  return (new URLSearchParams(window.location.search)).get(param)\n}\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_SCHEDULES\") {\n    const schedules = action.payload;\n    const newSchedules = [];\n\n    schedules.forEach((schedule) => {\n      const scheduleIndex = state.findIndex((s) => s.id === schedule.id);\n      if (scheduleIndex !== -1) {\n        state[scheduleIndex] = schedule;\n      } else {\n        newSchedules.push(schedule);\n      }\n    });\n\n    return [...state, ...newSchedules];\n  }\n\n  if (action.type === \"UPDATE_SCHEDULES\") {\n    const schedule = action.payload;\n    const scheduleIndex = state.findIndex((s) => s.id === schedule.id);\n\n    if (scheduleIndex !== -1) {\n      state[scheduleIndex] = schedule;\n      return [...state];\n    } else {\n      return [schedule, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_SCHEDULE\") {\n    const scheduleId = action.payload;\n\n    const scheduleIndex = state.findIndex((s) => s.id === scheduleId);\n    if (scheduleIndex !== -1) {\n      state.splice(scheduleIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Schedules = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedSchedule, setSelectedSchedule] = useState(null);\n  const [deletingSchedule, setDeletingSchedule] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [schedules, dispatch] = useReducer(reducer, []);\n  const [scheduleModalOpen, setScheduleModalOpen] = useState(false);\n  const [contactId, setContactId] = useState(+getUrlParam('contactId'));\n\n  const fetchSchedules = useCallback(async() => {\n    try {\n      const { data } = await api.get(\"/schedules/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_SCHEDULES\", payload: data.schedules });\n      setHasMore(data.hasMore);\n      setContactId(null);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  }, [searchParam, pageNumber]);\n\n  const handleOpenScheduleModalFromContactId = useCallback(() => {\n    if (contactId) {\n      handleOpenScheduleModal();\n    }\n  }, [contactId]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchSchedules();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber, contactId, fetchSchedules, handleOpenScheduleModalFromContactId]);\n\n  useEffect(() => {\n    handleOpenScheduleModalFromContactId();\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n    socket.on(\"user\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_SCHEDULES\", payload: data.schedules });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.scheduleId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [handleOpenScheduleModalFromContactId]);\n\n  const cleanContact = () => {\n    setContactId(null);\n  }\n\n  const handleOpenScheduleModal = () => {\n    setSelectedSchedule(null);\n    setScheduleModalOpen(true);\n  };\n\n  const handleCloseScheduleModal = () => {\n    setSelectedSchedule(null);\n    setScheduleModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditSchedule = (schedule) => {\n    setSelectedSchedule(schedule);\n    setScheduleModalOpen(true);\n  };\n\n  const handleDeleteSchedule = async (scheduleId) => {\n    try {\n      await api.delete(`/schedules/${scheduleId}`);\n      toast.success(i18n.t(\"schedules.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingSchedule(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n    await fetchSchedules();\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const truncate = (str, len) => {\n    if (str.length > len) {\n      return str.substring(0, len) + '...';\n    }\n    return str;\n  }\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingSchedule &&\n          `${i18n.t(\"schedules.confirmationModal.deleteTitle\")}`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteSchedule(deletingSchedule.id)}\n      >\n        {i18n.t(\"schedules.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <ScheduleModal\n        open={scheduleModalOpen}\n        onClose={handleCloseScheduleModal}\n        reload={fetchSchedules}\n        aria-labelledby=\"form-dialog-title\"\n        scheduleId={selectedSchedule && selectedSchedule.id}\n        contactId={contactId}\n        cleanContact={cleanContact}\n        setContactId={setContactId}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"schedules.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenScheduleModal}\n          >\n            {i18n.t(\"schedules.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"schedules.table.contact\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"schedules.table.body\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"schedules.table.sendAt\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"schedules.table.status\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"schedules.table.actions\")}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {schedules.map((schedule) => (\n                <TableRow key={schedule.id}>\n                  <TableCell align=\"center\">{schedule.contact.name}</TableCell>\n                  <TableCell align=\"center\" title={schedule.body}>{truncate(schedule.body, 25)}</TableCell>\n                  <TableCell align=\"center\">{moment(schedule.sendAt).format('DD/MM/YYYY HH:mm:ss')}</TableCell>\n                  <TableCell align=\"center\">{capitalize(schedule.status)}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditSchedule(schedule)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingSchedule(schedule);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Schedules;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nconst useStyles = makeStyles({\n  root: {\n    width: '100%',\n    marginTop: '1rem',\n  },\n});\n\nexport default function LinearDeterminate({progressMessage}) {\n  const classes = useStyles();\n  const [progress, setProgress] = React.useState(0);\n\n  React.useEffect(() => {\n    setProgress(progressMessage);\n  }, [progressMessage]);\n\n  return (\n    <div className={classes.root}>\n      <LinearProgress variant=\"determinate\" value={progress} />\n    </div>\n  );\n}","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    height: 240,\n    width: 240,\n  },\n  control: {\n    padding: theme.spacing(2),\n  },\n}));\n\nexport default function SpacingGrid({ message }) {\n  const classes = useStyles();\n\n  return (\n    <Grid container className={classes.root} spacing={2}  style={{\n      marginTop: \"20px\",\n    }}>\n      <Grid item xs={12}>\n        <Grid container justifyContent=\"center\" spacing={2}>\n          {message.map((value) => (\n            <Grid key={value.phone} item>\n              <Paper className={classes.paper}>\n                \n                <Typography variant=\"body2\" component=\"p\">\n                  {value.phone}\n                </Typography>\n\n                <Typography variant=\"body2\" component=\"p\">\n                  {value.message}\n                </Typography>\n                </Paper>\n            </Grid>\n          ))}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nimport {\n\tTooltip,\n\tTypography,\n\tCircularProgress,\n} from \"@material-ui/core\";\n\nimport {\n\tSignalCellularConnectedNoInternet2Bar,\n\tSignalCellularConnectedNoInternet0Bar,\n\tSignalCellular4Bar,\n\tCropFree,\n} from \"@material-ui/icons\";\n\nimport { green } from \"@material-ui/core/colors\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n}));\n\nconst CustomToolTip = ({ title, content, children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Tooltip\n\t\t\tarrow\n\t\t\tclasses={{\n\t\t\t\ttooltip: classes.tooltip,\n\t\t\t\tpopper: classes.tooltipPopper,\n\t\t\t}}\n\t\t\ttitle={\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Typography gutterBottom color=\"inherit\">\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{content && <Typography>{content}</Typography>}\n\t\t\t\t</React.Fragment>\n\t\t\t}\n\t\t>\n\t\t\t{children}\n\t\t</Tooltip>\n\t);\n};\n\nconst QueueSelect = ({ selectedQueueIds, onChange }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/whatsapp\");\n\t\t\t\tconst conectionNotDefault = data.filter(\n\t\t\t\t\tconection => conection.isDefault !== true\n\t\t\t\t);\n\t\t\t\tsetQueues(conectionNotDefault);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\t}, []);\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\tconst renderStatusToolTips = whatsApp => {\n\t\treturn (\n\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.disconnected.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.disconnected.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\n\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.qrcode.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.qrcode.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CropFree />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"CONNECTED\" && (\n\t\t\t\t\t<CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\n\t\t\t\t\t\t<SignalCellular4Bar style={{ color: green[500] }} />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.timeout.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.timeout.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst renderSelect = whatsApp => {\n\t\tconst queue = queues.find(q => q.id === whatsApp);\n\t\t\n\t\treturn queue ? (\n\t\t\t<div style={{\n\t\t\t\tdisplay: 'flex',\n\t\t\t\talignItems: 'center',\n\t\t\t\tjustifyContent: 'space-between'\n\t\t\t}}>\n\t\t\t\t{queue.name}\n\t\t\t\t{renderStatusToolTips(queue)}\n\t\t\t</div>\n\t\t) : null;\n\t}\n\n\treturn (\n\t\t<div style={{ marginTop: 6 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel>Selecione uma conexo*</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\t// multiple\n\t\t\t\t\tlabelWidth={180}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={selected => renderSelect(selected)}\n\t\t\t\t>\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id} style={{\n\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\tjustifyContent: 'space-between'\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t\t{renderStatusToolTips(queue)}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelect;","import Button from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { green } from \"@material-ui/core/colors\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { Field, Form, Formik } from \"formik\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport * as Yup from \"yup\";\nimport LinearBuffer from \"../../components/LinearBuffer\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport PreviewMessage from \"../../components/PreviewMessage\";\nimport SelectConection from \"../../components/SelectConection\";\nimport Title from \"../../components/Title\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\n\n\n\n\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n    marginTop: theme.spacing(2),\n    marginRight: theme.spacing(1),\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst ContactSchema = Yup.object().shape({\n  csv: Yup.string().required(\"Required\"),\n  model: Yup.string().required(\"Required\"),\n});\n\nexport const RenderForm = ({\n  classes,\n  contact,\n  handleSaveContact,\n  selectedQueueIds,\n  setSelectedQueueIds,\n  progressMessage,\n  handlePreview,\n}) => {\n  return (\n    <div className={classes.root}>\n      <Formik\n        initialValues={contact}\n        enableReinitialize={true}\n        validationSchema={ContactSchema}\n        onSubmit={(values, actions) => {\n          setTimeout(() => {\n            handleSaveContact(values, actions);\n          }, 400);\n        }}\n      >\n        {({ values, errors, touched, isSubmitting, onChange }) => (\n          <Form>\n            <div>\n              <SelectConection\n                selectedQueueIds={selectedQueueIds}\n                onChange={(selectedIds) => setSelectedQueueIds(selectedIds)}\n              />\n              <Field\n                as={TextField}\n                label=\"Modelo\"\n                type=\"model\"\n                multiline\n                minRows={10}\n                fullWidth\n                name=\"model\"\n                error={touched.model && Boolean(errors.model)}\n                helperText={touched.model && errors.model}\n                variant=\"outlined\"\n                margin=\"dense\"\n              />\n\n              <Field\n                as={TextField}\n                label=\"Dados\"\n                type=\"csv\"\n                multiline\n                minRows={5}\n                fullWidth\n                name=\"csv\"\n                error={touched.csv && Boolean(errors.csv)}\n                helperText={touched.csv && errors.csv}\n                variant=\"outlined\"\n                margin=\"dense\"\n              />\n\n              {/* <DataTable className={classes.btnWrapper} /> */}\n\n              <LinearBuffer progressMessage={progressMessage} />\n            </div>\n            <div>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                disabled={isSubmitting}\n                onClick={() => handlePreview(values)}\n                className={classes.btnWrapper}\n              >\n                Mostrar preview\n              </Button>\n\n              <Button\n                type=\"submit\"\n                color=\"primary\"\n                disabled={isSubmitting}\n                variant=\"contained\"\n                className={classes.btnWrapper}\n              >\n                Enviar Mensagem\n                {isSubmitting && (\n                  <CircularProgress\n                    size={24}\n                    className={classes.buttonProgress}\n                  />\n                )}\n              </Button>\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </div>\n  );\n};\n\nconst Contacts = () => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n  const [selectedQueueIds, setSelectedQueueIds] = useState();\n  const [progressMessage, setProgressMessage] = useState(0);\n  const [startSendMessage, ] = useState(false);\n  const [message, setMessage] = useState([]);\n  const initialState = {\n    csv: \"\",\n    model: \"\",\n  };\n\n  const [contact, setContact] = useState(initialState);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const handleClose = () => {\n    setContact(initialState);\n    setProgressMessage(0);\n  };\n\n  const formatNumber = (number) => {\n    if(!number) toastError(\"Nmero invlido\");\n    if (number.length > 11 && number.startsWith(\"55\")) {\n      return `${number}`;\n    }else {\n      return `55${number}`;\n    }\n  };\n\n  const handleSaveContact = async (values, actions) => {\n    try {\n\n      if(!values.csv || !values.model) {\n        toast.error(\"Preencha todos os campos\");\n        actions.setSubmitting(false);\n        return;\n      }\n\n      if(!selectedQueueIds) {\n        toast.error(\"Selecione uma conexo\");\n        actions.setSubmitting(false);\n        return;\n      }\n\n      let { csv, model } = values;\n      const csvHeader = csv.slice(0, csv.indexOf(\"\\n\")).split(\",\");\n      const csvRows = csv.slice(csv.indexOf(\"\\n\") + 1).split(\"\\n\");\n\n      const array = csvRows.map((i) => {\n        const values = i.split(\",\");\n        const obj = csvHeader.reduce((object, header, index) => {\n          object[header] = values[index];\n          return object;\n        }, {});\n        return obj;\n      });\n\n      let rawMsg = [];\n      let listMessage = [];\n\n      array.forEach((value, index) => {\n        rawMsg.push(model.replace(/\\{([^}]+)\\}/g, (match, key) => value[key]));\n      });\n\n      array.forEach(async (value, index) => {\n        const getValueObject = Object.values(value);\n        listMessage.push({\n          message: rawMsg[index],\n          phone: formatNumber(getValueObject[0]),\n          whatsappId: selectedQueueIds,\n        });\n      });\n      try {\n       console.log(listMessage)\n\n       await api.post(\"/bulkMessage\", listMessage);\n        handleClose();\n        actions.setSubmitting(false);\n  \n        toast.success(`${listMessage.length} Mensagem salva no banco de dados com sucesso`);\n      } catch (error) {\n        toastError(error);\n      }\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handlePreview = async (values) => {\n    try {\n      let { csv, model } = values;\n      const csvHeader = csv.slice(0, csv.indexOf(\"\\n\")).split(\",\");\n      const csvRows = csv.slice(csv.indexOf(\"\\n\") + 1).split(\"\\n\");\n\n      const array = csvRows.map((i) => {\n        const values = i.split(\",\");\n        const obj = csvHeader.reduce((object, header, index) => {\n          object[header] = values[index];\n          return object;\n        }, {});\n        return obj;\n      });\n\n      let rawMsg = [];\n      let listMessage = [];\n\n      array.forEach((value, index) => {\n        rawMsg.push(model.replace(/\\{([^}]+)\\}/g, (match, key) => value[key]));\n      });\n\n\n      array.forEach(async (value, index) => {\n        const getValueObject = Object.values(value);\n        listMessage.push({\n          message: rawMsg[index],\n          phone: formatNumber(getValueObject[0]),\n          whatsappId: selectedQueueIds,\n        });\n      });\n\n      setMessage(listMessage);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  // const sendBulkMessage = async (message) => {\n  //   let completedCount = 0;\n\n  //   for (const iterator of message) {\n  //     try {\n  //       setStartSendMessage(true);\n  //       await api.post(\"/bulkMessage/send\", iterator);\n  //       completedCount++;\n  //       setProgressMessage((completedCount / message.length) * 100);\n  //       await wait(5000);\n  //     } catch (err) {\n  //       toastError(err);\n  //     }\n  //   }\n  // };\n\n  // const wait = (milliseconds) => {\n  //   return new Promise((resolve) => setTimeout(resolve, milliseconds));\n  // };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <MainHeader>\n        <Title>Envio de Mensagem</Title>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <RenderForm\n          classes={classes}\n          contact={contact}\n          setContact={setContact}\n          selectedQueueIds={selectedQueueIds}\n          setSelectedQueueIds={setSelectedQueueIds}\n          progressMessage={progressMessage}\n          setProgressMessage={setProgressMessage}\n          startSendMessage={startSendMessage}\n          handleSaveContact={handleSaveContact}\n          handlePreview={handlePreview}\n        />\n\n        <div>\n          {message.length > 0 && (\n            <PreviewMessage\n              message={message}\n             \n            />\n          )}\n        </div>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Contacts;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Input from \"@material-ui/core/Input\";\n\nimport clsx from \"clsx\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport TextField from \"@material-ui/core/TextField\";\n\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\n\nimport SelectConection from \"../../components/SelectConection\";\n\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainContainer from \"../../components/MainContainer\";\nimport Switch from \"@material-ui/core/Switch\";\nimport Button from \"@material-ui/core/Button\";\nimport { toast } from \"react-toastify\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n.js\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& .MuiTextField-root\": {\n      margin: theme.spacing(1),\n    },\n  },\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  margin: {\n    marginTop: theme.spacing(2),\n    // marginBottom: theme.spacing(2),\n    // marginLeft: theme.spacing(2),\n    marginRight: theme.spacing(1),\n  },\n  withoutLabel: {\n    marginTop: theme.spacing(1),\n  },\n  textField: {\n    width: \"25ch\",\n  },\n}));\n\nconst ConfigMessage = () => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\n  const [values, setValues] = React.useState({});\n\n  const [state, setState] = React.useState({\n    contact: false,\n    photo: false,\n    random: false,\n  });\n\n\n\n  useEffect(() => {\n    console.log('mudou', selectedQueueIds)\n\n    setValues({\n      limit: \"\",\n      minutes: \"\",\n      seconds: \"\",\n\n    });\n\n    if(!selectedQueueIds) return\n    api.get(`/settingsMessage/${selectedQueueIds}`).then((response) => {\n      console.log('response', response.data)\n      setValues({\n        limit: response.data.limit,\n        minutes: response.data.minutes,\n        seconds: response.data.seconds,\n      });\n      setState({\n        contact: response.data.contacts,\n        photo: response.data.photo,\n        random: response.data.random,\n      });\n\n    }\n    ).catch((error) => {\n      toastError(error);\n    }\n    );\n\n\n\n  }, [selectedQueueIds])\n\n  const handleChange = (prop) => (event) => {\n    setValues({ ...values, [prop]: event.target.value });\n  };\n\n  const handleChangeChecked = (event) => {\n    setState({ ...state, [event.target.name]: event.target.checked });\n  };\n\n  const handleSaveSettings = async() => {\n    const data = {\n      ...values,\n      ...state,\n      whatsappId: selectedQueueIds,\n    }\n\n\n    try {\n      await api.post(`/settingsMessage`, data);\n      toast.success(i18n.t(\"settings.success\"));\n    } catch (err) {\n      toastError(err);\n    }\n\n    console.log(data);\n  }\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <MainHeader>\n        <Title>Configurao de envio de mensagem.</Title>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <SelectConection\n          selectedQueueIds={selectedQueueIds}\n          onChange={(selectedIds) => setSelectedQueueIds(selectedIds)}\n        />\n\n        <div>\n          <TextField\n            label=\"Limite de envio a cada 24h\"\n            id=\"limit\"\n            onChange={handleChange(\"limit\")}\n            className={clsx(classes.margin, classes.textField)}\n            value={values.limit}\n            type=\"number\"\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">Limite</InputAdornment>\n              ),\n            }}\n          />\n\n          <TextField\n            label=\"Aguardar entre\"\n            id=\"minutes\"\n            value={values.minutes}\n            onChange={handleChange(\"minutes\")}\n            className={clsx(classes.margin, classes.textField)}\n            type=\"number\"\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">Minutos</InputAdornment>\n              ),\n            }}\n          />\n\n          <TextField\n            label=\"Segundos a cada envio\"\n            id=\"seconds\"\n            value={values.seconds}\n            onChange={handleChange(\"seconds\")}\n            className={clsx(classes.margin, classes.textField)}\n            type=\"number\"\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">Segundos</InputAdornment>\n              ),\n            }}\n          />\n        </div>\n        <div>\n          <FormControl\n            component=\"fieldset\"\n            fullWidth\n            className={classes.margin}\n          >\n            <FormLabel component=\"legend\">Configuraes adicionais</FormLabel>\n            <FormGroup>\n              <FormControlLabel\n                control={\n                  <Switch\n                    checked={state.contact}\n                    onChange={handleChangeChecked}\n                    name=\"contact\"\n                  />\n                }\n                label=\"Enviar s para os meus contatos\"\n              />\n              <FormControlLabel\n                control={\n                  <Switch\n                    checked={state.photo}\n                    onChange={handleChangeChecked}\n                    name=\"photo\"\n                  />\n                }\n                label=\"Enviar mensagem s para os numeros que tem foto\"\n              />\n              <FormControlLabel\n                control={\n                  <Switch\n                    checked={state.random}\n                    onChange={handleChangeChecked}\n                    name=\"random\"\n                  />\n                }\n                label=\"Enviar em orderm aleatoria  \"\n              />\n            </FormGroup>\n          </FormControl>\n\n          <FormControl fullWidth className={classes.margin}>\n            <InputLabel htmlFor=\"standard-adornment-amount\">\n              Incluir mensagem no final com opo de no receber mais (opt-out)\n            </InputLabel>\n            <Input\n              id=\"standard-adornment-amount\"\n              onChange={handleChange(\"optOut\")}\n              multiline\n              rows={5}\n              margin=\"dense\"\n              variant=\"outlined\"\n            />\n          </FormControl>\n        </div>\n\n        <div>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.margin}\n            onClick={() => {\n       \n              handleSaveSettings();\n            }}\n          >\n            Salvar configuraes\n          </Button>\n        </div>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default ConfigMessage;\n","import React, { useState, useEffect } from \"react\";\nimport openSocket from \"socket.io-client\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { toast } from \"react-toastify\";\n\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n.js\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(8, 8, 3),\n\t},\n\n\tpaper: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tmarginBottom: 12,\n\n\t},\n\n\tsettingOption: {\n\t\tmarginLeft: \"auto\",\n\t},\n\tmargin: {\n\t\tmargin: theme.spacing(1),\n\t},\n\n}));\n\nconst Settings = () => {\n\tconst classes = useStyles();\n\n\tconst [settings, setSettings] = useState([]);\n\n\tuseEffect(() => {\n\t\tconst fetchSession = async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/settings\");\n\t\t\t\tsetSettings(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\t\tfetchSession();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n\t\tsocket.on(\"settings\", data => {\n\t\t\tif (data.action === \"update\") {\n\t\t\t\tsetSettings(prevState => {\n\t\t\t\t\tconst aux = [...prevState];\n\t\t\t\t\tconst settingIndex = aux.findIndex(s => s.key === data.setting.key);\n\t\t\t\t\taux[settingIndex].value = data.setting.value;\n\t\t\t\t\treturn aux;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, []);\n\n\tconst handleChangeSetting = async e => {\n\t\tconst selectedValue = e.target.value;\n\t\tconst settingKey = e.target.name;\n\n\t\ttry {\n\t\t\tawait api.put(`/settings/${settingKey}`, {\n\t\t\t\tvalue: selectedValue,\n\t\t\t});\n\t\t\ttoast.success(i18n.t(\"settings.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst getSettingValue = key => {\n\t\tconst { value } = settings.find(s => s.key === key);\n\t\treturn value;\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Container className={classes.container} >\n\t\t\t\t<Typography variant=\"body2\" gutterBottom>\n\t\t\t\t\t{i18n.t(\"settings.title\")}\n\t\t\t\t</Typography>\n\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t{i18n.t(\"settings.settings.userCreation.name\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tnative\n\t\t\t\t\t\tid=\"userCreation-setting\"\n\t\t\t\t\t\tname=\"userCreation\"\n\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\tsettings && settings.length > 0 && getSettingValue(\"userCreation\")\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName={classes.settingOption}\n\t\t\t\t\t\tonChange={handleChangeSetting}\n\t\t\t\t\t>\n\t\t\t\t\t\t<option value=\"enabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.userCreation.options.enabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"disabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.userCreation.options.disabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</Select>\n\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\n\t\t\t\t<Typography variant=\"body2\" gutterBottom></Typography>\n\t\t\t\t<Tooltip title={i18n.t(\"settings.settings.timeCreateNewTicket.note\")}>\n\t\t\t\t\t<Paper className={classes.paper} elevation={3}>\n\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.name\")}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tnative\n\t\t\t\t\t\t\tid=\"timeCreateNewTicket-setting\"\n\t\t\t\t\t\t\tname=\"timeCreateNewTicket\"\n\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\tsettings && settings.length > 0 && getSettingValue(\"timeCreateNewTicket\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclassName={classes.settingOption}\n\t\t\t\t\t\t\tonChange={handleChangeSetting}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"10\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.10\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"30\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.30\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"60\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.60\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"300\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.300\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"1800\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.1800\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"3600\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.3600\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"7200\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.7200\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"21600\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.21600\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"43200\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.43200\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"86400\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.86400\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"172800\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.172800\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Tooltip>\n\n\t\t\t\t<Typography variant=\"body2\" gutterBottom></Typography>\n\t\t\t\t<Paper className={classes.paper}>\n\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t{i18n.t(\"settings.settings.call.name\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tnative\n\t\t\t\t\t\tid=\"call-setting\"\n\t\t\t\t\t\tname=\"call\"\n\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\tsettings && settings.length > 0 && getSettingValue(\"call\")\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName={classes.settingOption}\n\t\t\t\t\t\tonChange={handleChangeSetting}\n\t\t\t\t\t>\n\t\t\t\t\t\t<option value=\"enabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.call.options.enabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"disabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.call.options.disabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</Select>\n\t\t\t\t</Paper>\n\n\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t{i18n.t(\"settings.settings.CheckMsgIsGroup.name\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tnative\n\t\t\t\t\t\tid=\"CheckMsgIsGroup-setting\"\n\t\t\t\t\t\tname=\"CheckMsgIsGroup\"\n\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\tsettings && settings.length > 0 && getSettingValue(\"CheckMsgIsGroup\")\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName={classes.settingOption}\n\t\t\t\t\t\tonChange={handleChangeSetting}\n\t\t\t\t\t>\n\t\t\t\t\t\t<option value=\"enabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.CheckMsgIsGroup.options.enabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"disabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.CheckMsgIsGroup.options.disabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</Select>\n\t\t\t\t</Paper>\n\n\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tid=\"api-token-setting\"\n\t\t\t\t\t\treadonly\n\t\t\t\t\t\tlabel=\"Token Api\"\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvalue={settings && settings.length > 0 && getSettingValue(\"userApiToken\")}\n\t\t\t\t\t/>\n\t\t\t\t</Paper>\n\n        <Paper className={classes.paper}>\n          <Typography variant=\"body1\">\n            Tipo do Chatbot\n          </Typography>\n          <Select\n            margin=\"dense\"\n            variant=\"outlined\"\n            native\n            id=\"chatBotType-setting\"\n            name=\"chatBotType\"\n            value={settings && settings.length > 0 && getSettingValue(\"chatBotType\")}\n            className={classes.settingOption}\n            onChange={handleChangeSetting}\n          >\n            <option value=\"text\">\n              Texto\n            </option>\n\n            <option value=\"button\">\n              Boto\n            </option>\n\n\t\t\t\t\t\t<option value=\"list\">\n              Lista\n            </option>\n\n          </Select>\n        </Paper>\n\n\t\t\t</Container>\n\t\t</div>\n\t);\n};\n\nexport default Settings;","import React, { useState, useEffect, useReducer } from \"react\";\nimport openSocket from \"../../services/socket-io\";\n\nimport {\n  IconButton,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  InputAdornment,\n  TextField,\n  Button\n} from \"@material-ui/core\";\nimport { DeleteOutline } from \"@material-ui/icons\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport { toast } from \"react-toastify\";\nimport toastError from \"../../errors/toastError\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUICK_ANSWERS\") {\n    const quickAnswers = action.payload;\n    const newQuickAnswers = [];\n\n    quickAnswers.forEach((quickAnswer) => {\n      const quickAnswerIndex = state.findIndex((q) => q.id === quickAnswer.id);\n      if (quickAnswerIndex !== -1) {\n        state[quickAnswerIndex] = quickAnswer;\n      } else {\n        newQuickAnswers.push(quickAnswer);\n      }\n    });\n\n    return [...state, ...newQuickAnswers];\n  }\n\n  if (action.type === \"UPDATE_QUICK_ANSWERS\") {\n    const quickAnswer = action.payload;\n    const quickAnswerIndex = state.findIndex((q) => q.id === quickAnswer.id);\n\n    if (quickAnswerIndex !== -1) {\n      state[quickAnswerIndex] = quickAnswer;\n      return [...state];\n    } else {\n      return [quickAnswer, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_MASS_MESSAGE\") {\n    const massMessageId = action.payload;\n    console.log(massMessageId);\n    const quickAnswerIndex = state.findIndex((q) => q.id === massMessageId);\n    if (quickAnswerIndex !== -1) {\n      state.splice(quickAnswerIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst QuickAnswers = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [quickAnswers, dispatch] = useReducer(reducer, []);\n  const [deletingQuickAnswers, setDeletingQuickAnswers] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchQuickAnswers = async () => {\n        try {\n          const { data } = await api.get(\"/bulkMessage/report\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_QUICK_ANSWERS\", payload: data.messages });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchQuickAnswers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const socket = openSocket();\n\n    socket.on(\"massMessage\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({\n          type: \"UPDATE_QUICK_ANSWERS\",\n          payload: data.scheduleRecord,\n        });\n      }\n\n      if (data.action === \"delete\") {\n        console.log(\"delete\");\n        dispatch({\n          type: \"DELETE_MASS_MESSAGE\",\n          payload: +data.scheduleRecord,\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleDeleteQuickAnswers = async (massMessageId) => {\n    try {\n      await api.delete(`/bulkMessage/d/${massMessageId}`);\n      toast.success(i18n.t(\"quickAnswers.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingQuickAnswers(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const handleDeleteAll = async () => {\n    try {\n      await api.delete(`/bulkMessage/clean`);\n      toast.success(i18n.t(\"quickAnswers.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    quickAnswers(reducer, []);\n    setDeletingQuickAnswers(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingQuickAnswers &&\n          `Voc tem certeza que quer excluir este relatrio: ${deletingQuickAnswers.phone}?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteQuickAnswers(deletingQuickAnswers.id)}\n      >\n        {i18n.t(\"quickAnswers.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <MainHeader>\n        <Title>Relatrio de envio de mensagens</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"quickAnswers.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleDeleteAll}\n          >\n            Limpar base \n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">Conexo</TableCell>\n              <TableCell align=\"center\">Numero</TableCell>\n              <TableCell align=\"center\">Mensagem</TableCell>\n              <TableCell align=\"center\">Status</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickAnswers.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {quickAnswers.map((quickAnswer) => (\n                <TableRow key={quickAnswer.id}>\n                  <TableCell align=\"center\">\n                    {quickAnswer?.whatsapp?.name} /{\" \"}\n                    {quickAnswer?.whatsapp?.number}\n                  </TableCell>\n                  <TableCell align=\"center\">{quickAnswer.phone}</TableCell>\n                  <TableCell align=\"center\">{quickAnswer.message}</TableCell>\n                  <TableCell align=\"center\">{quickAnswer.status}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingQuickAnswers(quickAnswer);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default QuickAnswers;\n","import React, { useState } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { Formik, Form, Field } from \"formik\";\n\nimport {\n\tAvatar,\n\tButton,\n\tCssBaseline,\n\tTextField,\n\tGrid,\n\tBox,\n\tTypography,\n\tContainer,\n\tInputAdornment,\n\tIconButton,\n\tLink\n} from '@material-ui/core';\n\nimport { LockOutlined, Visibility, VisibilityOff } from '@material-ui/icons';\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\n// const Copyright = () => {\n// \treturn (\n// \t\t<Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n// \t\t\t{\"Copyleft \"}\n// \t\t\t<Link color=\"inherit\" href=\"https://github.com/canove\">\n// \t\t\t\tCanove\n// \t\t\t</Link>{\" \"}\n// \t\t\t{new Date().getFullYear()}\n// \t\t\t{\".\"}\n// \t\t</Typography>\n// \t);\n// };\n\nconst useStyles = makeStyles(theme => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: \"100%\",\n\t\tmarginTop: theme.spacing(3),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst SignUp = () => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\n\tconst initialState = { name: \"\", email: \"\", password: \"\" };\n\tconst [showPassword, setShowPassword] = useState(false);\n\tconst [user] = useState(initialState);\n\n\tconst handleSignUp = async values => {\n\t\ttry {\n\t\t\tawait api.post(\"/auth/signup\", values);\n\t\t\ttoast.success(i18n.t(\"signup.toasts.success\"));\n\t\t\thistory.push(\"/login\");\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t<CssBaseline />\n\t\t\t<div className={classes.paper}>\n\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t\t<LockOutlined />\n\t\t\t\t</Avatar>\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t{i18n.t(\"signup.title\")}\n\t\t\t\t</Typography>\n\t\t\t\t{/* <form className={classes.form} noValidate onSubmit={handleSignUp}> */}\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSignUp(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form className={classes.form}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"name\"\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.password\")}\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword((e) => !e)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <VisibilityOff /> : <Visibility />}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"signup.buttons.submit\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Grid container justifyContent=\"flex-end\">\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\tcomponent={RouterLink}\n\t\t\t\t\t\t\t\t\t\tto=\"/login\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"signup.buttons.login\")}\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</div>\n\t\t\t<Box mt={5}>{/* <Copyright /> */}</Box>\n\t\t</Container>\n\t);\n};\n\nexport default SignUp;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { Colorize } from \"@material-ui/icons\";\nimport { ColorBox } from 'material-ui-color';\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { IconButton, InputAdornment } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n\tcolorAdorment: {\n\t\twidth: 20,\n\t\theight: 20,\n\t},\n}));\n\nconst TagSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(3, \"Mensagem muito curta\")\n\t\t.required(\"Obrigatrio\")\n});\n\nconst TagModal = ({ open, onClose, tagId, reload }) => {\n\tconst classes = useStyles();\n\tconst { user } = useContext(AuthContext);\n\tconst [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tcolor: \"\"\n\t};\n\n\tconst [tag, setTag] = useState(initialState);\n\n\tuseEffect(() => {\n\t\ttry {\n\t\t\t(async () => {\n\t\t\t\tif (!tagId) return;\n\n\t\t\t\tconst { data } = await api.get(`/tags/${tagId}`);\n\t\t\t\tsetTag(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t})()\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t}, [tagId, open]);\n\n\tconst handleClose = () => {\n\t\tsetTag(initialState);\n\t\tsetColorPickerModalOpen(false);\n\t\tonClose();\n\t};\n\n\tconst handleSaveTag = async values => {\n\t\tconst tagData = { ...values, userId: user.id };\n\t\ttry {\n\t\t\tif (tagId) {\n\t\t\t\tawait api.put(`/tags/${tagId}`, tagData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/tags\", tagData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"tagModal.success\"));\n\t\t\tif (typeof reload == 'function') {\n\t\t\t\treload();\n\t\t\t}\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{ (tagId ? `${i18n.t(\"tagModal.title.edit\")}` : `${i18n.t(\"tagModal.title.add\")}`) }\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={tag}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={TagSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveTag(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, values }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setTag(prev => ({ ...prev, name: e.target.value }))}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.color\")}\n\t\t\t\t\t\t\t\t\t\tname=\"color\"\n\t\t\t\t\t\t\t\t\t\tid=\"color\"\n\t\t\t\t\t\t\t\t\t\terror={touched.color && Boolean(errors.color)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.color && errors.color}\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: values.color }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.colorAdorment}\n\t\t\t\t\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setColorPickerModalOpen(!colorPickerModalOpen)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Colorize />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{ colorPickerModalOpen && (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<ColorBox\n\t\t\t\t\t\t\t\t\t\t\tdisableAlpha={true}\n\t\t\t\t\t\t\t\t\t\t\thslGradient={false}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{margin: '20px auto 0'}}\n\t\t\t\t\t\t\t\t\t\t\tvalue={tag.color}\n\t\t\t\t\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetTag(prev => ({ ...prev, color: `#${val.hex}` }));\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"tagModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{tagId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"tagModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"tagModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default TagModal;\n","import React, { useState, useEffect, useReducer, useCallback } from \"react\";\nimport { toast } from \"react-toastify\";\nimport openSocket from \"socket.io-client\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport TagModal from \"../../components/TagModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Chip } from \"@material-ui/core\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_TAGS\") {\n    const tags = action.payload;\n    const newTags = [];\n\n    tags.forEach((tag) => {\n      const tagIndex = state.findIndex((s) => s.id === tag.id);\n      if (tagIndex !== -1) {\n        state[tagIndex] = tag;\n      } else {\n        newTags.push(tag);\n      }\n    });\n\n    return [...state, ...newTags];\n  }\n\n  if (action.type === \"UPDATE_TAGS\") {\n    const tag = action.payload;\n    const tagIndex = state.findIndex((s) => s.id === tag.id);\n\n    if (tagIndex !== -1) {\n      state[tagIndex] = tag;\n      return [...state];\n    } else {\n      return [tag, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_TAG\") {\n    const tagId = action.payload;\n\n    const tagIndex = state.findIndex((s) => s.id === tagId);\n    if (tagIndex !== -1) {\n      state.splice(tagIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Tags = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedTag, setSelectedTag] = useState(null);\n  const [deletingTag, setDeletingTag] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tags, dispatch] = useReducer(reducer, []);\n  const [tagModalOpen, setTagModalOpen] = useState(false);\n\n  const fetchTags = useCallback(async() => {\n    try {\n      const { data } = await api.get(\"/tags/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_TAGS\", payload: data.tags });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchTags();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber, fetchTags]);\n\n  useEffect(() => {\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n    socket.on(\"user\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_TAGS\", payload: data.tags });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.tagId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(true);\n  };\n\n  const handleCloseTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditTag = (tag) => {\n    setSelectedTag(tag);\n    setTagModalOpen(true);\n  };\n\n  const handleDeleteTag = async (tagId) => {\n    try {\n      await api.delete(`/tags/${tagId}`);\n      toast.success(i18n.t(\"tags.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingTag(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n    await fetchTags();\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingTag &&\n          `${i18n.t(\"tags.confirmationModal.deleteTitle\")}`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteTag(deletingTag.id)}\n      >\n        {i18n.t(\"tags.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <TagModal\n        open={tagModalOpen}\n        onClose={handleCloseTagModal}\n        reload={fetchTags}\n        aria-labelledby=\"form-dialog-title\"\n        tagId={selectedTag && selectedTag.id}\n      />\n      <MainHeader>\n      <Title>{i18n.t(\"tags.title\")}</Title>\n      <MainHeaderButtonsWrapper>\n        <TextField\n          placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n          type=\"search\"\n          value={searchParam}\n          onChange={handleSearch}\n          InputProps={{\n            startAdornment: (\n            <InputAdornment position=\"start\">\n                <SearchIcon style={{ color: \"gray\" }} />\n            </InputAdornment>\n            ),\n          }}\n        />\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={handleOpenTagModal}\n        >\n          {i18n.t(\"tags.buttons.add\")}\n        </Button>\n      </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"tags.table.name\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"tags.table.tickets\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"tags.table.actions\")}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n              <>\n                {tags.map((tag) => (\n                  <TableRow key={tag.id}>\n                    <TableCell align=\"center\">\n                      <Chip\n                        variant=\"outlined\"\n                        style={{backgroundColor: tag.color, textShadow: '1px 1px 1px #000', color: 'white'}}\n                        label={tag.name}\n                        size=\"small\"\n                      />\n                    </TableCell>\n                    <TableCell align=\"center\">{tag.ticketsCount}</TableCell>\n                    <TableCell align=\"center\">\n                      <IconButton\n                        size=\"small\"\n                        onClick={() => handleEditTag(tag)}\n                      >\n                        <EditIcon />\n                      </IconButton>\n\n                      <IconButton\n                        size=\"small\"\n                        onClick={(e) => {\n                          setConfirmModalOpen(true);\n                          setDeletingTag(tag);\n                        }}\n                      >\n                        <DeleteOutlineIcon />\n                      </IconButton>\n                    </TableCell>\n                  </TableRow>\n                ))}\n                {loading && <TableRowSkeleton columns={4} />}\n              </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Tags;\n","import { Chip, Paper, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function TagsFilter ({ onFiltered }) {\n\n    const [tags, setTags] = useState([]);\n    const [selecteds, setSelecteds] = useState([]);\n\n    useEffect(() => {\n        async function fetchData () {\n            await loadTags();\n        }\n        fetchData();\n    }, []);\n\n    const loadTags = async () => {\n        try {\n            const { data } = await api.get(`/tags/list`);\n            setTags(data);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const onChange = async (value) => {\n        setSelecteds(value);\n        onFiltered(value);\n    }\n\n    return (\n        <Paper style={{padding: 10}}>\n            <Autocomplete\n                multiple\n                size=\"small\"\n                options={tags}\n                value={selecteds}\n                onChange={(e, v, r) => onChange(v)}\n                getOptionLabel={(option) => option.name}\n                renderTags={(value, getTagProps) =>\n                    value.map((option, index) => (\n                        <Chip\n                            variant=\"outlined\"\n                            style={{backgroundColor: option.color || '#eee', textShadow: '1px 1px 1px #000', color: 'white'}}\n                            label={option.name}\n                            {...getTagProps({ index })}\n                            size=\"small\"\n                        />\n                    ))\n                }\n                renderInput={(params) => (\n                    <TextField {...params} variant=\"outlined\" placeholder=\"Filtro por Tags\" />\n                )}\n            />\n        </Paper>\n    )\n}","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport { CircularProgress, Button } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tbutton: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ButtonWithSpinner = ({ loading, children, ...rest }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Button className={classes.button} disabled={loading} {...rest}>\n\t\t\t{children}\n\t\t\t{loading && (\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t)}\n\t\t</Button>\n\t);\n};\n\nexport default ButtonWithSpinner;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n\tcreateFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ContactModal from \"../ContactModal\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst filter = createFilterOptions({\n\ttrim: true,\n});\n\nconst NewTicketModal = ({ modalOpen, onClose }) => {\n\tconst history = useHistory();\n\n\tconst [options, setOptions] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [searchParam, setSearchParam] = useState(\"\");\n\tconst [selectedContact, setSelectedContact] = useState(null);\n\tconst [newContact, setNewContact] = useState({});\n\tconst [contactModalOpen, setContactModalOpen] = useState(false);\n\tconst { user } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\tif (!modalOpen || searchParam.length < 3) {\n\t\t\tsetLoading(false);\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\t\tconst delayDebounceFn = setTimeout(() => {\n\t\t\tconst fetchContacts = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.get(\"contacts\", {\n\t\t\t\t\t\tparams: { searchParam },\n\t\t\t\t\t});\n\t\t\t\t\tsetOptions(data.contacts);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchContacts();\n\t\t}, 500);\n\t\treturn () => clearTimeout(delayDebounceFn);\n\t}, [searchParam, modalOpen]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetSearchParam(\"\");\n\t\tsetSelectedContact(null);\n\t};\n\n\tconst handleSaveTicket = async contactId => {\n\t\tif (!contactId) return;\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst { data: ticket } = await api.post(\"/tickets\", {\n\t\t\t\tcontactId: contactId,\n\t\t\t\tuserId: user.id,\n\t\t\t\tstatus: \"open\",\n\t\t\t});\n\t\t\thistory.push(`/tickets/${ticket.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\tsetLoading(false);\n\t\thandleClose();\n\t};\n\n\tconst handleSelectOption = (e, newValue) => {\n\t\tif (newValue?.number) {\n\t\t\tsetSelectedContact(newValue);\n\t\t} else if (newValue?.name) {\n\t\t\tsetNewContact({ name: newValue.name });\n\t\t\tsetContactModalOpen(true);\n\t\t}\n\t};\n\n\tconst handleCloseContactModal = () => {\n\t\tsetContactModalOpen(false);\n\t};\n\n\tconst handleAddNewContactTicket = contact => {\n\t\thandleSaveTicket(contact.id);\n\t};\n\n\tconst createAddContactOption = (filterOptions, params) => {\n\t\tconst filtered = filter(filterOptions, params);\n\n\t\tif (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\n\t\t\tfiltered.push({\n\t\t\t\tname: `${params.inputValue}`,\n\t\t\t});\n\t\t}\n\n\t\treturn filtered;\n\t};\n\n\tconst renderOption = option => {\n\t\tif (option.number) {\n\t\t\treturn `${option.name} - ${option.number}`;\n\t\t} else {\n\t\t\treturn `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\n\t\t}\n\t};\n\n\tconst renderOptionLabel = option => {\n\t\tif (option.number) {\n\t\t\treturn `${option.name} - ${option.number}`;\n\t\t} else {\n\t\t\treturn `${option.name}`;\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ContactModal\n\t\t\t\topen={contactModalOpen}\n\t\t\t\tinitialValues={newContact}\n\t\t\t\tonClose={handleCloseContactModal}\n\t\t\t\tonSave={handleAddNewContactTicket}\n\t\t\t></ContactModal>\n\t\t\t<Dialog open={modalOpen} onClose={handleClose}>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{i18n.t(\"newTicketModal.title\")}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tstyle={{ width: 300 }}\n\t\t\t\t\t\tclearOnBlur\n\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\tfreeSolo\n\t\t\t\t\t\tclearOnEscape\n\t\t\t\t\t\tgetOptionLabel={renderOptionLabel}\n\t\t\t\t\t\trenderOption={renderOption}\n\t\t\t\t\t\tfilterOptions={createAddContactOption}\n\t\t\t\t\t\tonChange={(e, newValue) => handleSelectOption(e, newValue)}\n\t\t\t\t\t\trenderInput={params => (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\tlabel={i18n.t(\"newTicketModal.fieldLabel\")}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tonChange={e => setSearchParam(e.target.value)}\n\t\t\t\t\t\t\t\tonKeyPress={e => {\n\t\t\t\t\t\t\t\t\tif (loading || !selectedContact) return;\n\t\t\t\t\t\t\t\t\telse if (e.key === \"Enter\") {\n\t\t\t\t\t\t\t\t\t\thandleSaveTicket(selectedContact.id);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t...params.InputProps,\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\n\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t{params.InputProps.endAdornment}\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"newTicketModal.buttons.cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tdisabled={!selectedContact}\n\t\t\t\t\t\tonClick={() => handleSaveTicket(selectedContact.id)}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"newTicketModal.buttons.ok\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</>\n\t);\n};\n\nexport default NewTicketModal;\n","import React from \"react\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst TicketsSkeleton = () => {\n\treturn (\n\t\t<>\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={70} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={120} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t</>\n\t);\n};\n\nexport default TicketsSkeleton;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport openSocket from \"../../services/socket-io\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport TicketListItem from \"../TicketListItem\";\nimport TicketsListSkeleton from \"../TicketsListSkeleton\";\n\nimport useTickets from \"../../hooks/useTickets\";\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketsListWrapper: {\n    position: \"relative\",\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n\n  ticketsList: {\n    flex: 1,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n    borderTop: \"2px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  ticketsListHeader: {\n    color: \"rgb(67, 83, 105)\",\n    zIndex: 2,\n    backgroundColor: \"white\",\n    borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n\n  ticketsCount: {\n    fontWeight: \"normal\",\n    color: \"rgb(104, 121, 146)\",\n    marginLeft: \"8px\",\n    fontSize: \"14px\",\n  },\n\n  noTicketsText: {\n    textAlign: \"center\",\n    color: \"rgb(104, 121, 146)\",\n    fontSize: \"14px\",\n    lineHeight: \"1.4\",\n  },\n\n  noTicketsTitle: {\n    textAlign: \"center\",\n    fontSize: \"16px\",\n    fontWeight: \"600\",\n    margin: \"0px\",\n  },\n\n  noTicketsDiv: {\n    display: \"flex\",\n    height: \"100px\",\n    margin: 40,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_TICKETS\") {\n    const newTickets = action.payload;\n\n    newTickets.forEach((ticket) => {\n      const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n      if (ticketIndex !== -1) {\n        state[ticketIndex] = ticket;\n        if (ticket.unreadMessages > 0) {\n          state.unshift(state.splice(ticketIndex, 1)[0]);\n        }\n      } else {\n        state.push(ticket);\n      }\n    });\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET_UNREAD\") {\n    const ticketId = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticketId);\n    if (ticketIndex !== -1) {\n      state[ticketIndex].unreadMessages = 0;\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET\") {\n    const ticket = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex] = ticket;\n    } else {\n      state.unshift(ticket);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET_UNREAD_MESSAGES\") {\n    const ticket = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex] = ticket;\n      state.unshift(state.splice(ticketIndex, 1)[0]);\n    } else {\n      state.unshift(ticket);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET_CONTACT\") {\n    const contact = action.payload;\n    const ticketIndex = state.findIndex((t) => t.contactId === contact.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex].contact = contact;\n    }\n    return [...state];\n  }\n\n  if (action.type === \"DELETE_TICKET\") {\n    const ticketId = action.payload;\n    const ticketIndex = state.findIndex((t) => t.id === ticketId);\n    if (ticketIndex !== -1) {\n      state.splice(ticketIndex, 1);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst TicketsList = (props) => {\n  const {\n    status,\n    searchParam,\n    showAll,\n    selectedQueueIds,\n    updateCount,\n    style,\n    tags,\n  } = props;\n  const classes = useStyles();\n  const [pageNumber, setPageNumber] = useState(1);\n  const [ticketsList, dispatch] = useReducer(reducer, []);\n  const { user } = useContext(AuthContext);\n\tconst { profile, queues } = user;\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [status, searchParam, dispatch, showAll, selectedQueueIds, tags]);\n\n  const { tickets, hasMore, loading } = useTickets({\n    pageNumber,\n    searchParam,\n    status,\n    showAll,\n    tags: JSON.stringify(tags),\n    queueIds: JSON.stringify(selectedQueueIds),\n  });\n\n\tuseEffect(() => {\n\t\tconst queueIds = queues.map((q) => q.id);\n\t\tconst filteredTickets = tickets.filter((t) => queueIds.indexOf(t.queueId) > -1);\n\n\t\tif (profile === \"user\") {\n\t\t\tdispatch({ type: \"LOAD_TICKETS\", payload: filteredTickets });\n\t\t} else {\n\t\t\tdispatch({ type: \"LOAD_TICKETS\", payload: tickets });\n\t\t}\n\t}, [tickets, status, searchParam, queues, profile]);\n\n  useEffect(() => {\n    const socket = openSocket();\n\n    const shouldUpdateTicket = (ticket) =>\n      (!ticket.userId || ticket.userId === user?.id || showAll) &&\n      (!ticket.queueId || selectedQueueIds.indexOf(ticket.queueId) > -1);\n\n    const notBelongsToUserQueues = (ticket) =>\n      ticket.queueId && selectedQueueIds.indexOf(ticket.queueId) === -1;\n\n    socket.on(\"connect\", () => {\n      if (status) {\n        socket.emit(\"joinTickets\", status);\n      } else {\n        socket.emit(\"joinNotification\");\n      }\n    });\n\n    socket.on(\"ticket\", (data) => {\n      if (data.action === \"updateUnread\") {\n        dispatch({\n          type: \"RESET_UNREAD\",\n          payload: data.ticketId,\n        });\n      }\n\n      if (data.action === \"update\" && shouldUpdateTicket(data.ticket)) {\n        dispatch({\n          type: \"UPDATE_TICKET\",\n          payload: data.ticket,\n        });\n      }\n\n      if (data.action === \"update\" && notBelongsToUserQueues(data.ticket)) {\n        dispatch({ type: \"DELETE_TICKET\", payload: data.ticket.id });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_TICKET\", payload: data.ticketId });\n      }\n    });\n\n    socket.on(\"appMessage\", (data) => {\n      if (data.action === \"create\" && shouldUpdateTicket(data.ticket)) {\n        dispatch({\n          type: \"UPDATE_TICKET_UNREAD_MESSAGES\",\n          payload: data.ticket,\n        });\n      }\n    });\n\n    socket.on(\"contact\", (data) => {\n      if (data.action === \"update\") {\n        dispatch({\n          type: \"UPDATE_TICKET_CONTACT\",\n          payload: data.contact,\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [status, showAll, user, selectedQueueIds]);\n\n  useEffect(() => {\n    if (typeof updateCount === \"function\") {\n      updateCount(ticketsList.length);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ticketsList]);\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <Paper className={classes.ticketsListWrapper} style={style}>\n      <Paper\n        square\n        name=\"closed\"\n        elevation={0}\n        className={classes.ticketsList}\n        onScroll={handleScroll}\n      >\n        <List style={{ paddingTop: 0 }}>\n          {ticketsList.length === 0 && !loading ? (\n            <div className={classes.noTicketsDiv}>\n              <span className={classes.noTicketsTitle}>\n                {i18n.t(\"ticketsList.noTicketsTitle\")}\n              </span>\n              <p className={classes.noTicketsText}>\n                {i18n.t(\"ticketsList.noTicketsMessage\")}\n              </p>\n            </div>\n          ) : (\n            <>\n              {ticketsList.map((ticket) => (\n                <TicketListItem ticket={ticket} key={ticket.id} />\n              ))}\n            </>\n          )}\n          {loading && <TicketsListSkeleton />}\n        </List>\n      </Paper>\n    </Paper>\n  );\n};\n\nexport default TicketsList;\n","import React from \"react\";\n\nconst TabPanel = ({ children, value, name, ...rest }) => {\n\tif (value === name) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\trole=\"tabpanel\"\n\t\t\t\tid={`simple-tabpanel-${name}`}\n\t\t\t\taria-labelledby={`simple-tab-${name}`}\n\t\t\t\t{...rest}\n\t\t\t>\n\t\t\t\t<>{children}</>\n\t\t\t</div>\n\t\t);\n\t} else return null;\n};\n\nexport default TabPanel;\n","import React from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { Checkbox, ListItemText } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketsQueueSelect = ({\n\tuserQueues,\n\tselectedQueueIds = [],\n\tonChange,\n}) => {\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ width: 120, marginTop: -4 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\">\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tdisplayEmpty\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={() => i18n.t(\"ticketsQueueSelect.placeholder\")}\n\t\t\t\t>\n\t\t\t\t\t{userQueues?.length > 0 &&\n\t\t\t\t\t\tuserQueues.map(queue => (\n\t\t\t\t\t\t\t<MenuItem dense key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcolor: queue.color,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tchecked={selectedQueueIds.indexOf(queue.id) > -1}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<ListItemText primary={queue.name} />\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default TicketsQueueSelect;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Badge from \"@material-ui/core/Badge\";\nimport MoveToInboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\nimport { TagsFilter } from \"../TagsFilter\";\n\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\n\nimport NewTicketModal from \"../NewTicketModal\";\nimport TicketsList from \"../TicketsList\";\nimport TabPanel from \"../TabPanel\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\nimport TicketsQueueSelect from \"../TicketsQueueSelect\";\nimport { Button } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketsWrapper: {\n    position: \"relative\",\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n\n  tabsHeader: {\n    flex: \"none\",\n    backgroundColor: \"#eee\",\n  },\n\n  settingsIcon: {\n    alignSelf: \"center\",\n    marginLeft: \"auto\",\n    padding: 8,\n  },\n\n  tab: {\n    minWidth: 120,\n    width: 120,\n  },\n\n  ticketOptionsBox: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    background: \"#fafafa\",\n    padding: theme.spacing(1),\n  },\n\n  serachInputWrapper: {\n    flex: 1,\n    background: \"#fff\",\n    display: \"flex\",\n    borderRadius: 40,\n    padding: 4,\n    marginRight: theme.spacing(1),\n  },\n\n  searchIcon: {\n    color: \"grey\",\n    marginLeft: 6,\n    marginRight: 6,\n    alignSelf: \"center\",\n  },\n\n  searchInput: {\n    flex: 1,\n    border: \"none\",\n    borderRadius: 30,\n  },\n\n  badge: {\n    right: \"-10px\",\n  },\n  show: {\n    display: \"block\",\n  },\n  hide: {\n    display: \"none !important\",\n  },\n}));\n\nconst TicketsManager = () => {\n  const classes = useStyles();\n\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tab, setTab] = useState(\"open\");\n  const [tabOpen, setTabOpen] = useState(\"open\");\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n  const [showAllTickets, setShowAllTickets] = useState(false);\n  const searchInputRef = useRef();\n  const { user } = useContext(AuthContext);\n\n  const [openCount, setOpenCount] = useState(0);\n  const [pendingCount, setPendingCount] = useState(0);\n  const [selectedTags, setSelectedTags] = useState([]);\n\n  const userQueueIds = user.queues.map((q) => q.id);\n  const [selectedQueueIds, setSelectedQueueIds] = useState(userQueueIds || []);\n\n  useEffect(() => {\n    if (user.profile.toUpperCase() === \"ADMIN\") {\n      setShowAllTickets(true);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (tab === \"search\") {\n      searchInputRef.current.focus();\n    }\n  }, [tab]);\n\n  let searchTimeout;\n\n  const handleSearch = (e) => {\n    const searchedTerm = e.target.value.toLowerCase();\n\n    clearTimeout(searchTimeout);\n\n    if (searchedTerm === \"\") {\n      setSearchParam(searchedTerm);\n      setTab(\"open\");\n      return;\n    }\n\n    searchTimeout = setTimeout(() => {\n      setSearchParam(searchedTerm);\n    }, 500);\n  };\n\n  const handleSelectedTags = (selecteds) => {\n    const tags = selecteds.map(t => t.id);\n    setSelectedTags(tags);\n  }\n\n  const handleChangeTab = (e, newValue) => {\n    setTab(newValue);\n  };\n\n  const handleChangeTabOpen = (e, newValue) => {\n    setTabOpen(newValue);\n  };\n\n  const applyPanelStyle = (status) => {\n    if (tabOpen !== status) {\n      return { width: 0, height: 0 };\n    }\n  };\n\n  return (\n    <Paper elevation={0} variant=\"outlined\" className={classes.ticketsWrapper}>\n      <NewTicketModal\n        modalOpen={newTicketModalOpen}\n        onClose={(e) => setNewTicketModalOpen(false)}\n      />\n      <Paper elevation={0} square className={classes.tabsHeader}>\n        <Tabs\n          value={tab}\n          onChange={handleChangeTab}\n          variant=\"fullWidth\"\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          aria-label=\"icon label tabs example\"\n        >\n          <Tab\n            value={\"open\"}\n            icon={<MoveToInboxIcon />}\n            label={i18n.t(\"tickets.tabs.open.title\")}\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"closed\"}\n            icon={<CheckBoxIcon />}\n            label={i18n.t(\"tickets.tabs.closed.title\")}\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"search\"}\n            icon={<SearchIcon />}\n            label={i18n.t(\"tickets.tabs.search.title\")}\n            classes={{ root: classes.tab }}\n          />\n        </Tabs>\n      </Paper>\n      <Paper square elevation={0} className={classes.ticketOptionsBox}>\n        {tab === \"search\" ? (\n          <div className={classes.serachInputWrapper}>\n            <SearchIcon className={classes.searchIcon} />\n            <InputBase\n              className={classes.searchInput}\n              inputRef={searchInputRef}\n              placeholder={i18n.t(\"tickets.search.placeholder\")}\n              type=\"search\"\n              onChange={handleSearch}\n            />\n          </div>\n        ) : (\n          <>\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={() => setNewTicketModalOpen(true)}\n            >\n              {i18n.t(\"ticketsManager.buttons.newTicket\")}\n            </Button>\n            <Can\n              role={user.profile}\n              perform=\"tickets-manager:showall\"\n              yes={() => (\n                <FormControlLabel\n                  label={i18n.t(\"tickets.buttons.showAll\")}\n                  labelPlacement=\"start\"\n                  control={\n                    <Switch\n                      size=\"small\"\n                      checked={showAllTickets}\n                      onChange={() =>\n                        setShowAllTickets((prevState) => !prevState)\n                      }\n                      name=\"showAllTickets\"\n                      color=\"primary\"\n                    />\n                  }\n                />\n              )}\n            />\n          </>\n        )}\n        <TicketsQueueSelect\n          style={{ marginLeft: 6 }}\n          selectedQueueIds={selectedQueueIds}\n          userQueues={user?.queues}\n          onChange={(values) => setSelectedQueueIds(values)}\n        />\n      </Paper>\n      <TabPanel value={tab} name=\"open\" className={classes.ticketsWrapper}>\n        <Tabs\n          value={tabOpen}\n          onChange={handleChangeTabOpen}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"fullWidth\"\n        >\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={openCount}\n                color=\"primary\"\n              >\n                {i18n.t(\"ticketsList.assignedHeader\")}\n              </Badge>\n            }\n            value={\"open\"}\n          />\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={pendingCount}\n                color=\"secondary\"\n              >\n                {i18n.t(\"ticketsList.pendingHeader\")}\n              </Badge>\n            }\n            value={\"pending\"}\n          />\n        </Tabs>\n        <Paper className={classes.ticketsWrapper}>\n          <TicketsList\n            status=\"open\"\n            showAll={showAllTickets}\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setOpenCount(val)}\n            style={applyPanelStyle(\"open\")}\n          />\n          <TicketsList\n            status=\"pending\"\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setPendingCount(val)}\n            style={applyPanelStyle(\"pending\")}\n          />\n        </Paper>\n      </TabPanel>\n      <TabPanel value={tab} name=\"closed\" className={classes.ticketsWrapper}>\n        <TicketsList\n          status=\"closed\"\n          showAll={true}\n          selectedQueueIds={selectedQueueIds}\n        />\n      </TabPanel>\n      <TabPanel value={tab} name=\"search\" className={classes.ticketsWrapper}>\n      <TagsFilter onFiltered={handleSelectedTags} />\n        <TicketsList\n          searchParam={searchParam}\n          tags={selectedTags}\n          showAll={true}\n          selectedQueueIds={selectedQueueIds}\n        />\n      </TabPanel>\n    </Paper>\n  );\n};\n\nexport default TicketsManager;\n","import { Chip, Paper, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useState } from \"react\";\nimport { isArray, isString } from \"lodash\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function TagsContainer ({ ticket }) {\n\n    const [tags, setTags] = useState([]);\n    const [selecteds, setSelecteds] = useState([]);\n\n    useEffect(() => {\n        if (ticket) {\n            async function fetchData () {\n                await loadTags();\n                if (Array.isArray(ticket.tags)) {\n                    setSelecteds(ticket.tags);\n                }\n            }\n            fetchData();\n        }\n    }, [ticket]);\n\n    const createTag = async (data) => {\n        try {\n            const { data: responseData } = await api.post(`/tags`, data);\n            return responseData;\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const loadTags = async () => {\n        try {\n            const { data } = await api.get(`/tags/list`);\n            setTags(data);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const syncTags = async (data) => {\n        try {\n            const { data: responseData } = await api.post(`/tags/sync`, data);\n            return responseData;\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const onChange = async (value, reason) => {\n        let optionsChanged = []\n        if (reason === 'create-option') {\n            if (isArray(value)) {\n                for (let item of value) {\n                    if (isString(item)) {\n                        const newTag = await createTag({ name: item })\n                        optionsChanged.push(newTag);\n                    } else {\n                        optionsChanged.push(item);\n                    }\n                }\n            }\n            await loadTags();\n        } else {\n            optionsChanged = value;\n        }\n        setSelecteds(optionsChanged);\n        await syncTags({ ticketId: ticket.id, tags: optionsChanged });\n    }\n\n    return (\n        <Paper style={{padding: 12}}>\n            <Autocomplete\n                multiple\n                size=\"small\"\n                options={tags}\n                value={selecteds}\n                freeSolo\n                onChange={(e, v, r) => onChange(v, r)}\n                getOptionLabel={(option) => option.name}\n                renderTags={(value, getTagProps) =>\n                    value.map((option, index) => (\n                        <Chip\n                            variant=\"outlined\"\n                            style={{backgroundColor: option.color || '#eee', textShadow: '1px 1px 1px #000', color: 'white'}}\n                            label={option.name}\n                            {...getTagProps({ index })}\n                            size=\"small\"\n                        />\n                    ))\n                }\n                renderInput={(params) => (\n                    <TextField {...params} variant=\"outlined\" placeholder=\"Tags\" />\n                )}\n                PaperComponent={({ children }) => (\n                    <Paper style={{width: 400, marginLeft: 12}}>\n                        {children}\n                    </Paper>\n                )}\n            />\n        </Paper>\n    )\n}","import React from \"react\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst ContactDrawerSkeleton = ({ classes }) => {\n\treturn (\n\t\t<div className={classes.content}>\n\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t<Skeleton\n\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\twidth={160}\n\t\t\t\t\theight={160}\n\t\t\t\t\tclassName={classes.contactAvatar}\n\t\t\t\t/>\n\t\t\t\t<Skeleton animation=\"wave\" height={25} width={90} />\n\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t</Paper>\n\t\t\t<Paper square className={classes.contactDetails}>\n\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t</Typography>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n};\n\nexport default ContactDrawerSkeleton;\n","import React, { useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Link from \"@material-ui/core/Link\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport ContactModal from \"../ContactModal\";\nimport ContactDrawerSkeleton from \"../ContactDrawerSkeleton\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles(theme => ({\n\tdrawer: {\n\t\twidth: drawerWidth,\n\t\tflexShrink: 0,\n\t},\n\tdrawerPaper: {\n\t\twidth: drawerWidth,\n\t\tdisplay: \"flex\",\n\t\tborderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderRight: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderTopRightRadius: 4,\n\t\tborderBottomRightRadius: 4,\n\t},\n\theader: {\n\t\tdisplay: \"flex\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tbackgroundColor: \"#eee\",\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(0, 1),\n\t\tminHeight: \"73px\",\n\t\tjustifyContent: \"flex-start\",\n\t},\n\tcontent: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: \"#eee\",\n\t\tflexDirection: \"column\",\n\t\tpadding: \"8px 0px 8px 8px\",\n\t\theight: \"100%\",\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\n\tcontactAvatar: {\n\t\tmargin: 15,\n\t\twidth: 160,\n\t\theight: 160,\n\t},\n\n\tcontactHeader: {\n\t\tdisplay: \"flex\",\n\t\tpadding: 8,\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\t\"& > *\": {\n\t\t\tmargin: 4,\n\t\t},\n\t},\n\n\tcontactDetails: {\n\t\tmarginTop: 8,\n\t\tpadding: 8,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n\tcontactExtraInfo: {\n\t\tmarginTop: 4,\n\t\tpadding: 6,\n\t},\n}));\n\nconst ContactDrawer = ({ open, handleDrawerClose, contact, loading }) => {\n\tconst classes = useStyles();\n\n\tconst [modalOpen, setModalOpen] = useState(false);\n\n\treturn (\n\t\t<Drawer\n\t\t\tclassName={classes.drawer}\n\t\t\tvariant=\"persistent\"\n\t\t\tanchor=\"right\"\n\t\t\topen={open}\n\t\t\tPaperProps={{ style: { position: \"absolute\" } }}\n\t\t\tBackdropProps={{ style: { position: \"absolute\" } }}\n\t\t\tModalProps={{\n\t\t\t\tcontainer: document.getElementById(\"drawer-container\"),\n\t\t\t\tstyle: { position: \"absolute\" },\n\t\t\t}}\n\t\t\tclasses={{\n\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t}}\n\t\t>\n\t\t\t<div className={classes.header}>\n\t\t\t\t<IconButton onClick={handleDrawerClose}>\n\t\t\t\t\t<CloseIcon />\n\t\t\t\t</IconButton>\n\t\t\t\t<Typography style={{ justifySelf: \"center\" }}>\n\t\t\t\t\t{i18n.t(\"contactDrawer.header\")}\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t\t{loading ? (\n\t\t\t\t<ContactDrawerSkeleton classes={classes} />\n\t\t\t) : (\n\t\t\t\t<div className={classes.content}>\n\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\talt={contact.name}\n\t\t\t\t\t\t\tsrc={contact.profilePicUrl}\n\t\t\t\t\t\t\tclassName={classes.contactAvatar}\n\t\t\t\t\t\t></Avatar>\n\n\t\t\t\t\t\t<Typography>{contact.name}</Typography>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<Link href={`tel:${contact.number}`}>{contact.number}</Link>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={() => setModalOpen(true)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.buttons.edit\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\n\t\t\t\t\t\t<ContactModal\n\t\t\t\t\t\t\topen={modalOpen}\n\t\t\t\t\t\t\tonClose={() => setModalOpen(false)}\n\t\t\t\t\t\t\tcontactId={contact.id}\n\t\t\t\t\t\t></ContactModal>\n\t\t\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t{contact?.extraInfo?.map(info => (\n\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\tkey={info.id}\n\t\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tclassName={classes.contactExtraInfo}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<InputLabel>{info.name}</InputLabel>\n\t\t\t\t\t\t\t\t<Typography component=\"div\" noWrap style={{ paddingTop: 2 }}>\n\t\t\t\t\t\t\t\t\t<MarkdownWrapper>{info.value}</MarkdownWrapper>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Paper>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Drawer>\n\t);\n};\n\nexport default ContactDrawer;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\ttimerBox: {\n\t\tdisplay: \"flex\",\n\t\tmarginLeft: 10,\n\t\tmarginRight: 10,\n\t\talignItems: \"center\",\n\t},\n}));\n\nconst RecordingTimer = () => {\n\tconst classes = useStyles();\n\tconst initialState = {\n\t\tminutes: 0,\n\t\tseconds: 0,\n\t};\n\tconst [timer, setTimer] = useState(initialState);\n\n\tuseEffect(() => {\n\t\tconst interval = setInterval(\n\t\t\t() =>\n\t\t\t\tsetTimer(prevState => {\n\t\t\t\t\tif (prevState.seconds === 59) {\n\t\t\t\t\t\treturn { ...prevState, minutes: prevState.minutes + 1, seconds: 0 };\n\t\t\t\t\t}\n\t\t\t\t\treturn { ...prevState, seconds: prevState.seconds + 1 };\n\t\t\t\t}),\n\t\t\t1000\n\t\t);\n\t\treturn () => {\n\t\t\tclearInterval(interval);\n\t\t};\n\t}, []);\n\n\tconst addZero = n => {\n\t\treturn n < 10 ? \"0\" + n : n;\n\t};\n\n\treturn (\n\t\t<div className={classes.timerBox}>\n\t\t\t<span>{`${addZero(timer.minutes)}:${addZero(timer.seconds)}`}</span>\n\t\t</div>\n\t);\n};\n\nexport default RecordingTimer;\n","import React, { useState, createContext } from \"react\";\n\nconst ReplyMessageContext = createContext();\n\nconst ReplyMessageProvider = ({ children }) => {\n\tconst [replyingMessage, setReplyingMessage] = useState(null);\n\n\treturn (\n\t\t<ReplyMessageContext.Provider\n\t\t\tvalue={{ replyingMessage, setReplyingMessage }}\n\t\t>\n\t\t\t{children}\n\t\t</ReplyMessageContext.Provider>\n\t);\n};\n\nexport { ReplyMessageContext, ReplyMessageProvider };\n","import React, { useState, useEffect, useContext, useRef } from \"react\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { useParams } from \"react-router-dom\";\nimport { Picker } from \"emoji-mart\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\nimport clsx from \"clsx\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { green } from \"@material-ui/core/colors\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MoreVert from \"@material-ui/icons/MoreVert\";\nimport MoodIcon from \"@material-ui/icons/Mood\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport CheckCircleOutlineIcon from \"@material-ui/icons/CheckCircleOutline\";\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\nimport {\n  FormControlLabel,\n  Hidden,\n  Menu,\n  MenuItem,\n  Switch,\n} from \"@material-ui/core\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport RecordingTimer from \"./RecordingTimer\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\nimport toastError from \"../../errors/toastError\";\n\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\n\nconst useStyles = makeStyles((theme) => ({\n  mainWrapper: {\n    background: \"#eee\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n    [theme.breakpoints.down(\"sm\")]: {\n      position: \"fixed\",\n      bottom: 0,\n      width: \"100%\",\n    },\n  },\n\n  newMessageBox: {\n    background: \"#eee\",\n    width: \"100%\",\n    display: \"flex\",\n    padding: \"7px\",\n    alignItems: \"center\",\n  },\n\n  messageInputWrapper: {\n    padding: 6,\n    marginRight: 7,\n    background: \"#fff\",\n    display: \"flex\",\n    borderRadius: 20,\n    flex: 1,\n    position: \"relative\",\n  },\n\n  messageInput: {\n    paddingLeft: 10,\n    flex: 1,\n    border: \"none\",\n  },\n\n  sendMessageIcons: {\n    color: \"grey\",\n  },\n\n  uploadInput: {\n    display: \"none\",\n  },\n\n  viewMediaInputWrapper: {\n    display: \"flex\",\n    padding: \"10px 13px\",\n    position: \"relative\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    backgroundColor: \"#eee\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  emojiBox: {\n    position: \"absolute\",\n    bottom: 63,\n    width: 40,\n    borderTop: \"1px solid #e8e8e8\",\n  },\n\n  circleLoading: {\n    color: green[500],\n    opacity: \"70%\",\n    position: \"absolute\",\n    top: \"20%\",\n    left: \"50%\",\n    marginLeft: -12,\n  },\n\n  audioLoading: {\n    color: green[500],\n    opacity: \"70%\",\n  },\n\n  recorderWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    alignContent: \"middle\",\n  },\n\n  cancelAudioIcon: {\n    color: \"red\",\n  },\n\n  sendAudioIcon: {\n    color: \"green\",\n  },\n\n  replyginMsgWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: 8,\n    paddingLeft: 73,\n    paddingRight: 7,\n  },\n\n  replyginMsgContainer: {\n    flex: 1,\n    marginRight: 5,\n    overflowY: \"hidden\",\n    backgroundColor: \"rgba(0, 0, 0, 0.05)\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  replyginMsgBody: {\n    padding: 10,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  replyginContactMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  replyginSelfMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n  messageQuickAnswersWrapper: {\n    margin: 0,\n    position: \"absolute\",\n    bottom: \"50px\",\n    background: \"#ffffff\",\n    padding: \"2px\",\n    border: \"1px solid #CCC\",\n    left: 0,\n    width: \"100%\",\n    \"& li\": {\n      listStyle: \"none\",\n      \"& a\": {\n        display: \"block\",\n        padding: \"8px\",\n        textOverflow: \"ellipsis\",\n        overflow: \"hidden\",\n        maxHeight: \"32px\",\n        \"&:hover\": {\n          background: \"#F1F1F1\",\n          cursor: \"pointer\",\n        },\n      },\n    },\n  },\n}));\n\nconst MessageInput = ({ ticketStatus }) => {\n  const classes = useStyles();\n  const { ticketId } = useParams();\n\n  const [medias, setMedias] = useState([]);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [showEmoji, setShowEmoji] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [recording, setRecording] = useState(false);\n  const [quickAnswers, setQuickAnswer] = useState([]);\n  const [typeBar, setTypeBar] = useState(false);\n  const inputRef = useRef();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const { setReplyingMessage, replyingMessage } =\n    useContext(ReplyMessageContext);\n  const { user } = useContext(AuthContext);\n\n  const [signMessage, setSignMessage] = useLocalStorage(\"signOption\", true);\n\n  useEffect(() => {\n    inputRef.current.focus();\n  }, [replyingMessage]);\n\n  useEffect(() => {\n    inputRef.current.focus();\n    return () => {\n      setInputMessage(\"\");\n      setShowEmoji(false);\n      setMedias([]);\n      setReplyingMessage(null);\n    };\n  }, [ticketId, setReplyingMessage]);\n\n  const handleChangeInput = (e) => {\n    setInputMessage(e.target.value);\n    handleLoadQuickAnswer(e.target.value);\n  };\n\n  const handleQuickAnswersClick = (value) => {\n    setInputMessage(value);\n    setTypeBar(false);\n  };\n\n  const handleAddEmoji = (e) => {\n    let emoji = e.native;\n    setInputMessage((prevState) => prevState + emoji);\n  };\n\n  const handleChangeMedias = (e) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    const selectedMedias = Array.from(e.target.files);\n    setMedias(selectedMedias);\n  };\n\n  const handleInputPaste = (e) => {\n    if (e.clipboardData.files[0]) {\n      setMedias([e.clipboardData.files[0]]);\n    }\n  };\n\n  const handleUploadMedia = async (e) => {\n    setLoading(true);\n    e.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"fromMe\", true);\n    medias.forEach((media) => {\n      formData.append(\"medias\", media);\n      formData.append(\"body\", media.name);\n    });\n\n    try {\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setLoading(false);\n    setMedias([]);\n  };\n\n  const handleSendMessage = async () => {\n    if (inputMessage.trim() === \"\") return;\n    setLoading(true);\n\n    const message = {\n      read: 1,\n      fromMe: true,\n      mediaUrl: \"\",\n      body: signMessage\n        ? `*${user?.name}:*\\n${inputMessage.trim()}`\n        : inputMessage.trim(),\n      quotedMsg: replyingMessage,\n    };\n    try {\n      await api.post(`/messages/${ticketId}`, message);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setInputMessage(\"\");\n    setShowEmoji(false);\n    setLoading(false);\n    setReplyingMessage(null);\n  };\n\n  const handleStartRecording = async () => {\n    setLoading(true);\n    try {\n      await navigator.mediaDevices.getUserMedia({ audio: true });\n      await Mp3Recorder.start();\n      setRecording(true);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const handleLoadQuickAnswer = async (value) => {\n    if (value && value.indexOf(\"/\") === 0) {\n      try {\n        const { data } = await api.get(\"/quickAnswers/\", {\n          params: { searchParam: inputMessage.substring(1) },\n        });\n        setQuickAnswer(data.quickAnswers);\n        if (data.quickAnswers.length > 0) {\n          setTypeBar(true);\n        } else {\n          setTypeBar(false);\n        }\n      } catch (err) {\n        setTypeBar(false);\n      }\n    } else {\n      setTypeBar(false);\n    }\n  };\n\n  const handleUploadAudio = async () => {\n    setLoading(true);\n    try {\n      const [, blob] = await Mp3Recorder.stop().getMp3();\n      if (blob.size < 10000) {\n        setLoading(false);\n        setRecording(false);\n        return;\n      }\n\n      const formData = new FormData();\n      const filename = `audio-record-site-${new Date().getTime()}.mp3`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", filename);\n      formData.append(\"fromMe\", true);\n\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setRecording(false);\n    setLoading(false);\n  };\n\n  const handleCancelAudio = async () => {\n    try {\n      await Mp3Recorder.stop().getMp3();\n      setRecording(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenMenuClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuItemClick = (event) => {\n    setAnchorEl(null);\n  };\n\n  const renderReplyingMessage = (message) => {\n    return (\n      <div className={classes.replyginMsgWrapper}>\n        <div className={classes.replyginMsgContainer}>\n          <span\n            className={clsx(classes.replyginContactMsgSideColor, {\n              [classes.replyginSelfMsgSideColor]: !message.fromMe,\n            })}\n          ></span>\n          <div className={classes.replyginMsgBody}>\n            {!message.fromMe && (\n              <span className={classes.messageContactName}>\n                {message.contact?.name}\n              </span>\n            )}\n            {message.body}\n          </div>\n        </div>\n        <IconButton\n          aria-label=\"showRecorder\"\n          component=\"span\"\n          disabled={loading || ticketStatus !== \"open\"}\n          onClick={() => setReplyingMessage(null)}\n        >\n          <ClearIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </div>\n    );\n  };\n\n  if (medias.length > 0)\n    return (\n      <Paper elevation={0} square className={classes.viewMediaInputWrapper}>\n        <IconButton\n          aria-label=\"cancel-upload\"\n          component=\"span\"\n          onClick={(e) => setMedias([])}\n        >\n          <CancelIcon className={classes.sendMessageIcons} />\n        </IconButton>\n\n        {loading ? (\n          <div>\n            <CircularProgress className={classes.circleLoading} />\n          </div>\n        ) : (\n          <span>\n            {medias[0]?.name}\n            {/* <img src={media.preview} alt=\"\"></img> */}\n          </span>\n        )}\n        <IconButton\n          aria-label=\"send-upload\"\n          component=\"span\"\n          onClick={handleUploadMedia}\n          disabled={loading}\n        >\n          <SendIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </Paper>\n    );\n  else {\n    return (\n      <Paper square elevation={0} className={classes.mainWrapper}>\n        {replyingMessage && renderReplyingMessage(replyingMessage)}\n        <div className={classes.newMessageBox}>\n          <Hidden only={[\"sm\", \"xs\"]}>\n            <IconButton\n              aria-label=\"emojiPicker\"\n              component=\"span\"\n              disabled={loading || recording || ticketStatus !== \"open\"}\n              onClick={(e) => setShowEmoji((prevState) => !prevState)}\n            >\n              <MoodIcon className={classes.sendMessageIcons} />\n            </IconButton>\n            {showEmoji ? (\n              <div className={classes.emojiBox}>\n                <ClickAwayListener onClickAway={(e) => setShowEmoji(false)}>\n                  <Picker\n                    perLine={16}\n                    showPreview={false}\n                    showSkinTones={false}\n                    onSelect={handleAddEmoji}\n                  />\n                </ClickAwayListener>\n              </div>\n            ) : null}\n\n            <input\n              multiple\n              type=\"file\"\n              id=\"upload-button\"\n              disabled={loading || recording || ticketStatus !== \"open\"}\n              className={classes.uploadInput}\n              onChange={handleChangeMedias}\n            />\n            <label htmlFor=\"upload-button\">\n              <IconButton\n                aria-label=\"upload\"\n                component=\"span\"\n                disabled={loading || recording || ticketStatus !== \"open\"}\n              >\n                <AttachFileIcon className={classes.sendMessageIcons} />\n              </IconButton>\n            </label>\n            <FormControlLabel\n              style={{ marginRight: 7, color: \"gray\" }}\n              label={i18n.t(\"messagesInput.signMessage\")}\n              labelPlacement=\"start\"\n              control={\n                <Switch\n                  size=\"small\"\n                  checked={signMessage}\n                  onChange={(e) => {\n                    setSignMessage(e.target.checked);\n                  }}\n                  name=\"showAllTickets\"\n                  color=\"primary\"\n                />\n              }\n            />\n          </Hidden>\n          <Hidden only={[\"md\", \"lg\", \"xl\"]}>\n            <IconButton\n              aria-controls=\"simple-menu\"\n              aria-haspopup=\"true\"\n              onClick={handleOpenMenuClick}\n            >\n              <MoreVert></MoreVert>\n            </IconButton>\n            <Menu\n              id=\"simple-menu\"\n              keepMounted\n              anchorEl={anchorEl}\n              open={Boolean(anchorEl)}\n              onClose={handleMenuItemClick}\n            >\n              <MenuItem onClick={handleMenuItemClick}>\n                <IconButton\n                  aria-label=\"emojiPicker\"\n                  component=\"span\"\n                  disabled={loading || recording || ticketStatus !== \"open\"}\n                  onClick={(e) => setShowEmoji((prevState) => !prevState)}\n                >\n                  <MoodIcon className={classes.sendMessageIcons} />\n                </IconButton>\n              </MenuItem>\n              <MenuItem onClick={handleMenuItemClick}>\n                <input\n                  multiple\n                  type=\"file\"\n                  id=\"upload-button\"\n                  disabled={loading || recording || ticketStatus !== \"open\"}\n                  className={classes.uploadInput}\n                  onChange={handleChangeMedias}\n                />\n                <label htmlFor=\"upload-button\">\n                  <IconButton\n                    aria-label=\"upload\"\n                    component=\"span\"\n                    disabled={loading || recording || ticketStatus !== \"open\"}\n                  >\n                    <AttachFileIcon className={classes.sendMessageIcons} />\n                  </IconButton>\n                </label>\n              </MenuItem>\n              <MenuItem onClick={handleMenuItemClick}>\n                <FormControlLabel\n                  style={{ marginRight: 7, color: \"gray\" }}\n                  label={i18n.t(\"messagesInput.signMessage\")}\n                  labelPlacement=\"start\"\n                  control={\n                    <Switch\n                      size=\"small\"\n                      checked={signMessage}\n                      onChange={(e) => {\n                        setSignMessage(e.target.checked);\n                      }}\n                      name=\"showAllTickets\"\n                      color=\"primary\"\n                    />\n                  }\n                />\n              </MenuItem>\n            </Menu>\n          </Hidden>\n          <div className={classes.messageInputWrapper}>\n            <InputBase\n              inputRef={(input) => {\n                input && input.focus();\n                input && (inputRef.current = input);\n              }}\n              className={classes.messageInput}\n              placeholder={\n                ticketStatus === \"open\"\n                  ? i18n.t(\"messagesInput.placeholderOpen\")\n                  : i18n.t(\"messagesInput.placeholderClosed\")\n              }\n              multiline\n              maxRows={5}\n              value={inputMessage}\n              onChange={handleChangeInput}\n              disabled={recording || loading || ticketStatus !== \"open\"}\n              onPaste={(e) => {\n                ticketStatus === \"open\" && handleInputPaste(e);\n              }}\n              onKeyPress={(e) => {\n                if (loading || e.shiftKey) return;\n                else if (e.key === \"Enter\") {\n                  handleSendMessage();\n                }\n              }}\n            />\n            {typeBar ? (\n              <ul className={classes.messageQuickAnswersWrapper}>\n                {quickAnswers.map((value, index) => {\n                  return (\n                    <li\n                      className={classes.messageQuickAnswersWrapperItem}\n                      key={index}\n                    >\n                      {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n                      <a onClick={() => handleQuickAnswersClick(value.message)}>\n                        {`${value.shortcut} - ${value.message}`}\n                      </a>\n                    </li>\n                  );\n                })}\n              </ul>\n            ) : (\n              <div></div>\n            )}\n          </div>\n          {inputMessage ? (\n            <IconButton\n              aria-label=\"sendMessage\"\n              component=\"span\"\n              onClick={handleSendMessage}\n              disabled={loading}\n            >\n              <SendIcon className={classes.sendMessageIcons} />\n            </IconButton>\n          ) : recording ? (\n            <div className={classes.recorderWrapper}>\n              <IconButton\n                aria-label=\"cancelRecording\"\n                component=\"span\"\n                fontSize=\"large\"\n                disabled={loading}\n                onClick={handleCancelAudio}\n              >\n                <HighlightOffIcon className={classes.cancelAudioIcon} />\n              </IconButton>\n              {loading ? (\n                <div>\n                  <CircularProgress className={classes.audioLoading} />\n                </div>\n              ) : (\n                <RecordingTimer />\n              )}\n\n              <IconButton\n                aria-label=\"sendRecordedAudio\"\n                component=\"span\"\n                onClick={handleUploadAudio}\n                disabled={loading}\n              >\n                <CheckCircleOutlineIcon className={classes.sendAudioIcon} />\n              </IconButton>\n            </div>\n          ) : (\n            <IconButton\n              aria-label=\"showRecorder\"\n              component=\"span\"\n              disabled={loading || ticketStatus !== \"open\"}\n              onClick={handleStartRecording}\n            >\n              <MicIcon className={classes.sendMessageIcons} />\n            </IconButton>\n          )}\n        </div>\n      </Paper>\n    );\n  }\n};\n\nexport default MessageInput;\n","import { useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nexport function useLocalStorage(key, initialValue) {\n\tconst [storedValue, setStoredValue] = useState(() => {\n\t\ttry {\n\t\t\tconst item = localStorage.getItem(key);\n\t\t\treturn item ? JSON.parse(item) : initialValue;\n\t\t} catch (error) {\n\t\t\ttoastError(error);\n\t\t\treturn initialValue;\n\t\t}\n\t});\n\n\tconst setValue = value => {\n\t\ttry {\n\t\t\tconst valueToStore =\n\t\t\t\tvalue instanceof Function ? value(storedValue) : value;\n\n\t\t\tsetStoredValue(valueToStore);\n\n\t\t\tlocalStorage.setItem(key, JSON.stringify(valueToStore));\n\t\t} catch (error) {\n\t\t\ttoastError(error);\n\t\t}\n\t};\n\n\treturn [storedValue, setValue];\n}\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Avatar, Card, CardHeader } from \"@material-ui/core\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketHeader: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: \"#eee\",\n\t\tflex: \"none\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t},\n}));\n\nconst TicketHeaderSkeleton = () => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Card square className={classes.ticketHeader}>\n\t\t\t<CardHeader\n\t\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\t\tavatar={\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\">\n\t\t\t\t\t\t<Avatar alt=\"contact_image\" />\n\t\t\t\t\t</Skeleton>\n\t\t\t\t}\n\t\t\t\ttitle={<Skeleton animation=\"wave\" width={80} />}\n\t\t\t\tsubheader={<Skeleton animation=\"wave\" width={140} />}\n\t\t\t/>\n\t\t</Card>\n\t);\n};\n\nexport default TicketHeaderSkeleton;\n","import React from \"react\";\n\nimport { Card, Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TicketHeaderSkeleton from \"../TicketHeaderSkeleton\";\nimport ArrowBackIos from \"@material-ui/icons/ArrowBackIos\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketHeader: {\n    display: \"flex\",\n    backgroundColor: \"#eee\",\n    flex: \"none\",\n    borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n    [theme.breakpoints.down(\"sm\")]: {\n      flexWrap: \"wrap\",\n    },\n  },\n}));\n\nconst TicketHeader = ({ loading, children }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const handleBack = () => {\n    history.push(\"/tickets\");\n  };\n\n  return (\n    <>\n      {loading ? (\n        <TicketHeaderSkeleton />\n      ) : (\n        <Card square className={classes.ticketHeader}>\n          <Button color=\"primary\" onClick={handleBack}>\n            <ArrowBackIos />\n          </Button>\n          {children}\n        </Card>\n      )}\n    </>\n  );\n};\n\nexport default TicketHeader;\n","import React from \"react\";\r\n\r\nimport { Avatar, CardHeader } from \"@material-ui/core\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst TicketInfo = ({ contact, ticket, onClick }) => {\r\n\treturn (\r\n\t\t<CardHeader\r\n\t\t\tonClick={onClick}\r\n\t\t\tstyle={{ cursor: \"pointer\" }}\r\n\t\t\ttitleTypographyProps={{ noWrap: true }}\r\n\t\t\tsubheaderTypographyProps={{ noWrap: true }}\r\n\t\t\tavatar={<Avatar src={contact.profilePicUrl} alt=\"contact_image\" />}\r\n\t\t\ttitle={`${contact.name} #${ticket.id}`}\r\n\t\t\tsubheader={\r\n\t\t\t\tticket.user &&\r\n\t\t\t\t`${i18n.t(\"messagesList.header.assignedTo\")} ${ticket.user.name} ${ticket.queue ? ' | Setor: ' + ticket.queue.name : ' | Setor: Nenhum'}`\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default TicketInfo;","import api from \"../../services/api\";\n\nconst useQueues = () => {\n\tconst findAll = async () => {\n        const { data } = await api.get(\"/queue\");\n        return data;\n    }\n\n\treturn { findAll };\n};\n\nexport default useQueues;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Select from \"@material-ui/core/Select\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { makeStyles } from \"@material-ui/core\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n\tcreateFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport useQueues from \"../../hooks/useQueues\";\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\n\nconst useStyles = makeStyles((theme) => ({\n  maxWidth: {\n    width: \"100%\",\n  },\n}));\n\nconst filterOptions = createFilterOptions({\n\ttrim: true,\n});\n\nconst TransferTicketModal = ({ modalOpen, onClose, ticketid, ticketWhatsappId }) => {\n\tconst history = useHistory();\n\tconst [options, setOptions] = useState([]);\n\tconst [queues, setQueues] = useState([]);\n\tconst [allQueues, setAllQueues] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [searchParam, setSearchParam] = useState(\"\");\n\tconst [selectedUser, setSelectedUser] = useState(null);\n\tconst [selectedQueue, setSelectedQueue] = useState('');\n\tconst [selectedWhatsapp, setSelectedWhatsapp] = useState(ticketWhatsappId);\n\tconst classes = useStyles();\n\tconst { findAll: findAllQueues } = useQueues();\n\tconst { loadingWhatsapps, whatsApps } = useWhatsApps();\n\n\tconst { user: loggedInUser } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\tconst loadQueues = async () => {\n\t\t\tconst list = await findAllQueues();\n\t\t\tsetAllQueues(list);\n\t\t\tsetQueues(list);\n\t\t}\n\t\tloadQueues();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (!modalOpen || searchParam.length < 3) {\n\t\t\tsetLoading(false);\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\t\tconst delayDebounceFn = setTimeout(() => {\n\t\t\tconst fetchUsers = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.get(\"/users/\", {\n\t\t\t\t\t\tparams: { searchParam },\n\t\t\t\t\t});\n\t\t\t\t\tsetOptions(data.users);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchUsers();\n\t\t}, 500);\n\t\treturn () => clearTimeout(delayDebounceFn);\n\t}, [searchParam, modalOpen]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetSearchParam(\"\");\n\t\tsetSelectedUser(null);\n\t};\n\n\tconst handleSaveTicket = async e => {\n\t\te.preventDefault();\n\t\tif (!ticketid) return;\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tlet data = {};\n\n\t\t\tif (selectedUser) {\n\t\t\t\tdata.userId = selectedUser.id\n\t\t\t}\n\n\t\t\tif (selectedQueue && selectedQueue !== null) {\n\t\t\t\tdata.queueId = selectedQueue\n\n\t\t\t\tif (!selectedUser) {\n\t\t\t\t\tdata.status = 'pending';\n\t\t\t\t\tdata.userId = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(selectedWhatsapp) {\n\t\t\t\tdata.whatsappId = selectedWhatsapp;\n\t\t\t}\n\n\t\t\tawait api.put(`/tickets/${ticketid}`, data);\n\n\t\t\tsetLoading(false);\n\t\t\thistory.push(`/tickets`);\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Dialog open={modalOpen} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t<form onSubmit={handleSaveTicket}>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{i18n.t(\"transferTicketModal.title\")}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t<setSelectedUser\n\t\t\t\t\t\tstyle={{ width: 300, marginBottom: 20 }}\n\t\t\t\t\t\tgetOptionLabel={option => `${option.name}`}\n\t\t\t\t\t\tonChange={(e, newValue) => {\n\t\t\t\t\t\t\tsetSelectedUser(newValue);\n\t\t\t\t\t\t\tif (newValue != null && Array.isArray(newValue.queues)) {\n\t\t\t\t\t\t\t\tsetQueues(newValue.queues);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetQueues(allQueues);\n\t\t\t\t\t\t\t\tsetSelectedQueue('');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\tfilterOptions={filterOptions}\n\t\t\t\t\t\tfreeSolo\n\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\tnoOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\trenderInput={params => (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\tlabel={i18n.t(\"transferTicketModal.fieldLabel\")}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tonChange={e => setSearchParam(e.target.value)}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t...params.InputProps,\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\n\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t{params.InputProps.endAdornment}\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl variant=\"outlined\" className={classes.maxWidth}>\n\t\t\t\t\t\t<InputLabel>{i18n.t(\"transferTicketModal.fieldQueueLabel\")}</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tvalue={selectedQueue}\n\t\t\t\t\t\t\tonChange={(e) => setSelectedQueue(e.target.value)}\n\t\t\t\t\t\t\tlabel={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuItem value={''}>&nbsp;</MenuItem>\n\t\t\t\t\t\t\t{queues.map((queue) => (\n\t\t\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>{queue.name}</MenuItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t\t<Can\n\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\tperform=\"ticket-options:transferWhatsapp\"\n\t\t\t\t\t\tyes={() => (!loadingWhatsapps && \n\t\t\t\t\t\t\t<FormControl variant=\"outlined\" className={classes.maxWidth} style={{ marginTop: 20 }}>\n\t\t\t\t\t\t\t\t<InputLabel>{i18n.t(\"transferTicketModal.fieldConnectionLabel\")}</InputLabel>\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tvalue={selectedWhatsapp}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setSelectedWhatsapp(e.target.value)}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"transferTicketModal.fieldConnectionPlaceholder\")}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{whatsApps.map((whasapp) => (\n\t\t\t\t\t\t\t\t\t\t<MenuItem key={whasapp.id} value={whasapp.id}>{whasapp.name}</MenuItem>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"transferTicketModal.buttons.cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"transferTicketModal.buttons.ok\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t</DialogActions>\n\t\t\t</form>\n\t\t</Dialog>\n\t);\n};\n\nexport default TransferTicketModal;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport TransferTicketModal from \"../TransferTicketModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Can } from \"../Can\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst TicketOptionsMenu = ({ ticket, menuOpen, handleClose, anchorEl }) => {\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\tconst [transferTicketModalOpen, setTransferTicketModalOpen] = useState(false);\n\tconst isMounted = useRef(true);\n\tconst { user } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tconst handleDeleteTicket = async () => {\n\t\ttry {\n\t\t\tawait api.delete(`/tickets/${ticket.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleOpenConfirmationModal = e => {\n\t\tsetConfirmationOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleOpenTransferModal = e => {\n\t\tsetTransferTicketModalOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleCloseTransferTicketModal = () => {\n\t\tif (isMounted.current) {\n\t\t\tsetTransferTicketModalOpen(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Menu\n\t\t\t\tid=\"menu-appbar\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\tkeepMounted\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\topen={menuOpen}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t<MenuItem onClick={handleOpenTransferModal}>\n\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.transfer\")}\n\t\t\t\t</MenuItem>\n\t\t\t\t<Can\n\t\t\t\t\trole={user.profile}\n\t\t\t\t\tperform=\"ticket-options:deleteTicket\"\n\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t<MenuItem onClick={handleOpenConfirmationModal}>\n\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.delete\")}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t</Menu>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={`${i18n.t(\"ticketOptionsMenu.confirmationModal.title\")}${\n\t\t\t\t\tticket.id\n\t\t\t\t} ${i18n.t(\"ticketOptionsMenu.confirmationModal.titleFrom\")} ${\n\t\t\t\t\tticket.contact.name\n\t\t\t\t}?`}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={setConfirmationOpen}\n\t\t\t\tonConfirm={handleDeleteTicket}\n\t\t\t>\n\t\t\t\t{i18n.t(\"ticketOptionsMenu.confirmationModal.message\")}\n\t\t\t</ConfirmationModal>\n\t\t\t<TransferTicketModal\n\t\t\t\tmodalOpen={transferTicketModalOpen}\n\t\t\t\tonClose={handleCloseTransferTicketModal}\n\t\t\t\tticketid={ticket.id}\n\t\t\t\tticketWhatsappId={ticket.whatsappId}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default TicketOptionsMenu;\n","import React, { useContext, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { IconButton } from \"@material-ui/core\";\nimport { MoreVert, Replay } from \"@material-ui/icons\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport TicketOptionsMenu from \"../TicketOptionsMenu\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles(theme => ({\n\tactionButtons: {\n\t\tmarginRight: 6,\n\t\tflex: \"none\",\n\t\talignSelf: \"center\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n}));\n\nconst TicketActionButtons = ({ ticket }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\tconst [loading, setLoading] = useState(false);\n\tconst ticketOptionsMenuOpen = Boolean(anchorEl);\n\tconst { user } = useContext(AuthContext);\n\n\tconst handleOpenTicketOptionsMenu = e => {\n\t\tsetAnchorEl(e.currentTarget);\n\t};\n\n\tconst handleCloseTicketOptionsMenu = e => {\n\t\tsetAnchorEl(null);\n\t};\n\n\tconst handleUpdateTicketStatus = async (e, status, userId) => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait api.put(`/tickets/${ticket.id}`, {\n\t\t\t\tstatus: status,\n\t\t\t\tuserId: userId || null,\n\t\t\t});\n\n\t\t\tsetLoading(false);\n\t\t\tif (status === \"open\") {\n\t\t\t\thistory.push(`/tickets/${ticket.id}`);\n\t\t\t} else {\n\t\t\t\thistory.push(\"/tickets\");\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.actionButtons}>\n\t\t\t{ticket.status === \"closed\" && (\n\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tstartIcon={<Replay />}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.reopen\")}\n\t\t\t\t</ButtonWithSpinner>\n\t\t\t)}\n\t\t\t{ticket.status === \"open\" && (\n\t\t\t\t<>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tstartIcon={<Replay />}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"pending\", null)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.return\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"closed\", user?.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.resolve\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t\t<IconButton onClick={handleOpenTicketOptionsMenu}>\n\t\t\t\t\t\t<MoreVert />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<TicketOptionsMenu\n\t\t\t\t\t\tticket={ticket}\n\t\t\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t\t\tmenuOpen={ticketOptionsMenuOpen}\n\t\t\t\t\t\thandleClose={handleCloseTicketOptionsMenu}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{ticket.status === \"pending\" && (\n\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.accept\")}\n\t\t\t\t</ButtonWithSpinner>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default TicketActionButtons;\n","import React, { useEffect, useState, useContext } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport { Button, Divider, } from \"@material-ui/core\";\n\nconst VcardPreview = ({ contact, numbers }) => {\n    const history = useHistory();\n    const { user } = useContext(AuthContext);\n\n    const [selectedContact, setContact] = useState({\n        name: \"\",\n        number: 0,\n        profilePicUrl: \"\"\n    });\n\n    useEffect(() => {\n        const delayDebounceFn = setTimeout(() => {\n            const fetchContacts = async() => {\n                try {\n                    let contactObj = {\n                        name: contact,\n                        number: numbers.replace(/\\D/g, \"\"),\n                        email: \"\"\n                    }\n                    const { data } = await api.post(\"/contact\", contactObj);\n                    setContact(data)\n\n                } catch (err) {\n                    console.log(err)\n                    toastError(err);\n                }\n            };\n            fetchContacts();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [contact, numbers]);\n\n    const handleNewChat = async() => {\n        try {\n            const { data: ticket } = await api.post(\"/tickets\", {\n                contactId: selectedContact.id,\n                userId: user.id,\n                status: \"open\",\n            });\n            history.push(`/tickets/${ticket.id}`);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    return (\n\t\t<>\n\t\t\t<div style={{\n\t\t\t\tminWidth: \"250px\",\n\t\t\t}}>\n\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t\t<Avatar src={selectedContact.profilePicUrl} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={9}>\n\t\t\t\t\t\t<Typography style={{ marginTop: \"12px\", marginLeft: \"10px\" }} variant=\"subtitle1\" color=\"primary\" gutterBottom>\n\t\t\t\t\t\t\t{selectedContact.name}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={handleNewChat}\n\t\t\t\t\t\t\tdisabled={!selectedContact.number}\n\t\t\t\t\t\t>Conversar</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t</>\n\t);\n\n};\n\nexport default VcardPreview;","import React, { useEffect } from 'react';\nimport toastError from \"../../errors/toastError\";\n\nimport { Button, Divider, Typography} from \"@material-ui/core\";\n\nconst LocationPreview = ({ image, link, description }) => {\n    useEffect(() => {}, [image, link, description]);\n\n    const handleLocation = async() => {\n        try {\n            window.open(link);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    return (\n\t\t<>\n\t\t\t<div style={{\n\t\t\t\tminWidth: \"250px\",\n\t\t\t}}>\n\t\t\t\t<div>\n\t\t\t\t\t<div style={{ float: \"left\" }}>\n\t\t\t\t\t\t<img src={image} alt=\"loc\" onClick={handleLocation} style={{ width: \"100px\" }} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{ description && (\n\t\t\t\t\t<div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n\t\t\t\t\t\t<Typography style={{ marginTop: \"12px\", marginLeft: \"15px\", marginRight: \"15px\", float: \"left\" }} variant=\"subtitle1\" color=\"primary\" gutterBottom>\n\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: description.replace('\\\\n', '<br />') }}></div>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div style={{ display: \"block\", content: \"\", clear: \"both\" }}></div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={handleLocation}\n\t\t\t\t\t\t\tdisabled={!link}\n\t\t\t\t\t\t>Visualizar</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n\n};\n\nexport default LocationPreview;","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport ModalImage from \"react-modal-image\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles(theme => ({\n\tmessageMedia: {\n\t\tobjectFit: \"cover\",\n\t\twidth: 250,\n\t\theight: 200,\n\t\tborderTopLeftRadius: 8,\n\t\tborderTopRightRadius: 8,\n\t\tborderBottomLeftRadius: 8,\n\t\tborderBottomRightRadius: 8,\n\t},\n}));\n\nconst ModalImageCors = ({ imageUrl }) => {\n\tconst classes = useStyles();\n\tconst [fetching, setFetching] = useState(true);\n\tconst [blobUrl, setBlobUrl] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tif (!imageUrl) return;\n\t\tconst fetchImage = async () => {\n\t\t\tconst { data, headers } = await api.get(imageUrl, {\n\t\t\t\tresponseType: \"blob\",\n\t\t\t});\n\t\t\tconst url = window.URL.createObjectURL(\n\t\t\t\tnew Blob([data], { type: headers[\"content-type\"] })\n\t\t\t);\n\t\t\tsetBlobUrl(url);\n\t\t\tsetFetching(false);\n\t\t};\n\t\tfetchImage();\n\t}, [imageUrl]);\n\n\treturn (\n\t\t<ModalImage\n\t\t\tclassName={classes.messageMedia}\n\t\t\tsmallSrcSet={fetching ? imageUrl : blobUrl}\n\t\t\tmedium={fetching ? imageUrl : blobUrl}\n\t\t\tlarge={fetching ? imageUrl : blobUrl}\n\t\t\tshowRotate=\"true\"\n\t\t\talt=\"image\"\n\t\t/>\n\t\t\n\t);\n};\n\nexport default ModalImageCors;\n","import React, { useState, useContext } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { Menu } from \"@material-ui/core\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst MessageOptionsMenu = ({ message, menuOpen, handleClose, anchorEl }) => {\n  const { setReplyingMessage } = useContext(ReplyMessageContext);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n\n  const handleDeleteMessage = async () => {\n    try {\n      await api.delete(`/messages/${message.id}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const hanldeReplyMessage = () => {\n    setReplyingMessage(message);\n    handleClose();\n  };\n\n  const handleOpenConfirmationModal = (e) => {\n    setConfirmationOpen(true);\n    handleClose();\n  };\n\n  return (\n    <>\n      <ConfirmationModal\n        title={i18n.t(\"messageOptionsMenu.confirmationModal.title\")}\n        open={confirmationOpen}\n        onClose={setConfirmationOpen}\n        onConfirm={handleDeleteMessage}\n      >\n        {i18n.t(\"messageOptionsMenu.confirmationModal.message\")}\n      </ConfirmationModal>\n      <Menu\n        anchorEl={anchorEl}\n        getContentAnchorEl={null}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"right\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"right\",\n        }}\n        open={menuOpen}\n        onClose={handleClose}\n      >\n        {message.fromMe && (\n          <MenuItem onClick={handleOpenConfirmationModal}>\n            {i18n.t(\"messageOptionsMenu.delete\")}\n          </MenuItem>\n        )}\n        <MenuItem onClick={hanldeReplyMessage}>\n          {i18n.t(\"messageOptionsMenu.reply\")}\n        </MenuItem>\n      </Menu>\n    </>\n  );\n};\n\nexport default MessageOptionsMenu;\n","import React, { useState, useEffect, useReducer, useRef  } from \"react\";\r\n\r\nimport { isSameDay, parseISO, format } from \"date-fns\";\r\nimport openSocket from \"socket.io-client\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { blue } from \"@material-ui/core/colors\";\r\nimport {\r\n  Button,\r\n  CircularProgress,\r\n  Divider,\r\n  IconButton,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  AccessTime,\r\n  Block,\r\n  Done,\r\n  DoneAll,\r\n  ExpandMore,\r\n  GetApp,\r\n} from \"@material-ui/icons\";\r\n\r\nimport MarkdownWrapper from \"../MarkdownWrapper\";\r\nimport VcardPreview from \"../VcardPreview\";\r\nimport LocationPreview from \"../LocationPreview\";\r\nimport ModalImageCors from \"../ModalImageCors\";\r\nimport MessageOptionsMenu from \"../MessageOptionsMenu\";\r\nimport whatsBackground from \"../../assets/wa-background.png\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  messagesListWrapper: {\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    flexGrow: 1,\r\n  },\r\n\r\n  messageCenter: {\r\n    marginTop: 5,\r\n    alignItems: \"center\",\r\n    verticalAlign: \"center\",\r\n    alignContent: \"center\",\r\n    backgroundColor: \"#E1F5FEEB\",\r\n    fontSize: \"12px\",\r\n    minWidth: 100,\r\n    maxWidth: 270,\r\n    color: \"#272727\",\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 8,\r\n    borderBottomLeftRadius: 8,\r\n    borderBottomRightRadius: 8,\r\n    paddingLeft: 5,\r\n    paddingRight: 5,\r\n    paddingTop: 5,\r\n    paddingBottom: 0,\r\n    boxShadow: \"0 1px 1px #b3b3b3\",\r\n  },\r\n\r\n  messagesList: {\r\n    backgroundImage: `url(${whatsBackground})`,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    flexGrow: 1,\r\n    padding: \"20px 20px 20px 20px\",\r\n    overflowY: \"scroll\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      paddingBottom: \"90px\",\r\n    },\r\n    ...theme.scrollbarStyles,\r\n  },\r\n\r\n  circleLoading: {\r\n    color: blue[500],\r\n    position: \"absolute\",\r\n    opacity: \"70%\",\r\n    top: 0,\r\n    left: \"50%\",\r\n    marginTop: 12,\r\n  },\r\n\r\n  messageLeft: {\r\n    marginRight: 20,\r\n    marginTop: 2,\r\n    minWidth: 100,\r\n    maxWidth: 600,\r\n    height: \"auto\",\r\n    display: \"block\",\r\n    position: \"relative\",\r\n    \"&:hover #messageActionsButton\": {\r\n      display: \"flex\",\r\n      position: \"absolute\",\r\n      top: 0,\r\n      right: 0,\r\n    },\r\n\r\n    whiteSpace: \"pre-wrap\",\r\n    backgroundColor: \"#ffffff\",\r\n    color: \"#303030\",\r\n    alignSelf: \"flex-start\",\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 8,\r\n    borderBottomLeftRadius: 8,\r\n    borderBottomRightRadius: 8,\r\n    paddingLeft: 5,\r\n    paddingRight: 5,\r\n    paddingTop: 5,\r\n    paddingBottom: 0,\r\n    boxShadow: \"0 1px 1px #b3b3b3\",\r\n  },\r\n\r\n  quotedContainerLeft: {\r\n    margin: \"-3px -80px 6px -6px\",\r\n    overflow: \"hidden\",\r\n    backgroundColor: \"#f0f0f0\",\r\n    borderRadius: \"7.5px\",\r\n    display: \"flex\",\r\n    position: \"relative\",\r\n  },\r\n\r\n  quotedMsg: {\r\n    padding: 10,\r\n    maxWidth: 300,\r\n    height: \"auto\",\r\n    display: \"block\",\r\n    whiteSpace: \"pre-wrap\",\r\n    overflow: \"hidden\",\r\n  },\r\n\r\n  quotedSideColorLeft: {\r\n    flex: \"none\",\r\n    width: \"4px\",\r\n    backgroundColor: \"#6bcbef\",\r\n  },\r\n\r\n  messageRight: {\r\n    marginLeft: 20,\r\n    marginTop: 2,\r\n    minWidth: 100,\r\n    maxWidth: 600,\r\n    height: \"auto\",\r\n    display: \"block\",\r\n    position: \"relative\",\r\n    \"&:hover #messageActionsButton\": {\r\n      display: \"flex\",\r\n      position: \"absolute\",\r\n      top: 0,\r\n      right: 0,\r\n    },\r\n\r\n    whiteSpace: \"pre-wrap\",\r\n    backgroundColor: \"#dcf8c6\",\r\n    color: \"#303030\",\r\n    alignSelf: \"flex-end\",\r\n    borderTopLeftRadius: 8,\r\n    borderTopRightRadius: 8,\r\n    borderBottomLeftRadius: 8,\r\n    borderBottomRightRadius: 0,\r\n    paddingLeft: 5,\r\n    paddingRight: 5,\r\n    paddingTop: 5,\r\n    paddingBottom: 0,\r\n    boxShadow: \"0 1px 1px #b3b3b3\",\r\n  },\r\n\r\n  quotedContainerRight: {\r\n    margin: \"-3px -80px 6px -6px\",\r\n    overflowY: \"hidden\",\r\n    backgroundColor: \"#cfe9ba\",\r\n    borderRadius: \"7.5px\",\r\n    display: \"flex\",\r\n    position: \"relative\",\r\n  },\r\n\r\n  quotedMsgRight: {\r\n    padding: 10,\r\n    maxWidth: 300,\r\n    height: \"auto\",\r\n    whiteSpace: \"pre-wrap\",\r\n  },\r\n\r\n  quotedSideColorRight: {\r\n    flex: \"none\",\r\n    width: \"4px\",\r\n    backgroundColor: \"#35cd96\",\r\n  },\r\n\r\n  messageActionsButton: {\r\n    display: \"none\",\r\n    position: \"relative\",\r\n    color: \"#999\",\r\n    zIndex: 1,\r\n    backgroundColor: \"inherit\",\r\n    opacity: \"90%\",\r\n    \"&:hover, &.Mui-focusVisible\": { backgroundColor: \"inherit\" },\r\n  },\r\n\r\n  messageContactName: {\r\n    display: \"flex\",\r\n    color: \"#6bcbef\",\r\n    fontWeight: 500,\r\n  },\r\n\r\n  textContentItem: {\r\n    overflowWrap: \"break-word\",\r\n    padding: \"3px 80px 6px 6px\",\r\n  },\r\n\r\n  textContentItemDeleted: {\r\n    fontStyle: \"italic\",\r\n    color: \"rgba(0, 0, 0, 0.36)\",\r\n    overflowWrap: \"break-word\",\r\n    padding: \"3px 80px 6px 6px\",\r\n  },\r\n\r\n  messageMedia: {\r\n    objectFit: \"cover\",\r\n    width: 250,\r\n    height: 200,\r\n    borderTopLeftRadius: 8,\r\n    borderTopRightRadius: 8,\r\n    borderBottomLeftRadius: 8,\r\n    borderBottomRightRadius: 8,\r\n  },\r\n\r\n  timestamp: {\r\n    fontSize: 11,\r\n    position: \"absolute\",\r\n    bottom: 0,\r\n    right: 5,\r\n    color: \"#999\",\r\n  },\r\n\r\n  dailyTimestamp: {\r\n    alignItems: \"center\",\r\n    textAlign: \"center\",\r\n    alignSelf: \"center\",\r\n    width: \"110px\",\r\n    backgroundColor: \"#e1f3fb\",\r\n    margin: \"10px\",\r\n    borderRadius: \"10px\",\r\n    boxShadow: \"0 1px 1px #b3b3b3\",\r\n  },\r\n\r\n  dailyTimestampText: {\r\n    color: \"#808888\",\r\n    padding: 8,\r\n    alignSelf: \"center\",\r\n    marginLeft: \"0px\",\r\n  },\r\n\r\n  ackIcons: {\r\n    fontSize: 18,\r\n    verticalAlign: \"middle\",\r\n    marginLeft: 4,\r\n  },\r\n\r\n  deletedIcon: {\r\n    fontSize: 18,\r\n    verticalAlign: \"middle\",\r\n    marginRight: 4,\r\n  },\r\n\r\n  ackDoneAllIcon: {\r\n    color: blue[500],\r\n    fontSize: 18,\r\n    verticalAlign: \"middle\",\r\n    marginLeft: 4,\r\n  },\r\n\r\n  downloadMedia: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    backgroundColor: \"inherit\",\r\n    padding: 10,\r\n  },\r\n}));\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_MESSAGES\") {\r\n    const messages = action.payload;\r\n    const newMessages = [];\r\n\r\n    messages.forEach((message) => {\r\n      const messageIndex = state.findIndex((m) => m.id === message.id);\r\n      if (messageIndex !== -1) {\r\n        state[messageIndex] = message;\r\n      } else {\r\n        newMessages.push(message);\r\n      }\r\n    });\r\n\r\n    return [...newMessages, ...state];\r\n  }\r\n\r\n  if (action.type === \"ADD_MESSAGE\") {\r\n    const newMessage = action.payload;\r\n    const messageIndex = state.findIndex((m) => m.id === newMessage.id);\r\n\r\n    if (messageIndex !== -1) {\r\n      state[messageIndex] = newMessage;\r\n    } else {\r\n      state.push(newMessage);\r\n    }\r\n\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_MESSAGE\") {\r\n    const messageToUpdate = action.payload;\r\n    const messageIndex = state.findIndex((m) => m.id === messageToUpdate.id);\r\n\r\n    if (messageIndex !== -1) {\r\n      state[messageIndex] = messageToUpdate;\r\n    }\r\n\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst MessagesList = ({ ticketId, isGroup }) => {\r\n  const classes = useStyles();\r\n\r\n  const [messagesList, dispatch] = useReducer(reducer, []);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const lastMessageRef = useRef();\r\n\r\n  const [selectedMessage, setSelectedMessage] = useState({});\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const messageOptionsMenuOpen = Boolean(anchorEl);\r\n  const currentTicketId = useRef(ticketId);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n\r\n    currentTicketId.current = ticketId;\r\n  }, [ticketId]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchMessages = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/messages/\" + ticketId, {\r\n            params: { pageNumber },\r\n          });\r\n\r\n          if (currentTicketId.current === ticketId) {\r\n            dispatch({ type: \"LOAD_MESSAGES\", payload: data.messages });\r\n            setHasMore(data.hasMore);\r\n            setLoading(false);\r\n          }\r\n\r\n          if (pageNumber === 1 && data.messages.length > 1) {\r\n            scrollToBottom();\r\n          }\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchMessages();\r\n    }, 500);\r\n    return () => {\r\n      clearTimeout(delayDebounceFn);\r\n    };\r\n  }, [pageNumber, ticketId]);\r\n\r\n  useEffect(() => {\r\n    const socket = openSocket(`${process.env.REACT_APP_BACKEND_URL}`, {\r\n      transports: [\"websocket\"],\r\n    });\r\n\r\n    socket.on(\"connect\", () => socket.emit(\"joinChatBox\", ticketId));\r\n\r\n    socket.on(\"appMessage\", (data) => {\r\n      if (data.action === \"create\") {\r\n        dispatch({ type: \"ADD_MESSAGE\", payload: data.message });\r\n        scrollToBottom();\r\n      }\r\n\r\n      if (data.action === \"update\") {\r\n        dispatch({ type: \"UPDATE_MESSAGE\", payload: data.message });\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [ticketId]);\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevPageNumber) => prevPageNumber + 1);\r\n  };\r\n\r\n  const scrollToBottom = () => {\r\n    if (lastMessageRef.current) {\r\n      lastMessageRef.current.scrollIntoView({});\r\n    }\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore) return;\r\n    const { scrollTop } = e.currentTarget;\r\n\r\n    if (scrollTop === 0) {\r\n      document.getElementById(\"messagesList\").scrollTop = 1;\r\n    }\r\n\r\n    if (loading) {\r\n      return;\r\n    }\r\n\r\n    if (scrollTop < 50) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const handleOpenMessageOptionsMenu = (e, message) => {\r\n    setAnchorEl(e.currentTarget);\r\n    setSelectedMessage(message);\r\n  };\r\n\r\n  const handleCloseMessageOptionsMenu = (e) => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const checkMessageMedia = (message) => {\r\n\r\n    if (message.mediaType === \"locationMessage\" && message.body.split('|').length >= 2) {\r\n      try {\r\n        let locationParts = message.body.split('|')\r\n        let imageLocation = locationParts[0]\r\n        let linkLocation = locationParts[1]\r\n\r\n        let descriptionLocation = null\r\n\r\n        if (locationParts.length > 2) {\r\n          descriptionLocation = message?.body?.split('|')[2]\r\n        }\r\n        return <LocationPreview image={imageLocation} link={linkLocation} description={descriptionLocation} />\r\n      } catch (err) {\r\n        console.log(\"checkMessageMedia ~ err\", err)\r\n\r\n      }\r\n    } else\r\n      if (message.mediaType === \"contactMessage\") {\r\n        let array = message.body.split(\"\\n\");\r\n        let obj = [];\r\n        let contact = \"\";\r\n        for (let index = 0; index < array.length; index++) {\r\n          const v = array[index];\r\n          let values = v.split(\":\");\r\n          for (let ind = 0; ind < values.length; ind++) {\r\n            if (values[ind].indexOf(\"+\") !== -1) {\r\n              obj.push({ number: values[ind] });\r\n            }\r\n            if (values[ind].indexOf(\"FN\") !== -1) {\r\n              contact = values[ind + 1];\r\n            }\r\n          }\r\n        }\r\n        return <VcardPreview contact={contact} numbers={obj[0].number} />\r\n      }\r\n      /*else if (message.mediaType === \"multi_vcard\") {\r\n     \r\n      \t\r\n        if(message.body !== null && message.body !== \"\") {\r\n          let newBody = JSON.parse(message.body)\r\n          return (\r\n            <>\r\n              {\r\n              newBody.map(v => (\r\n                <VcardPreview contact={v.name} numbers={v.number} />\r\n              ))\r\n              }\r\n            </>\r\n          )\r\n        } else return (<></>)\r\n      }*/\r\n      else if (message.mediaType === \"image\") {\r\n\r\n        return <ModalImageCors imageUrl={message.mediaUrl} />;\r\n      } else if (message.mediaType === \"audio\") {\r\n        return (\r\n          <audio controls>\r\n            <source src={message.mediaUrl} type=\"audio/ogg\"></source>\r\n          </audio>\r\n        );\r\n      } else if (message.mediaType === \"video\") {\r\n\r\n        return (\r\n          <video\r\n            className={classes.messageMedia}\r\n            src={message.mediaUrl}\r\n            controls\r\n          />\r\n        );\r\n      } else {\r\n\r\n        return (\r\n          <>\r\n            <div className={classes.downloadMedia}>\r\n              <Button\r\n                startIcon={<GetApp />}\r\n                color=\"primary\"\r\n                variant=\"outlined\"\r\n                target=\"_blank\"\r\n                href={message.mediaUrl}\r\n              >\r\n                Download\r\n              </Button>\r\n            </div>\r\n            <Divider />\r\n          </>\r\n        );\r\n      }\r\n  };\r\n\r\n  const renderMessageAck = (message) => {\r\n    if (message.ack === 0) {\r\n      return <AccessTime fontSize=\"small\" className={classes.ackIcons} />;\r\n    }\r\n    if (message.ack === 1) {\r\n      return <Done fontSize=\"small\" className={classes.ackIcons} />;\r\n    }\r\n    if (message.ack === 2) {\r\n      return <Done fontSize=\"small\" className={classes.ackIcons} />;\r\n    }\r\n    if (message.ack === 3) {\r\n      return <DoneAll fontSize=\"small\" className={classes.ackIcons} />;\r\n    }\r\n    if (message.ack === 4 || message.ack === 5) {\r\n      return <DoneAll fontSize=\"small\" className={classes.ackDoneAllIcon} />;\r\n    }\r\n  };\r\n\r\n  const renderDailyTimestamps = (message, index) => {\r\n    if (index === 0) {\r\n      return (\r\n        <span\r\n          className={classes.dailyTimestamp}\r\n          key={`timestamp-${message.id}`}\r\n        >\r\n          <div className={classes.dailyTimestampText}>\r\n            {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\r\n          </div>\r\n        </span>\r\n      );\r\n    }\r\n    if (index < messagesList.length - 1) {\r\n      let messageDay = parseISO(messagesList[index].createdAt);\r\n      let previousMessageDay = parseISO(messagesList[index - 1].createdAt);\r\n\r\n      if (!isSameDay(messageDay, previousMessageDay)) {\r\n        return (\r\n          <span\r\n            className={classes.dailyTimestamp}\r\n            key={`timestamp-${message.id}`}\r\n          >\r\n            <div className={classes.dailyTimestampText}>\r\n              {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\r\n            </div>\r\n          </span>\r\n        );\r\n      }\r\n    }\r\n    if (index === messagesList.length - 1) {\r\n      return (\r\n        <div\r\n          key={`ref-${message.createdAt}`}\r\n          ref={lastMessageRef}\r\n          style={{ float: \"left\", clear: \"both\" }}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  const renderMessageDivider = (message, index) => {\r\n    if (index < messagesList.length && index > 0) {\r\n      let messageUser = messagesList[index].fromMe;\r\n      let previousMessageUser = messagesList[index - 1].fromMe;\r\n\r\n      if (messageUser !== previousMessageUser) {\r\n        return (\r\n          <span style={{ marginTop: 16 }} key={`divider-${message.id}`}></span>\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const renderNumberTicket = (message, index) => {\r\n    if (index < messagesList.length && index > 0) {\r\n      let messageTicket = message.ticketId;\r\n      let previousMessageTicket = messagesList[index - 1].ticketId;\r\n      if (messageTicket !== previousMessageTicket) {\r\n        return (\r\n          <div key={`ticket-${message.id}`} className={classes.ticketNunber}>\r\n            #ticket: {messageTicket}\r\n            <hr />\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const renderQuotedMessage = (message) => {\r\n    return (\r\n      <div\r\n        className={clsx(classes.quotedContainerLeft, {\r\n          [classes.quotedContainerRight]: message.fromMe,\r\n        })}\r\n      >\r\n        <span\r\n          className={clsx(classes.quotedSideColorLeft, {\r\n            [classes.quotedSideColorRight]: message.quotedMsg?.fromMe,\r\n          })}\r\n        ></span>\r\n        <div className={classes.quotedMsg}>\r\n          {!message.quotedMsg?.fromMe && (\r\n            <span className={classes.messageContactName}>\r\n              {message.quotedMsg?.contact?.name}\r\n            </span>\r\n          )}\r\n          {message.quotedMsg?.body}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderMessages = () => {\r\n    if (messagesList.length > 0) {\r\n      const viewMessagesList = messagesList.map((message, index) => {\r\n        if (message.mediaType === \"call_log\") {\r\n          return (\r\n            <React.Fragment key={message.id}>\r\n              {renderDailyTimestamps(message, index)}\r\n              {renderMessageDivider(message, index)}\r\n              {renderNumberTicket(message, index)}\r\n              <div className={classes.messageCenter}>\r\n                <IconButton\r\n                  variant=\"contained\"\r\n                  size=\"small\"\r\n                  id=\"messageActionsButton\"\r\n                  disabled={message.isDeleted}\r\n                  className={classes.messageActionsButton}\r\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\r\n                >\r\n                  <ExpandMore />\r\n                </IconButton>\r\n                {isGroup && (\r\n                  <span className={classes.messageContactName}>\r\n                    {message.contact?.name}\r\n                  </span>\r\n                )}\r\n                <div>\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 17\" width=\"20\" height=\"17\">\r\n                    <path fill=\"#df3333\" d=\"M18.2 12.1c-1.5-1.8-5-2.7-8.2-2.7s-6.7 1-8.2 2.7c-.7.8-.3 2.3.2 2.8.2.2.3.3.5.3 1.4 0 3.6-.7 3.6-.7.5-.2.8-.5.8-1v-1.3c.7-1.2 5.4-1.2 6.4-.1l.1.1v1.3c0 .2.1.4.2.6.1.2.3.3.5.4 0 0 2.2.7 3.6.7.2 0 1.4-2 .5-3.1zM5.4 3.2l4.7 4.6 5.8-5.7-.9-.8L10.1 6 6.4 2.3h2.5V1H4.1v4.8h1.3V3.2z\"></path>\r\n                  </svg> <span>Chamada de voz/vdeo perdida s {format(parseISO(message.createdAt), \"HH:mm\")}</span>\r\n                </div>\r\n              </div>\r\n            </React.Fragment>\r\n          );\r\n        }\r\n        if (!message.fromMe) {\r\n          return (\r\n            <React.Fragment key={message.id}>\r\n              {renderDailyTimestamps(message, index)}\r\n              {renderMessageDivider(message, index)}\r\n              {renderNumberTicket(message, index)}\r\n              <div className={classes.messageLeft}>\r\n                <IconButton\r\n                  variant=\"contained\"\r\n                  size=\"small\"\r\n                  id=\"messageActionsButton\"\r\n                  disabled={message.isDeleted}\r\n                  className={classes.messageActionsButton}\r\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\r\n                >\r\n                  <ExpandMore />\r\n                </IconButton>\r\n                {isGroup && (\r\n                  <span className={classes.messageContactName}>\r\n                    {message.contact?.name}\r\n                  </span>\r\n                )}\r\n                {(message.mediaUrl || message.mediaType === \"contactMessage\" || message.mediaType === \"locationMessage\"\r\n                  //|| message.mediaType === \"multi_vcard\" \r\n                ) && checkMessageMedia(message)}\r\n                \r\n                <div className={classes.textContentItem}>\r\n                  {message.quotedMsg && renderQuotedMessage(message)}\r\n                  <MarkdownWrapper>{message.body}</MarkdownWrapper>\r\n                  <span className={classes.timestamp}>\r\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </React.Fragment>\r\n          );\r\n        } else {\r\n          return (\r\n            <React.Fragment key={message.id}>\r\n              {renderDailyTimestamps(message, index)}\r\n              {renderMessageDivider(message, index)}\r\n              {renderNumberTicket(message, index)}\r\n              <div className={classes.messageRight}>\r\n                <IconButton\r\n                  variant=\"contained\"\r\n                  size=\"small\"\r\n                  id=\"messageActionsButton\"\r\n                  disabled={message.isDeleted}\r\n                  className={classes.messageActionsButton}\r\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\r\n                >\r\n                  <ExpandMore />\r\n                </IconButton>\r\n                {(message.mediaUrl || message.mediaType === \"contactMessage\" || message.mediaType === \"locationMessage\"\r\n                  //|| message.mediaType === \"multi_vcard\" \r\n                ) && checkMessageMedia(message)}\r\n                <div\r\n                  className={clsx(classes.textContentItem, {\r\n                    [classes.textContentItemDeleted]: message.isDeleted,\r\n                  })}\r\n                >\r\n                  {message.isDeleted && (\r\n                    <Block\r\n                      color=\"disabled\"\r\n                      fontSize=\"small\"\r\n                      className={classes.deletedIcon}\r\n                    />\r\n                  )}\r\n                  {message.quotedMsg && renderQuotedMessage(message)}\r\n                  <MarkdownWrapper>{message.body}</MarkdownWrapper>\r\n                  <span className={classes.timestamp}>\r\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\r\n                    {renderMessageAck(message)}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </React.Fragment>\r\n          );\r\n        }\r\n      });\r\n      return viewMessagesList;\r\n    } else {\r\n      return <div>Say hello to your new contact!</div>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.messagesListWrapper}>\r\n      <MessageOptionsMenu\r\n        message={selectedMessage}\r\n        anchorEl={anchorEl}\r\n        menuOpen={messageOptionsMenuOpen}\r\n        handleClose={handleCloseMessageOptionsMenu}\r\n      />\r\n      <div\r\n        id=\"messagesList\"\r\n        className={classes.messagesList}\r\n        onScroll={handleScroll}\r\n      >\r\n        {messagesList.length > 0 ? renderMessages() : []}\r\n      </div>\r\n      {loading && (\r\n        <div>\r\n          <CircularProgress className={classes.circleLoading} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessagesList;","import React, { useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport { toast } from \"react-toastify\";\nimport openSocket from \"../../services/socket-io\";\nimport clsx from \"clsx\";\n\nimport { Paper, makeStyles } from \"@material-ui/core\";\nimport { TagsContainer } from \"../TagsContainer\";\n\nimport ContactDrawer from \"../ContactDrawer\";\nimport MessageInput from \"../MessageInput/\";\nimport TicketHeader from \"../TicketHeader\";\nimport TicketInfo from \"../TicketInfo\";\nimport TicketActionButtons from \"../TicketActionButtons\";\nimport MessagesList from \"../MessagesList\";\nimport api from \"../../services/api\";\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100%\",\n    position: \"relative\",\n    overflow: \"hidden\",\n  },\n\n  ticketInfo: {\n    maxWidth: \"50%\",\n    flexBasis: \"50%\",\n    [theme.breakpoints.down(\"sm\")]: {\n      maxWidth: \"80%\",\n      flexBasis: \"80%\",\n    },\n  },\n  ticketActionButtons: {\n    maxWidth: \"50%\",\n    flexBasis: \"50%\",\n    display: \"flex\",\n    [theme.breakpoints.down(\"sm\")]: {\n      maxWidth: \"100%\",\n      flexBasis: \"100%\",\n      marginBottom: \"5px\",\n    },\n  },\n\n  mainWrapper: {\n    flex: 1,\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    borderLeft: \"0\",\n    marginRight: -drawerWidth,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n\n  mainWrapperShift: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginRight: 0,\n  },\n}));\n\nconst Ticket = () => {\n  const { ticketId } = useParams();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [contact, setContact] = useState({});\n  const [ticket, setTicket] = useState({});\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchTicket = async () => {\n        try {\n          const { data } = await api.get(\"/tickets/\" + ticketId);\n\n          setContact(data.contact);\n          setTicket(data);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchTicket();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [ticketId, history]);\n\n  useEffect(() => {\n    const socket = openSocket();\n\n    socket.on(\"connect\", () => socket.emit(\"joinChatBox\", ticketId));\n\n    socket.on(\"ticket\", (data) => {\n      if (data.action === \"update\") {\n        setTicket(data.ticket);\n      }\n\n      if (data.action === \"delete\") {\n        toast.success(\"Ticket deleted sucessfully.\");\n        history.push(\"/tickets\");\n      }\n    });\n\n    socket.on(\"contact\", (data) => {\n      if (data.action === \"update\") {\n        setContact((prevState) => {\n          if (prevState.id === data.contact?.id) {\n            return { ...prevState, ...data.contact };\n          }\n          return prevState;\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [ticketId, history]);\n\n  const handleDrawerOpen = () => {\n    setDrawerOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setDrawerOpen(false);\n  };\n\n  return (\n    <div className={classes.root} id=\"drawer-container\">\n      <Paper\n        variant=\"outlined\"\n        elevation={0}\n        className={clsx(classes.mainWrapper, {\n          [classes.mainWrapperShift]: drawerOpen,\n        })}\n      >\n        <TicketHeader loading={loading}>\n          <div className={classes.ticketInfo}>\n            <TicketInfo\n              contact={contact}\n              ticket={ticket}\n              onClick={handleDrawerOpen}\n            />\n          </div>\n          <div className={classes.ticketActionButtons}>\n            <TicketActionButtons ticket={ticket} />\n          </div>\n        </TicketHeader>\n        <Paper>\n          <TagsContainer ticket={ticket} />\n        </Paper>\n        <ReplyMessageProvider>\n          <MessagesList\n            ticketId={ticketId}\n            isGroup={ticket.isGroup}\n          ></MessagesList>\n          <MessageInput ticketStatus={ticket.status} />\n        </ReplyMessageProvider>\n      </Paper>\n      <ContactDrawer\n        open={drawerOpen}\n        handleDrawerClose={handleDrawerClose}\n        contact={contact}\n        loading={loading}\n      />\n    </div>\n  );\n};\n\nexport default Ticket;\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport TicketsManager from \"../../components/TicketsManager/\";\nimport Ticket from \"../../components/Ticket/\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport Hidden from \"@material-ui/core/Hidden\";\n\nconst useStyles = makeStyles((theme) => ({\n  chatContainer: {\n    flex: 1,\n    padding: 16,\n    height: `calc(100% - 48px)`,\n    overflowY: \"hidden\",\n  },\n\n  chatPapper: {\n    // backgroundColor: \"red\",\n    display: \"flex\",\n    height: \"100%\",\n  },\n\n  contactsWrapper: {\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflowY: \"hidden\",\n  },\n  contactsWrapperSmall: {\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflowY: \"hidden\",\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n  messagessWrapper: {\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n  },\n  welcomeMsg: {\n    backgroundColor: \"#eee\",\n    display: \"flex\",\n    justifyContent: \"space-evenly\",\n    alignItems: \"center\",\n    height: \"100%\",\n    textAlign: \"center\",\n    borderRadius: 0,\n  },\n  ticketsManager: {},\n  ticketsManagerClosed: {\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n}));\n\nconst Chat = () => {\n  const classes = useStyles();\n  const { ticketId } = useParams();\n\n  return (\n    <div className={classes.chatContainer}>\n      <div className={classes.chatPapper}>\n        <Grid container spacing={0}>\n          {/* <Grid item xs={4} className={classes.contactsWrapper}> */}\n          <Grid\n            item\n            xs={12}\n            md={4}\n            className={\n              ticketId ? classes.contactsWrapperSmall : classes.contactsWrapper\n            }\n          >\n            <TicketsManager />\n          </Grid>\n          <Grid item xs={12} md={8} className={classes.messagessWrapper}>\n            {/* <Grid item xs={8} className={classes.messagessWrapper}> */}\n            {ticketId ? (\n              <>\n                <Ticket />\n              </>\n            ) : (\n              <Hidden only={[\"sm\", \"xs\"]}>\n                <Paper className={classes.welcomeMsg}>\n                  {/* <Paper square variant=\"outlined\" className={classes.welcomeMsg}> */}\n                  <span>{i18n.t(\"chat.noTicketMessage\")}</span>\n                </Paper>\n              </Hidden>\n            )}\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\nimport openSocket from \"../../services/socket-io\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport UserModal from \"../../components/UserModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_USERS\") {\n    const users = action.payload;\n    const newUsers = [];\n\n    users.forEach((user) => {\n      const userIndex = state.findIndex((u) => u.id === user.id);\n      if (userIndex !== -1) {\n        state[userIndex] = user;\n      } else {\n        newUsers.push(user);\n      }\n    });\n\n    return [...state, ...newUsers];\n  }\n\n  if (action.type === \"UPDATE_USERS\") {\n    const user = action.payload;\n    const userIndex = state.findIndex((u) => u.id === user.id);\n\n    if (userIndex !== -1) {\n      state[userIndex] = user;\n      return [...state];\n    } else {\n      return [user, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_USER\") {\n    const userId = action.payload;\n\n    const userIndex = state.findIndex((u) => u.id === userId);\n    if (userIndex !== -1) {\n      state.splice(userIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Users = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [deletingUser, setDeletingUser] = useState(null);\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [users, dispatch] = useReducer(reducer, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchUsers = async () => {\n        try {\n          const { data } = await api.get(\"/users/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_USERS\", payload: data.users });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchUsers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const socket = openSocket();\n\n    socket.on(\"user\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_USERS\", payload: data.user });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.userId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(true);\n  };\n\n  const handleCloseUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditUser = (user) => {\n    setSelectedUser(user);\n    setUserModalOpen(true);\n  };\n\n  const handleDeleteUser = async (userId) => {\n    try {\n      await api.delete(`/users/${userId}`);\n      toast.success(i18n.t(\"users.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingUser(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingUser &&\n          `${i18n.t(\"users.confirmationModal.deleteTitle\")} ${\n            deletingUser.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteUser(deletingUser.id)}\n      >\n        {i18n.t(\"users.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <UserModal\n        open={userModalOpen}\n        onClose={handleCloseUserModal}\n        aria-labelledby=\"form-dialog-title\"\n        userId={selectedUser && selectedUser.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"users.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenUserModal}\n          >\n            {i18n.t(\"users.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"users.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.profile\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.whatsapp\")}\n              </TableCell>              \n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {users.map((user) => (\n                <TableRow key={user.id}>\n                  <TableCell align=\"center\">{user.name}</TableCell>\n                  <TableCell align=\"center\">{user.email}</TableCell>\n                  <TableCell align=\"center\">{user.profile}</TableCell>\n                  <TableCell align=\"center\">{user.whatsapp?.name}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditUser(user)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingUser(user);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Users;\n","import React, { useContext } from \"react\";\nimport { Route as RouterRoute, Redirect } from \"react-router-dom\";\n\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\n\nconst Route = ({ component: Component, isPrivate = false, ...rest }) => {\n  const { isAuth, loading } = useContext(AuthContext);\n\n  if (!isAuth && isPrivate) {\n    return (\n      <>\n        {loading && <BackdropLoading />}\n        <Redirect to={{ pathname: \"/login\", state: { from: rest.location } }} />\n      </>\n    );\n  }\n\n  if (isAuth && !isPrivate) {\n    return (\n      <>\n        {loading && <BackdropLoading />}\n        <Redirect to={{ pathname: \"/\", state: { from: rest.location } }} />;\n      </>\n    );\n  }\n\n  return (\n    <>\n      {loading && <BackdropLoading />}\n      <RouterRoute {...rest} component={Component} />\n    </>\n  );\n};\n\nexport default Route;\n","import React, { useState, useEffect } from \"react\";\nimport openSocket from \"socket.io-client\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { toast } from \"react-toastify\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n.js\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(8, 8, 3),\n\t},\n\n\tpaper: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tmarginBottom: 12,\n\n\t},\n\n\tsettingOption: {\n\t\tmarginLeft: \"auto\",\n\t},\n\tmargin: {\n\t\tmargin: theme.spacing(1),\n\t},\n\n}));\n\nconst Settings = () => {\n\tconst classes = useStyles();\n\n\tconst [settings, setSettings] = useState([]);\n\n\tuseEffect(() => {\n\t\tconst fetchSession = async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/settings\");\n\t\t\t\tsetSettings(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\t\tfetchSession();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n\t\tsocket.on(\"settings\", data => {\n\t\t\tif (data.action === \"update\") {\n\t\t\t\tsetSettings(prevState => {\n\t\t\t\t\tconst aux = [...prevState];\n\t\t\t\t\tconst settingIndex = aux.findIndex(s => s.key === data.setting.key);\n\t\t\t\t\taux[settingIndex].value = data.setting.value;\n\t\t\t\t\treturn aux;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, []);\n\n\tconst handleChangeSetting = async e => {\n\t\tconst selectedValue = e.target.value;\n\t\tconst settingKey = e.target.name;\n\n\t\ttry {\n\t\t\tawait api.put(`/settings/${settingKey}`, {\n\t\t\t\tvalue: selectedValue,\n\t\t\t});\n\t\t\ttoast.success(i18n.t(\"settings.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst getSettingValue = key => {\n\t\tconst { value } = settings.find(s => s.key === key);\n\t\treturn value;\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Container className={classes.container} maxWidth=\"sm\">\n\n\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tid=\"api-token-setting\"\n\t\t\t\t\t\treadonly\n\t\t\t\t\t\tlabel=\"Token Api\"\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvalue={settings && settings.length > 0 && getSettingValue(\"userApiToken\")}\n\t\t\t\t\t/>\n\t\t\t\t</Paper>\n\n\t\t\t</Container>\n\t\t</div>\n\t);\n};\n\nexport default Settings;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        alignItems: \"center\",\n        padding: theme.spacing(2),\n    },\n\n    paper: {\n        padding: theme.spacing(2),\n        display: \"flex\",\n        alignItems: \"center\",\n        marginBottom: 12,\n    },\n\n    settingOption: {\n        marginLeft: \"auto\",\n    },\n\n    margin: {\n        margin: theme.spacing(1),\n    },\n\n    color: {\n        color: \"#0241AD\"\n    },\n\n    text: {\n        marginLeft: \"42px\",\n    },\n\n    textP: {\n        marginLeft: \"42px\",\n    },\n\n}));\n\nconst Api = () => {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.root}>\n            <Container>\n                <h2>Documentao para envio de mensagens</h2>\n\n                <h2 className={classes.color}>Mtodos de Envio</h2>\n\n                <p className={classes.text}>1. Mensagens de Texto</p>\n                <p className={classes.text}>2. Mensagens de Mdia</p>\n\n                <h2 className={classes.color}>Instrues</h2>\n                <p><b>Observaes Importantes</b></p>\n                <ul>\n                    <li>Para pegar o token da API, v em TOKENS que seu token estar la, sem ele no ser possivel enviar mensagens.</li>\n                    <li>O nmero para envio no deve ter mascara ou caracteres especiais e deve ser composto por:</li>\n                    <br />\n                    <ol>\n                        <ul>\n                            <li>Cdigo do pais - Ex: 55 (Brasil)</li>\n                            <li>DDD</li>\n                            <li>Nmero</li>\n                        </ul>\n                    </ol>\n                </ul>\n                <h2 className={classes.color}>1. Mensagens de Texto</h2>\n                <p>Seguem abaixo lista de informacoes necessrias para envio das mensagens de texto:</p>\n                <p className={classes.textP}><b>URL: </b>{process.env.REACT_APP_BACKEND_URL}/api/messages/send</p>\n                <p className={classes.textP}><b>Metdo: </b>POST</p>\n                <p className={classes.textP}><b>Headers: </b>Authorization: Bearer (token) e Content-Type application/json</p>\n                <p className={classes.textP}><b>Body: </b>\"number\": \"5599999999999\", \"body\": \"Enviado via api\"</p>\n\n                <h2 className={classes.color}>2. Mensagens de Mdia</h2>\n                <p>Seguem abaixo lista de informacoes necessrias para envio de midias:</p>\n                <p className={classes.textP}><b>URL: </b>{process.env.REACT_APP_BACKEND_URL}/api/messages/send</p>\n                <p className={classes.textP}><b>Metdo: </b>POST</p>\n                <p className={classes.textP}><b>Headers: </b>Authorization: Bearer (token) e Content-Type multipart/form-data</p>\n                <p className={classes.textP}><b>Body: </b>\"number\": \"5599999999999\", \"medias\": \"aqui vai sua midia\", \"body\": \"Enviado via api\"</p>\n            </Container>\n        </div>\n    );\n};\n\nexport default Api; \n","import React from \"react\";\nimport { BrowserRouter, Switch } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\nimport { AuthProvider } from \"../context/Auth/AuthContext\";\nimport { WhatsAppsProvider } from \"../context/WhatsApp/WhatsAppsContext\";\nimport LoggedInLayout from \"../layout\";\nimport Connections from \"../pages/Connections/\";\nimport Contacts from \"../pages/Contacts/\";\nimport Dashboard from \"../pages/Dashboard/\";\nimport Login from \"../pages/Login/\";\nimport Queues from \"../pages/Queues/\";\nimport QuickAnswers from \"../pages/QuickAnswers/\";\nimport Schedules from \"../pages/Schedules/\";\nimport SendMassMessage from \"../pages/SendMassMessage\";\nimport SettingMessage from \"../pages/SettingMessage\";\nimport Settings from \"../pages/Settings/\";\nimport ShippingReport from \"../pages/ShippingReport\";\nimport Signup from \"../pages/Signup/\";\nimport Tags from \"../pages/Tags/\";\nimport Tickets from \"../pages/Tickets/\";\nimport Users from \"../pages/Users\";\nimport Route from \"./Route\";\nimport Tokens from \"../pages/tokens/\";\nimport Docs from \"../pages/docs/\";\n\n\n\n\nconst Routes = () => {\n  return (\n    <BrowserRouter>\n      <AuthProvider>\n        <Switch>\n          <Route exact path=\"/login\" component={Login} />\n          <Route exact path=\"/signup\" component={Signup} />\n          <WhatsAppsProvider>\n            <LoggedInLayout>\n              <Route exact path=\"/\" component={Dashboard} isPrivate />\n              <Route\n                exact\n                path=\"/tickets/:ticketId?\"\n                component={Tickets}\n                isPrivate\n              />\n              <Route\n                exact\n                path=\"/connections\"\n                component={Connections}\n                isPrivate\n              />\n              <Route exact path=\"/contacts\" component={Contacts} isPrivate />\n              <Route exact path=\"/users\" component={Users} isPrivate />\n               <Route exact path=\"/docs\" component={Docs} isPrivate />\n               <Route exact path=\"/tokens\" component={Tokens} isPrivate />\n              <Route\n                exact\n                path=\"/quickAnswers\"\n                component={QuickAnswers}\n                isPrivate\n              />\n              <Route exact path=\"/Settings\" component={Settings} isPrivate />\n              <Route exact path=\"/Queues\" component={Queues} isPrivate />\n              <Route exact path=\"/tags\" component={Tags} isPrivate />\n              <Route exact path=\"/schedules\" component={Schedules} isPrivate />\n              <Route exact path=\"/BulkMessage\" component={SendMassMessage} isPrivate />\n\n              <Route exact path=\"/ShippingReport\" component={ShippingReport} isPrivate />\n              <Route exact path=\"/SettingsMessage\" component={SettingMessage} isPrivate />\n              \n            </LoggedInLayout>\n          </WhatsAppsProvider>\n        </Switch>\n        <ToastContainer autoClose={3000} />\n      </AuthProvider>\n    </BrowserRouter>\n  );\n};\n\nexport default Routes;\n","import React, { useState, useEffect } from \"react\";\nimport Routes from \"./routes\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport { createTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { ptBR } from \"@material-ui/core/locale\";\n\nconst App = () => {\n  const [locale, setLocale] = useState();\n\n  const theme = createTheme(\n    {\n      scrollbarStyles: {\n        \"&::-webkit-scrollbar\": {\n          width: \"8px\",\n          height: \"8px\",\n        },\n        \"&::-webkit-scrollbar-thumb\": {\n          boxShadow: \"inset 0 0 6px rgba(0, 0, 0, 0.3)\",\n          backgroundColor: \"#606060\",\n        },\n      },\n      palette: {\n        primary: { main: \"#2576d2\" },\n      },\n    },\n    locale\n  );\n\n  useEffect(() => {\n    const i18nlocale = localStorage.getItem(\"i18nextLng\");\n    const browserLocale =\n      i18nlocale.substring(0, 2) + i18nlocale.substring(3, 5);\n\n    if (browserLocale === \"ptBR\") {\n      setLocale(ptBR);\n    }\n  }, []);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Routes />\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n\t<CssBaseline>\n\t\t<App />\n\t</CssBaseline>,\n\tdocument.getElementById(\"root\")\n);\n\n// ReactDOM.render(\n// \t<React.StrictMode>\n// \t\t<CssBaseline>\n// \t\t\t<App />\n// \t\t</CssBaseline>,\n//   </React.StrictMode>\n\n// \tdocument.getElementById(\"root\")\n// );\n"],"sourceRoot":""}